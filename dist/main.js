(()=>{"use strict";var t=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.dotRaw=function(t,e,n,i){return t*n+e*i},t.dot=function(t,e){return this.dotRaw(t.x,t.y,e.x,e.y)},t.prototype.dot=function(e){return t.dot(this,e)},t.crossRaw=function(t,e,n,i){return t*i-n*e},t.cross=function(t,e){return this.crossRaw(t.x,t.y,e.x,e.y)},t.prototype.cross=function(e){return t.cross(this,e)},t.len2Raw=function(t,e){return Math.pow(t,2)+Math.pow(e,2)},t.len2=function(t){return this.len2Raw(t.x,t.y)},t.prototype.len2=function(){return t.len2(this)},t.lenRaw=function(t,e){return Math.sqrt(this.len2Raw(t,e))},t.len=function(t){return this.lenRaw(t.x,t.y)},t.prototype.len=function(){return t.len(this)},t.normalizeRaw=function(t,e,n){void 0===n&&(n=1);var i=n/this.lenRaw(t,e);return this.mulRaw(t,e,i)},t.normalize=function(t,e){return void 0===e&&(e=1),this.normalizeRaw(t.x,t.y,e)},t.prototype.normalize=function(e){return void 0===e&&(e=1),t.normalize(this,e)},t.equalsRaw=function(t,e,n,i){return t===n&&e===i},t.equals=function(t,e){return this.equalsRaw(t.x,t.y,e.x,e.y)},t.prototype.equals=function(e){return t.equals(this,e)},t.addRaw=function(e,n,i,r){return new t(e+i,n+r)},t.add=function(t,e){return this.addRaw(t.x,t.y,e.x,e.y)},t.prototype.add=function(e){return t.add(this,e)},t.subRaw=function(e,n,i,r){return new t(e-i,n-r)},t.sub=function(t,e){return this.subRaw(t.x,t.y,e.x,e.y)},t.prototype.sub=function(e){return t.sub(this,e)},t.mulRaw=function(e,n,i){return new t(e*i,n*i)},t.mul=function(t,e){return this.mulRaw(t.x,t.y,e)},t.prototype.mul=function(e){return t.mul(this,e)},t.intersectionTimesRaw=function(e,n,i,r,o,s,a,u){var h=this.crossRaw(i-e,r-n,a-o,u-s);return new t(this.crossRaw(a-o,u-s,e-o,n-s)/h,this.crossRaw(i-e,r-n,e-o,n-s)/h)},t.intersectionTimes=function(t,e,n,i){return this.intersectionTimesRaw(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)},t.prototype.intersectionTimes=function(e,n,i){return t.intersectionTimes(this,e,n,i)},t.intersectionRaw=function(t,e,n,i,r,o,s,a){var u=this.intersectionTimesRaw(t,e,n,i,r,o,s,a);if(u)return u.y=e+(i-e)*u.x,u.x=t+(n-t)*u.x,u},t.intersection=function(t,e,n,i){return this.intersectionRaw(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)},t.prototype.intersection=function(e,n,i){return t.intersection(this,e,n,i)},t.prototype.angle=function(t){if(t){var e=this.angle(),n=t.angle();return n<e?n+2*Math.PI-e:n-e}return this.y>0?Math.acos(this.x/this.len()):2*Math.PI-Math.acos(this.x/this.len())},t}(),e=function(){function e(e,n,i,r){this.v1=new t(e,n),this.v2=new t(i,r)}return Object.defineProperty(e.prototype,"x1",{get:function(){return this.v1.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this.v1.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x2",{get:function(){return this.v2.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y2",{get:function(){return this.v2.y},enumerable:!1,configurable:!0}),e.prototype.len=function(){return this.v2.sub(this.v1).len()},e.prototype.pointAt=function(t){return this.v1.add(this.v2.sub(this.v1).mul(t))},e.prototype.before=function(t){return this.v1.add(this.v2.sub(this.v1).mul(-t/this.len()))},e.prototype.after=function(t){return this.v1.add(this.v2.sub(this.v1).mul((this.len()+t)/this.len()))},e.prototype.intersectionTimesWith=function(t){return this.v1.intersectionTimes(this.v2,t.v1,t.v2)},e.prototype.update=function(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.v1.x+=t,this.v1.y+=e,this.v2.x+=n,this.v2.y+=i},e.prototype.nearestTo=function(e){if(this.v1.equals(this.v2))return new t(this.v1.x,this.v1.y);var n=this.v2.sub(this.v1),i=n.dot(e.sub(this.v1))/n.len2();return this.pointAt(Math.max(0,Math.min(i,1)))},e}(),n=function(){function t(t){void 0===t&&(t=[]),this.vertices=t}return t.prototype.areaBetween=function(t,e){return(this.vertices[e].x-this.vertices[t].x)*(this.vertices[t].y+this.vertices[e].y)/2},t.prototype.area=function(){for(var t=0,e=this.vertices.length-1,n=0;n<this.vertices.length;n++)t+=this.areaBetween(e,n),e=n;return t},t.prototype.contains=function(t){for(var e=!1,n=0,i=this.vertices.length-1;n<this.vertices.length;i=n++)this.vertices[n].y>t.y!=this.vertices[i].y>t.y&&t.x<(this.vertices[i].x-this.vertices[n].x)*(t.y-this.vertices[n].y)/(this.vertices[i].y-this.vertices[n].y)+this.vertices[n].x&&(e=!e);return e},t.prototype.reverse=function(){this.vertices.reverse()},t.prototype.toString=function(){return this.vertices.length+" points: "+this.vertices.map((function(t){return"("+t.x.toFixed()+", "+t.y.toFixed()+")"})).join(", ")+" (area: "+this.area().toFixed()+")"},t}(),i=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},r=function(){function r(n){var i=this;this.renderer=n,this.lines=[],this.intersectionTimes=[],this.intersections=[],this.intersectionIndex=[],this.polygons=[];var r,o,s=-1;this.renderer.setMouseDownHandler((function(n){var o=new t(n.clientX,n.clientY);-1===(s=i.nearestLineIndexFrom(o,20))?(i.addLine(new e(o.x,o.y,o.x,o.y)),s=i.lines.length-1,r=i.lines[s].v2):o.sub(i.lines[s].v1).len()<20?r=i.lines[s].v1:o.sub(i.lines[s].v2).len()<20&&(r=i.lines[s].v2)})),this.renderer.setMouseUpHandler((function(t){s=-1,r=null})),this.renderer.setMouseMoveHandler((function(e){r?(r.x+=e.movementX,r.y+=e.movementY,i.updateIntersectionTimes(i.lines[s]),i.renderer.drawLine(i.lines[s],s.toString())):-1!==s&&(i.lines[s].update(e.movementX,e.movementY,e.movementX,e.movementY),i.updateIntersectionTimes(i.lines[s]),i.renderer.drawLine(i.lines[s],s.toString()));for(var n=new t(e.clientX,e.clientY),a=!1,u=o,h=0,l=i.polygons;h<l.length;h++){var c=l[h];if(c.contains(n)){c!==o&&(i.renderer.drawPolygon(c,"red"),o=c),a=!0;break}}a||(o=null),u&&u!==o&&i.renderer.drawPolygon(u,"white")}))}return r.prototype.nearestLineIndexFrom=function(t,e){void 0===e&&(e=1/0);for(var n,i=-1,r=1/0,o=0;o<this.lines.length;o++)(n=this.lines[o].nearestTo(t).sub(t).len())<e&&n<r&&(r=n,i=o);return i},r.prototype.addLine=function(t){this.addIntersectionTimes(t),this.lines.push(t),this.renderer.drawLine(t,(this.lines.length-1).toString())},r.prototype.addIntersectionTimes=function(t,e,n,i,r){void 0===e&&(e=this.lines),void 0===n&&(n=this.intersectionTimes),void 0===i&&(i=this.intersections),void 0===r&&(r=this.intersectionIndex);for(var o,s=[],a=[],u=0;u<e.length;u++)o=e[u].intersectionTimesWith(t),n[u].push(o.x),i.push(e[u].pointAt(o.x)),r[u].push(i.length-1),s.push(o.y),a.push(i.length-1);s.push(NaN),a.push(null),n.push(s),r.push(a),this.renderIntersections()},r.prototype.updateIntersectionTimes=function(t,e,n,i,r){void 0===e&&(e=this.lines),void 0===n&&(n=this.intersectionTimes),void 0===i&&(i=this.intersections),void 0===r&&(r=this.intersectionIndex);for(var o,s=e.indexOf(t),a=0;a<e.length;a++)a!==s&&(o=e[a].intersectionTimesWith(t),n[a][s]=o.x,n[s][a]=o.y,a<s?i[r[a][s]]=e[a].pointAt(o.x):i[r[s][a]]=e[a].pointAt(o.x));this.renderIntersections()},r.prototype.renderIntersections=function(){var t=this;this.renderer.clearPolygons(),this.polygons=[];var e=this.buildPartialsFromIntersectionTimes();this.buildPolygonIndexesFromPartials(e).map((function(e){return new n(e.map((function(e){return t.intersections[e]})))})).forEach((function(e){e.area()>0&&(t.polygons.push(e),t.renderer.drawPolygon(e,"white"))}))},r.prototype.testSide=function(t,e,n){return e.sub(t).cross(n.sub(t))>0},r.prototype.partialsOverlaps=function(t,e){return t[t.length-2]===e[0]&&t[t.length-1]===e[1]?2:0},r.prototype.partialsMeet=function(t,e){return t[t.length-1]===e[0]?1:0},r.prototype.buildPartialsFromIntersectionIndexes=function(t,e){for(var n=[],i=0;i<e.length;i++)if("number"==typeof e[i]){var r=i+1;for(r===e.length&&(r=0);"number"!=typeof e[r];)++r===e.length&&(r=0);i!==r&&n.push([e[i],t,e[r]])}return n},r.prototype.buildPartialsFromIntersectionTimes=function(t,e,n){void 0===t&&(t=this.lines),void 0===e&&(e=this.intersectionTimes),void 0===n&&(n=this.intersectionIndex);for(var i=e.map((function(t,n){return t.map((function(t,e){return e})).filter((function(i){return!isNaN(t[i])&&0<=t[i]&&t[i]<=1&&!isNaN(e[i][n])&&0<=e[i][n]&&e[i][n]<=1})).sort((function(e,n){return t[e]-t[n]}))})),r=[],o=function(e){for(var o=0;o<i[e].length;o++){var a=i[e][o];if(e<a){var u=n[e][i[e][o]],h=o-1,l=o+1,c=i[a].findIndex((function(t){return t===e})),p=s.testSide(t[e].v1,t[e].v2,t[a].v1),d=p?c-1:c+1,v=p?c+1:c-1,f=0<o?n[e][i[e][h]]:null,y=o<i[e].length-1?n[e][i[e][l]]:null,g=-1<d&&d<i[a].length?n[a][i[a][d]]:null,m=-1<v&&v<i[a].length?n[a][i[a][v]]:null,w=s.buildPartialsFromIntersectionIndexes(u,[f,m,y,g]);r.push.apply(r,w)}}},s=this,a=0;a<i.length;a++)o(a);return r},r.prototype.buildPolygonIndexesFromPartials=function(t){for(var e,n,r=[],o=0;o<t.length;){for(var s=0;s<t.length;s++)if(o!==s&&this.partialsOverlaps(t[o],t[s])){(e=t[o]).splice.apply(e,i([-2,2],t[s])),t.splice(s,1),s<o&&o--,(n=this.partialsOverlaps(t[o],t[o])||this.partialsMeet(t[o],t[o]))>0&&(t[o].splice(0,n),r.push(t[o]),t.splice(o,1)),o=-1;break}o++}return r},r}(),o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("stroke","black"),o.setAttribute("stroke-width","0.4px");var s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("stroke-dasharray","10, 4, 1, 4");var a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d","M 0, 0A 10, 10, 0, 0, 0, -5, -5A 10, 10, 0, 1, 1, 5, -5A 10, 10, 0, 0, 0, 0, 0"),a.setAttribute("fill","white");var u=document.createElementNS("http://www.w3.org/2000/svg","text");u.setAttribute("text-anchor","middle"),u.setAttribute("alignment-baseline","central"),u.setAttribute("font-family",'consolas, "Liberation Mono", courier, monospace'),u.setAttribute("font-weight","100"),u.setAttribute("font-size","14px"),o.appendChild(s),o.appendChild(a),o.appendChild(a.cloneNode()),o.appendChild(u),o.appendChild(u.cloneNode());var h=document.createElementNS("http://www.w3.org/2000/svg","circle");h.setAttribute("fill","green"),h.setAttribute("r","3");var l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("fill","green"),l.setAttribute("fill-opacity","0.7"),l.setAttribute("stroke-width","0.8"),l.setAttribute("stroke","black");var c=new(function(){function t(){this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.intersectionContainer=document.createElementNS("http://www.w3.org/2000/svg","g"),this.polygonContainer=document.createElementNS("http://www.w3.org/2000/svg","g"),this.lineContainer=document.createElementNS("http://www.w3.org/2000/svg","g"),this.svgGByLine=new Map,this.svgPathByPolygon=new Map,this.handlers={},this.svg.appendChild(this.intersectionContainer),this.svg.appendChild(this.polygonContainer),this.svg.appendChild(this.lineContainer)}return t.prototype._setEventHandler=function(t,e){this.handlers[t]&&this.svg.removeEventListener(t,this.handlers[t]),this.handlers[t]=e,this.svg.addEventListener(t,this.handlers[t])},t.prototype.setMouseDownHandler=function(t){this._setEventHandler("mousedown",t)},t.prototype.setMouseUpHandler=function(t){this._setEventHandler("mouseup",t)},t.prototype.setMouseMoveHandler=function(t){this._setEventHandler("mousemove",t)},t.prototype.drawLine=function(t,e){var n;this.svgGByLine.has(t)?n=this.svgGByLine.get(t):(n=o.cloneNode(!0),this.lineContainer.appendChild(n),this.svgGByLine.set(t,n));var i=n.children[0],r=n.children[1],s=n.children[2],a=n.children[3],u=n.children[4],h=t.x1.toFixed(),l=t.y1.toFixed(),c=t.x2.toFixed(),p=t.y2.toFixed();i.setAttribute("x1",h),i.setAttribute("y1",l),i.setAttribute("x2",c),i.setAttribute("y2",p),a.innerHTML=e,u.innerHTML=e;var d=180*(t.v2.sub(t.v1).angle()-Math.PI/2)/Math.PI,v=t.before(14),f=t.after(14);r.setAttribute("transform","translate("+h+", "+l+") rotate("+(isNaN(d)?0:d)+")"),s.setAttribute("transform","translate("+c+", "+p+") rotate("+(isNaN(d)?0:180+d)+")"),a.setAttribute("transform","translate("+(isNaN(v.x)?h:v.x.toFixed())+", "+(isNaN(v.y)?l:v.y.toFixed())+")"),u.setAttribute("transform","translate("+(isNaN(f.x)?c:f.x.toFixed())+", "+(isNaN(f.y)?p:f.y.toFixed())+")")},t.prototype.eraseLine=function(t){var e=this.svgGByLine.get(t);e&&(this.lineContainer.removeChild(e),this.svgGByLine.delete(t))},t.prototype.drawPoint=function(t){var e=h.cloneNode();e.setAttribute("cx",t.x.toFixed()),e.setAttribute("cy",t.y.toFixed()),this.intersectionContainer.appendChild(e)},t.prototype.clearContainer=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.prototype.clearIntersections=function(){this.clearContainer(this.intersectionContainer)},t.prototype.drawPolygon=function(t,e){var n;void 0===e&&(e="#"+(Math.floor(16677215*Math.random())+1e5).toString(16)),this.svgPathByPolygon.has(t)?n=this.svgPathByPolygon.get(t):(n=l.cloneNode(),this.polygonContainer.appendChild(n),this.svgPathByPolygon.set(t,n)),n.setAttribute("d","M "+t.vertices.map((function(t){return t.x.toFixed()+" "+t.y.toFixed()})).join(" L ")+"Z"),n.setAttribute("fill",e)},t.prototype.clearPolygons=function(){this.clearContainer(this.polygonContainer)},t}());new r(c),document.querySelector("body").appendChild(c.svg)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xwbG90Ly4vc3JjL3ZlY3RvcjIudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9saW5lLnRzIiwid2VicGFjazovL3BvbHBsb3QvLi9zcmMvcG9seWdvbi50cyIsIndlYnBhY2s6Ly9wb2xwbG90Ly4vc3JjL3BvbHBsb3QudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9zdmctcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJ4IiwieSIsImRvdFJhdyIsIngxIiwieTEiLCJ4MiIsInkyIiwiZG90IiwidSIsInYiLCJ0aGlzIiwib3RoZXIiLCJWZWN0b3IyIiwiY3Jvc3NSYXciLCJjcm9zcyIsImxlbjJSYXciLCJNYXRoIiwicG93IiwibGVuMiIsImxlblJhdyIsInNxcnQiLCJsZW4iLCJub3JtYWxpemVSYXciLCJieSIsImNvZWYiLCJtdWxSYXciLCJub3JtYWxpemUiLCJlcXVhbHNSYXciLCJlcXVhbHMiLCJhZGRSYXciLCJhZGQiLCJzdWJSYXciLCJzdWIiLCJtdWwiLCJpbnRlcnNlY3Rpb25UaW1lc1JhdyIsImZ4IiwiZnkiLCJ0eCIsInR5Iiwic3giLCJzeSIsImV4IiwiZXkiLCJkZXQiLCJpbnRlcnNlY3Rpb25UaW1lcyIsImZyb20iLCJ0byIsInN0YXJ0IiwiZW5kIiwiaW50ZXJzZWN0aW9uUmF3IiwidGltZXMiLCJpbnRlcnNlY3Rpb24iLCJhbmdsZSIsImExIiwiYTIiLCJQSSIsImFjb3MiLCJ2MSIsInYyIiwicG9pbnRBdCIsInQiLCJiZWZvcmUiLCJhZnRlciIsImludGVyc2VjdGlvblRpbWVzV2l0aCIsInVwZGF0ZSIsImR4MSIsImR5MSIsImR4MiIsImR5MiIsIm5lYXJlc3RUbyIsInAiLCJtYXgiLCJtaW4iLCJ2ZXJ0aWNlcyIsImFyZWFCZXR3ZWVuIiwiaSIsImoiLCJhcmVhIiwiYSIsImxlbmd0aCIsImNvbnRhaW5zIiwiYyIsInJldmVyc2UiLCJ0b1N0cmluZyIsIm1hcCIsInRvRml4ZWQiLCJqb2luIiwicmVuZGVyZXIiLCJsaW5lcyIsImludGVyc2VjdGlvbnMiLCJpbnRlcnNlY3Rpb25JbmRleCIsInBvbHlnb25zIiwiZHJhZ2dlZFZlY3RvcjIiLCJwb2x5Z29uQ29udGFpbmVyIiwiZHJhZ2dlZExpbmVJbmRleCIsInNldE1vdXNlRG93bkhhbmRsZXIiLCJldmVudCIsIm1vdXNlIiwiY2xpZW50WCIsImNsaWVudFkiLCJuZWFyZXN0TGluZUluZGV4RnJvbSIsImFkZExpbmUiLCJMaW5lIiwic2V0TW91c2VVcEhhbmRsZXIiLCJzZXRNb3VzZU1vdmVIYW5kbGVyIiwibW92ZW1lbnRYIiwibW92ZW1lbnRZIiwidXBkYXRlSW50ZXJzZWN0aW9uVGltZXMiLCJkcmF3TGluZSIsImlzSW5zaWRlIiwib2xkUG9seWdvbkNvbnRhaW5lciIsInBvbHlnb24iLCJkcmF3UG9seWdvbiIsInRocmVzaG9sZCIsImRpc3QiLCJuZWFyZXN0TGluZUluZGV4IiwibmVhcmVzdERpc3QiLCJsaW5lIiwiYWRkSW50ZXJzZWN0aW9uVGltZXMiLCJwdXNoIiwibmV3SW50ZXJzZWN0aW9uVGltZXMiLCJuZXdJbnRlcnNlY3Rpb25JbmRleCIsIk5hTiIsInJlbmRlckludGVyc2VjdGlvbnMiLCJpbmRleCIsImluZGV4T2YiLCJjbGVhclBvbHlnb25zIiwicGFydGlhbHMiLCJidWlsZFBhcnRpYWxzRnJvbUludGVyc2VjdGlvblRpbWVzIiwiYnVpbGRQb2x5Z29uSW5kZXhlc0Zyb21QYXJ0aWFscyIsInBvbHlnb25JbmRleCIsIlBvbHlnb24iLCJmb3JFYWNoIiwidGVzdFNpZGUiLCJ3IiwicGFydGlhbHNPdmVybGFwcyIsInAxIiwicDIiLCJwYXJ0aWFsc01lZXQiLCJidWlsZFBhcnRpYWxzRnJvbUludGVyc2VjdGlvbkluZGV4ZXMiLCJjZW50ZXIiLCJpbmRleGVzIiwicGFydHMiLCJpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXkiLCJpbnRlcnNlY3Rpb25UaW1lc0F0SSIsIl8iLCJmaWx0ZXIiLCJpc05hTiIsInNvcnQiLCJsb2NhbEluZGV4IiwibG9jYWxJbnRlckluZGV4IiwiZm9yZWlnbkluZGV4IiwiaW50ZXIiLCJwcmV2TG9jYWxJbnRlckluZGV4IiwibmV4dExvY2FsSW50ZXJJbmRleCIsImZvcmVpZ25JbnRlckluZGV4IiwiZmluZEluZGV4IiwiZm9yZWlnbmlzUmlnaHRTaWRlZCIsInByZXZGb3JlaWduSW50ZXJJbmRleCIsIm5leHRGb3JlaWduSW50ZXJJbmRleCIsInByZXZMb2NhbEludGVyIiwibmV4dExvY2FsSW50ZXIiLCJwcmV2Rm9yZWlnbkludGVyIiwibmV4dEZvcmVpZ25JbnRlciIsIm92ZXJsYXAiLCJwb2x5Z29uSW5kZXhlcyIsInNwbGljZSIsImdUZW1wbGF0ZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwic2V0QXR0cmlidXRlIiwibGluZVRlbXBsYXRlIiwiYW5jaG9yVGVtcGxhdGUiLCJ0ZXh0VGVtcGxhdGUiLCJhcHBlbmRDaGlsZCIsImNsb25lTm9kZSIsInBvaW50VGVtcGxhdGUiLCJwb2x5Z29uVGVtcGxhdGUiLCJzdmdSZW5kZXJlciIsInN2ZyIsImludGVyc2VjdGlvbkNvbnRhaW5lciIsImxpbmVDb250YWluZXIiLCJzdmdHQnlMaW5lIiwiTWFwIiwic3ZnUGF0aEJ5UG9seWdvbiIsImhhbmRsZXJzIiwiX3NldEV2ZW50SGFuZGxlciIsImhhbmRsZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm5hbWUiLCJzdmdHIiwiaGFzIiwiZ2V0Iiwic2V0Iiwic3ZnTGluZSIsImNoaWxkcmVuIiwic3ZnUGF0aEFuY2hvclN0YXJ0Iiwic3ZnUGF0aEFuY2hvckVuZCIsInN2Z1RleHRTdGFydCIsInN2Z1RleHRFbmQiLCJpbm5lckhUTUwiLCJlcmFzZUxpbmUiLCJyZW1vdmVDaGlsZCIsImRlbGV0ZSIsImRyYXdQb2ludCIsInBvaW50Iiwic3ZnQ2lyY2xlIiwiY2xlYXJDb250YWluZXIiLCJjb250YWluZXIiLCJmaXJzdENoaWxkIiwiY2xlYXJJbnRlcnNlY3Rpb25zIiwiZmlsbCIsInN2Z1BhdGgiLCJmbG9vciIsInJhbmRvbSIsIlBvbHBsb3QiLCJxdWVyeVNlbGVjdG9yIl0sIm1hcHBpbmdzIjoibUJBQUEsaUJBQ0UsV0FBbUJBLEVBQWNDLFFBQWQsSUFBQUQsTUFBQSxRQUFjLElBQUFDLE1BQUEsR0FBZCxLQUFBRCxJQUFjLEtBQUFDLElBcUluQyxPQXBJUyxFQUFBQyxPQUFQLFNBQWNDLEVBQVlDLEVBQVlDLEVBQVlDLEdBQ2hELE9BQU9ILEVBQUtFLEVBQUtELEVBQUtFLEdBRWpCLEVBQUFDLElBQVAsU0FBV0MsRUFBWUMsR0FDckIsT0FBT0MsS0FBS1IsT0FBT00sRUFBRVIsRUFBR1EsRUFBRVAsRUFBR1EsRUFBRVQsRUFBR1MsRUFBRVIsSUFFdEMsWUFBQU0sSUFBQSxTQUFJSSxHQUNGLE9BQU9DLEVBQVFMLElBQUlHLEtBQU1DLElBRXBCLEVBQUFFLFNBQVAsU0FBZ0JWLEVBQVlDLEVBQVlDLEVBQVlDLEdBQ2xELE9BQU9ILEVBQUtHLEVBQUtELEVBQUtELEdBRWpCLEVBQUFVLE1BQVAsU0FBYU4sRUFBWUMsR0FDdkIsT0FBT0MsS0FBS0csU0FBU0wsRUFBRVIsRUFBR1EsRUFBRVAsRUFBR1EsRUFBRVQsRUFBR1MsRUFBRVIsSUFFeEMsWUFBQWEsTUFBQSxTQUFNSCxHQUNKLE9BQU9DLEVBQVFFLE1BQU1KLEtBQU1DLElBRXRCLEVBQUFJLFFBQVAsU0FBZWYsRUFBV0MsR0FDeEIsT0FBT2UsS0FBS0MsSUFBSWpCLEVBQUcsR0FBS2dCLEtBQUtDLElBQUloQixFQUFHLElBRS9CLEVBQUFpQixLQUFQLFNBQVlWLEdBQ1YsT0FBT0UsS0FBS0ssUUFBUVAsRUFBRVIsRUFBR1EsRUFBRVAsSUFFN0IsWUFBQWlCLEtBQUEsV0FDRSxPQUFPTixFQUFRTSxLQUFLUixPQUVmLEVBQUFTLE9BQVAsU0FBY25CLEVBQVdDLEdBQ3ZCLE9BQU9lLEtBQUtJLEtBQUtWLEtBQUtLLFFBQVFmLEVBQUdDLEtBRTVCLEVBQUFvQixJQUFQLFNBQVdiLEdBQ1QsT0FBT0UsS0FBS1MsT0FBT1gsRUFBRVIsRUFBR1EsRUFBRVAsSUFFNUIsWUFBQW9CLElBQUEsV0FDRSxPQUFPVCxFQUFRUyxJQUFJWCxPQUVkLEVBQUFZLGFBQVAsU0FBb0J0QixFQUFXQyxFQUFXc0IsUUFBQSxJQUFBQSxNQUFBLEdBQ3hDLElBQU1DLEVBQU9ELEVBQUtiLEtBQUtTLE9BQU9uQixFQUFHQyxHQUNqQyxPQUFPUyxLQUFLZSxPQUFPekIsRUFBR0MsRUFBR3VCLElBRXBCLEVBQUFFLFVBQVAsU0FBaUJsQixFQUFZZSxHQUMzQixZQUQyQixJQUFBQSxNQUFBLEdBQ3BCYixLQUFLWSxhQUFhZCxFQUFFUixFQUFHUSxFQUFFUCxFQUFHc0IsSUFFckMsWUFBQUcsVUFBQSxTQUFVSCxHQUNSLFlBRFEsSUFBQUEsTUFBQSxHQUNEWCxFQUFRYyxVQUFVaEIsS0FBTWEsSUFFMUIsRUFBQUksVUFBUCxTQUFpQnhCLEVBQVlDLEVBQVlDLEVBQVlDLEdBQ25ELE9BQU9ILElBQU9FLEdBQU1ELElBQU9FLEdBRXRCLEVBQUFzQixPQUFQLFNBQWNwQixFQUFZQyxHQUN4QixPQUFPQyxLQUFLaUIsVUFBVW5CLEVBQUVSLEVBQUdRLEVBQUVQLEVBQUdRLEVBQUVULEVBQUdTLEVBQUVSLElBRXpDLFlBQUEyQixPQUFBLFNBQU9qQixHQUNMLE9BQU9DLEVBQVFnQixPQUFPbEIsS0FBTUMsSUFFdkIsRUFBQWtCLE9BQVAsU0FBYzFCLEVBQVlDLEVBQVlDLEVBQVlDLEdBQ2hELE9BQU8sSUFBSU0sRUFBUVQsRUFBS0UsRUFBSUQsRUFBS0UsSUFFNUIsRUFBQXdCLElBQVAsU0FBV3RCLEVBQVlDLEdBQ3JCLE9BQU9DLEtBQUttQixPQUFPckIsRUFBRVIsRUFBR1EsRUFBRVAsRUFBR1EsRUFBRVQsRUFBR1MsRUFBRVIsSUFFdEMsWUFBQTZCLElBQUEsU0FBSW5CLEdBQ0YsT0FBT0MsRUFBUWtCLElBQUlwQixLQUFNQyxJQUVwQixFQUFBb0IsT0FBUCxTQUFjNUIsRUFBWUMsRUFBWUMsRUFBWUMsR0FDaEQsT0FBTyxJQUFJTSxFQUFRVCxFQUFLRSxFQUFJRCxFQUFLRSxJQUU1QixFQUFBMEIsSUFBUCxTQUFXeEIsRUFBWUMsR0FDckIsT0FBT0MsS0FBS3FCLE9BQU92QixFQUFFUixFQUFHUSxFQUFFUCxFQUFHUSxFQUFFVCxFQUFHUyxFQUFFUixJQUV0QyxZQUFBK0IsSUFBQSxTQUFJckIsR0FDRixPQUFPQyxFQUFRb0IsSUFBSXRCLEtBQU1DLElBRXBCLEVBQUFjLE9BQVAsU0FBY3pCLEVBQVdDLEVBQVdzQixHQUNsQyxPQUFPLElBQUlYLEVBQVFaLEVBQUl1QixFQUFJdEIsRUFBSXNCLElBRTFCLEVBQUFVLElBQVAsU0FBV3pCLEVBQVllLEdBQ3JCLE9BQU9iLEtBQUtlLE9BQU9qQixFQUFFUixFQUFHUSxFQUFFUCxFQUFHc0IsSUFFL0IsWUFBQVUsSUFBQSxTQUFJVixHQUNGLE9BQU9YLEVBQVFxQixJQUFJdkIsS0FBTWEsSUFFcEIsRUFBQVcscUJBQVAsU0FDRUMsRUFBWUMsRUFBWUMsRUFBWUMsRUFDcENDLEVBQVlDLEVBQVlDLEVBQVlDLEdBRXBDLElBQU1DLEVBQU1qQyxLQUFLRyxTQUFTd0IsRUFBS0YsRUFBSUcsRUFBS0YsRUFBSUssRUFBS0YsRUFBSUcsRUFBS0YsR0FDMUQsT0FBTyxJQUFJNUIsRUFDVEYsS0FBS0csU0FBUzRCLEVBQUtGLEVBQUlHLEVBQUtGLEVBQUlMLEVBQUtJLEVBQUlILEVBQUtJLEdBQU1HLEVBQ3BEakMsS0FBS0csU0FBU3dCLEVBQUtGLEVBQUlHLEVBQUtGLEVBQUlELEVBQUtJLEVBQUlILEVBQUtJLEdBQU1HLElBR2pELEVBQUFDLGtCQUFQLFNBQ0VDLEVBQWVDLEVBQWFDLEVBQWdCQyxHQUU1QyxPQUFPdEMsS0FBS3dCLHFCQUFxQlcsRUFBSzdDLEVBQUc2QyxFQUFLNUMsRUFBRzZDLEVBQUc5QyxFQUFHOEMsRUFBRzdDLEVBQUc4QyxFQUFNL0MsRUFBRytDLEVBQU05QyxFQUFHK0MsRUFBSWhELEVBQUdnRCxFQUFJL0MsSUFFNUYsWUFBQTJDLGtCQUFBLFNBQWtCRSxFQUFhQyxFQUFnQkMsR0FDN0MsT0FBT3BDLEVBQVFnQyxrQkFBa0JsQyxLQUFNb0MsRUFBSUMsRUFBT0MsSUFFN0MsRUFBQUMsZ0JBQVAsU0FDRWQsRUFBWUMsRUFBWUMsRUFBWUMsRUFDcENDLEVBQVlDLEVBQVlDLEVBQVlDLEdBRXBDLElBQU1RLEVBQVF4QyxLQUFLd0IscUJBQXFCQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxHQUNwRSxHQUFJUSxFQUdGLE9BRkFBLEVBQU1qRCxFQUFJbUMsR0FBTUUsRUFBS0YsR0FBTWMsRUFBTWxELEVBQ2pDa0QsRUFBTWxELEVBQUltQyxHQUFNRSxFQUFLRixHQUFNZSxFQUFNbEQsRUFDMUJrRCxHQUdKLEVBQUFDLGFBQVAsU0FBb0JOLEVBQWVDLEVBQWFDLEVBQWdCQyxHQUM5RCxPQUFPdEMsS0FBS3VDLGdCQUFnQkosRUFBSzdDLEVBQUc2QyxFQUFLNUMsRUFBRzZDLEVBQUc5QyxFQUFHOEMsRUFBRzdDLEVBQUc4QyxFQUFNL0MsRUFBRytDLEVBQU05QyxFQUFHK0MsRUFBSWhELEVBQUdnRCxFQUFJL0MsSUFFdkYsWUFBQWtELGFBQUEsU0FBYUwsRUFBYUMsRUFBZ0JDLEdBQ3hDLE9BQU9wQyxFQUFRdUMsYUFBYXpDLEtBQU1vQyxFQUFJQyxFQUFPQyxJQUUvQyxZQUFBSSxNQUFBLFNBQU16QyxHQUNKLEdBQUlBLEVBQU8sQ0FDUixJQUFNMEMsRUFBSzNDLEtBQUswQyxRQUNWRSxFQUFLM0MsRUFBTXlDLFFBQ2pCLE9BQUlFLEVBQUtELEVBQ0RDLEVBQUssRUFBSXRDLEtBQUt1QyxHQUFLRixFQUVuQkMsRUFBS0QsRUFFVCxPQUFJM0MsS0FBS1QsRUFBSSxFQUNYZSxLQUFLd0MsS0FBSzlDLEtBQUtWLEVBQUlVLEtBQUtXLE9BRXhCLEVBQUlMLEtBQUt1QyxHQUFLdkMsS0FBS3dDLEtBQUs5QyxLQUFLVixFQUFJVSxLQUFLVyxRQUduRCxFQXRJQSxHQ0VBLGFBR0UsV0FDRWxCLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBRUFJLEtBQUsrQyxHQUFLLElBQUk3QyxFQUFRVCxFQUFJQyxHQUMxQk0sS0FBS2dELEdBQUssSUFBSTlDLEVBQVFQLEVBQUlDLEdBMkM5QixPQXpDRSxzQkFBSSxpQkFBRSxDLElBQU4sV0FDRSxPQUFPSSxLQUFLK0MsR0FBR3pELEcsZ0NBRWpCLHNCQUFJLGlCQUFFLEMsSUFBTixXQUNFLE9BQU9VLEtBQUsrQyxHQUFHeEQsRyxnQ0FFakIsc0JBQUksaUJBQUUsQyxJQUFOLFdBQ0UsT0FBT1MsS0FBS2dELEdBQUcxRCxHLGdDQUVqQixzQkFBSSxpQkFBRSxDLElBQU4sV0FDRSxPQUFPVSxLQUFLZ0QsR0FBR3pELEcsZ0NBRWpCLFlBQUFvQixJQUFBLFdBQ0UsT0FBT1gsS0FBS2dELEdBQUcxQixJQUFJdEIsS0FBSytDLElBQUlwQyxPQUU5QixZQUFBc0MsUUFBQSxTQUFRQyxHQUNOLE9BQU9sRCxLQUFLK0MsR0FBRzNCLElBQUlwQixLQUFLZ0QsR0FBRzFCLElBQUl0QixLQUFLK0MsSUFBSXhCLElBQUkyQixLQUU5QyxZQUFBQyxPQUFBLFNBQU9ELEdBQ0wsT0FBT2xELEtBQUsrQyxHQUFHM0IsSUFBSXBCLEtBQUtnRCxHQUFHMUIsSUFBSXRCLEtBQUsrQyxJQUFJeEIsS0FBSzJCLEVBQUlsRCxLQUFLVyxTQUV4RCxZQUFBeUMsTUFBQSxTQUFNRixHQUNKLE9BQU9sRCxLQUFLK0MsR0FBRzNCLElBQUlwQixLQUFLZ0QsR0FBRzFCLElBQUl0QixLQUFLK0MsSUFBSXhCLEtBQUt2QixLQUFLVyxNQUFRdUMsR0FBS2xELEtBQUtXLFNBRXRFLFlBQUEwQyxzQkFBQSxTQUFzQnBELEdBQ3BCLE9BQU9ELEtBQUsrQyxHQUFHYixrQkFBa0JsQyxLQUFLZ0QsR0FBSS9DLEVBQU04QyxHQUFJOUMsRUFBTStDLEtBRTVELFlBQUFNLE9BQUEsU0FBT0MsRUFBU0MsRUFBU0MsRUFBU0MsUUFBM0IsSUFBQUgsTUFBQSxRQUFTLElBQUFDLE1BQUEsUUFBUyxJQUFBQyxNQUFBLFFBQVMsSUFBQUMsTUFBQSxHQUNoQzFELEtBQUsrQyxHQUFHekQsR0FBS2lFLEVBQ2J2RCxLQUFLK0MsR0FBR3hELEdBQUtpRSxFQUNieEQsS0FBS2dELEdBQUcxRCxHQUFLbUUsRUFDYnpELEtBQUtnRCxHQUFHekQsR0FBS21FLEdBRWYsWUFBQUMsVUFBQSxTQUFVQyxHQUNSLEdBQUk1RCxLQUFLK0MsR0FBRzdCLE9BQU9sQixLQUFLZ0QsSUFDdEIsT0FBTyxJQUFJOUMsRUFBUUYsS0FBSytDLEdBQUd6RCxFQUFHVSxLQUFLK0MsR0FBR3hELEdBRXhDLElBQU1PLEVBQUlFLEtBQUtnRCxHQUFHMUIsSUFBSXRCLEtBQUsrQyxJQUNyQkcsRUFBSXBELEVBQUVELElBQUkrRCxFQUFFdEMsSUFBSXRCLEtBQUsrQyxLQUFPakQsRUFBRVUsT0FDcEMsT0FBT1IsS0FBS2lELFFBQVEzQyxLQUFLdUQsSUFBSSxFQUFHdkQsS0FBS3dELElBQUlaLEVBQUcsTUFFaEQsRUFyREEsR0NDQSxhQUNFLFdBQXFCYSxRQUFBLElBQUFBLE1BQUEsU0FBQUEsV0FpQ3ZCLE9BOUJVLFlBQUFDLFlBQVIsU0FBb0JDLEVBQVdDLEdBQzdCLE9BQVFsRSxLQUFLK0QsU0FBU0csR0FBRzVFLEVBQUlVLEtBQUsrRCxTQUFTRSxHQUFHM0UsSUFBTVUsS0FBSytELFNBQVNFLEdBQUcxRSxFQUFJUyxLQUFLK0QsU0FBU0csR0FBRzNFLEdBQUssR0FFakcsWUFBQTRFLEtBQUEsV0FHRSxJQUZBLElBQUlDLEVBQUksRUFDSkgsRUFBSWpFLEtBQUsrRCxTQUFTTSxPQUFTLEVBQ3RCSCxFQUFJLEVBQUdBLEVBQUlsRSxLQUFLK0QsU0FBU00sT0FBUUgsSUFDeENFLEdBQUtwRSxLQUFLZ0UsWUFBWUMsRUFBR0MsR0FDekJELEVBQUlDLEVBRU4sT0FBT0UsR0FFVCxZQUFBRSxTQUFBLFNBQVN2RSxHQUVQLElBREEsSUFBSXdFLEdBQUksRUFDQ04sRUFBSSxFQUFHQyxFQUFJbEUsS0FBSytELFNBQVNNLE9BQVMsRUFBR0osRUFBSWpFLEtBQUsrRCxTQUFTTSxPQUFRSCxFQUFJRCxJQUV4RWpFLEtBQUsrRCxTQUFTRSxHQUFHMUUsRUFBSVEsRUFBRVIsR0FBTVMsS0FBSytELFNBQVNHLEdBQUczRSxFQUFJUSxFQUFFUixHQUNwRFEsRUFBRVQsR0FBS1UsS0FBSytELFNBQVNHLEdBQUc1RSxFQUFJVSxLQUFLK0QsU0FBU0UsR0FBRzNFLElBQU1TLEVBQUVSLEVBQUlTLEtBQUsrRCxTQUFTRSxHQUFHMUUsSUFBTVMsS0FBSytELFNBQVNHLEdBQUczRSxFQUFJUyxLQUFLK0QsU0FBU0UsR0FBRzFFLEdBQUtTLEtBQUsrRCxTQUFTRSxHQUFHM0UsSUFFNUlpRixHQUFLQSxHQUdULE9BQU9BLEdBRVQsWUFBQUMsUUFBQSxXQUNFeEUsS0FBSytELFNBQVNTLFdBRWhCLFlBQUFDLFNBQUEsV0FDRSxPQUFVekUsS0FBSytELFNBQVNNLE9BQU0sWUFBY3JFLEtBQUsrRCxTQUFTVyxLQUFJLFNBQUEzRSxHQUFLLFVBQUlBLEVBQUVULEVBQUVxRixVQUFTLEtBQUs1RSxFQUFFUixFQUFFb0YsVUFBUyxPQUFLQyxLQUFLLE1BQVEsV0FBVzVFLEtBQUttRSxPQUFPUSxVQUFTLEtBRTVKLEVBbENBLEcsd0xDSUEsYUFNRSxXQUFxQkUsR0FBckIsV0FBcUIsS0FBQUEsV0FMckIsS0FBQUMsTUFBZ0IsR0FDaEIsS0FBQTVDLGtCQUFnQyxHQUNoQyxLQUFBNkMsY0FBMkIsR0FDM0IsS0FBQUMsa0JBQWdDLEdBQ2hDLEtBQUFDLFNBQXNCLEdBRXBCLElBQ0lDLEVBb0JBQyxFQXJCQUMsR0FBb0IsRUFFeEJwRixLQUFLNkUsU0FBU1EscUJBQW9CLFNBQUFDLEdBQ2hDLElBQU1DLEVBQVEsSUFBSXJGLEVBQVFvRixFQUFNRSxRQUFTRixFQUFNRyxVQUVyQixLQUQxQkwsRUFBbUIsRUFBS00scUJBQXFCSCxFQWIzQixNQWVoQixFQUFLSSxRQUFRLElBQUlDLEVBQUtMLEVBQU1qRyxFQUFHaUcsRUFBTWhHLEVBQUdnRyxFQUFNakcsRUFBR2lHLEVBQU1oRyxJQUN2RDZGLEVBQW1CLEVBQUtOLE1BQU1ULE9BQVMsRUFDdkNhLEVBQWlCLEVBQUtKLE1BQU1NLEdBQWtCcEMsSUFDckN1QyxFQUFNakUsSUFBSSxFQUFLd0QsTUFBTU0sR0FBa0JyQyxJQUFJcEMsTUFsQnBDLEdBbUJoQnVFLEVBQWlCLEVBQUtKLE1BQU1NLEdBQWtCckMsR0FDckN3QyxFQUFNakUsSUFBSSxFQUFLd0QsTUFBTU0sR0FBa0JwQyxJQUFJckMsTUFwQnBDLEtBcUJoQnVFLEVBQWlCLEVBQUtKLE1BQU1NLEdBQWtCcEMsT0FJbERoRCxLQUFLNkUsU0FBU2dCLG1CQUFrQixTQUFBUCxHQUM5QkYsR0FBb0IsRUFDcEJGLEVBQWlCLFFBSW5CbEYsS0FBSzZFLFNBQVNpQixxQkFBb0IsU0FBQVIsR0FDNUJKLEdBQ0ZBLEVBQWU1RixHQUFLZ0csRUFBTVMsVUFDMUJiLEVBQWUzRixHQUFLK0YsRUFBTVUsVUFDMUIsRUFBS0Msd0JBQXdCLEVBQUtuQixNQUFNTSxJQUN4QyxFQUFLUCxTQUFTcUIsU0FBUyxFQUFLcEIsTUFBTU0sR0FBbUJBLEVBQWlCWCxjQUN2QyxJQUF0QlcsSUFDVCxFQUFLTixNQUFNTSxHQUFrQjlCLE9BQU9nQyxFQUFNUyxVQUFXVCxFQUFNVSxVQUFXVixFQUFNUyxVQUFXVCxFQUFNVSxXQUM3RixFQUFLQyx3QkFBd0IsRUFBS25CLE1BQU1NLElBQ3hDLEVBQUtQLFNBQVNxQixTQUFTLEVBQUtwQixNQUFNTSxHQUFtQkEsRUFBaUJYLGFBS3hFLElBSEEsSUFBTWMsRUFBUSxJQUFJckYsRUFBUW9GLEVBQU1FLFFBQVNGLEVBQU1HLFNBQzNDVSxHQUFXLEVBQ1hDLEVBQXNCakIsRUFDSixRQUFLRixTQUFMLGVBQWUsQ0FBaEMsSUFBTW9CLEVBQU8sS0FDaEIsR0FBSUEsRUFBUS9CLFNBQVNpQixHQUFRLENBQ3ZCYyxJQUFZbEIsSUFDZCxFQUFLTixTQUFTeUIsWUFBWUQsRUFBUyxPQUNuQ2xCLEVBQW1Ca0IsR0FFckJGLEdBQVcsRUFDWCxPQUdDQSxJQUNIaEIsRUFBbUIsTUFFakJpQixHQUF1QkEsSUFBd0JqQixHQUNqRCxFQUFLTixTQUFTeUIsWUFBWUYsRUFBcUIsWUFrUHZELE9BOU9FLFlBQUFWLHFCQUFBLFNBQXFCM0YsRUFBWXdHLFFBQUEsSUFBQUEsTUFBQSxLQUkvQixJQUhBLElBRUlDLEVBRkFDLEdBQW9CLEVBQ3BCQyxFQUFjLElBRVR6QyxFQUFJLEVBQUdBLEVBQUlqRSxLQUFLOEUsTUFBTVQsT0FBUUosS0FDckN1QyxFQUFPeEcsS0FBSzhFLE1BQU1iLEdBQUdOLFVBQVU1RCxHQUFHdUIsSUFBSXZCLEdBQUdZLE9BQzlCNEYsR0FBYUMsRUFBT0UsSUFDN0JBLEVBQWNGLEVBQ2RDLEVBQW1CeEMsR0FHdkIsT0FBT3dDLEdBRVQsWUFBQWQsUUFBQSxTQUFRZ0IsR0FDTjNHLEtBQUs0RyxxQkFBcUJELEdBQzFCM0csS0FBSzhFLE1BQU0rQixLQUFLRixHQUNoQjNHLEtBQUs2RSxTQUFTcUIsU0FBU1MsR0FBTzNHLEtBQUs4RSxNQUFNVCxPQUFTLEdBQUdJLGFBRXZELFlBQUFtQyxxQkFBQSxTQUNFRCxFQUNBN0IsRUFDQTVDLEVBQ0E2QyxFQUNBQyxRQUhBLElBQUFGLE1BQVE5RSxLQUFLOEUsWUFDYixJQUFBNUMsTUFBb0JsQyxLQUFLa0Msd0JBQ3pCLElBQUE2QyxNQUFnQi9FLEtBQUsrRSxvQkFDckIsSUFBQUMsTUFBb0JoRixLQUFLZ0YsbUJBS3pCLElBSEEsSUFFSXhDLEVBRkVzRSxFQUFpQyxHQUNqQ0MsRUFBaUMsR0FFOUI5QyxFQUFJLEVBQUdBLEVBQUlhLEVBQU1ULE9BQVFKLElBQ2hDekIsRUFBUXNDLEVBQU1iLEdBQUdaLHNCQUFzQnNELEdBQ3ZDekUsRUFBa0IrQixHQUFHNEMsS0FBS3JFLEVBQU1sRCxHQUNoQ3lGLEVBQWM4QixLQUFLL0IsRUFBTWIsR0FBR2hCLFFBQVFULEVBQU1sRCxJQUMxQzBGLEVBQWtCZixHQUFHNEMsS0FBSzlCLEVBQWNWLE9BQVMsR0FDakR5QyxFQUFxQkQsS0FBS3JFLEVBQU1qRCxHQUNoQ3dILEVBQXFCRixLQUFLOUIsRUFBY1YsT0FBUyxHQUVuRHlDLEVBQXFCRCxLQUFLRyxLQUMxQkQsRUFBcUJGLEtBQUssTUFDMUIzRSxFQUFrQjJFLEtBQUtDLEdBQ3ZCOUIsRUFBa0I2QixLQUFLRSxHQUN2Qi9HLEtBQUtpSCx1QkFFUCxZQUFBaEIsd0JBQUEsU0FDRVUsRUFDQTdCLEVBQ0E1QyxFQUNBNkMsRUFDQUMsUUFIQSxJQUFBRixNQUFROUUsS0FBSzhFLFlBQ2IsSUFBQTVDLE1BQW9CbEMsS0FBS2tDLHdCQUN6QixJQUFBNkMsTUFBZ0IvRSxLQUFLK0Usb0JBQ3JCLElBQUFDLE1BQW9CaEYsS0FBS2dGLG1CQUl6QixJQUZBLElBQ0l4QyxFQURFMEUsRUFBUXBDLEVBQU1xQyxRQUFRUixHQUVuQjFDLEVBQUksRUFBR0EsRUFBSWEsRUFBTVQsT0FBUUosSUFDNUJBLElBQU1pRCxJQUNSMUUsRUFBUXNDLEVBQU1iLEdBQUdaLHNCQUFzQnNELEdBQ3ZDekUsRUFBa0IrQixHQUFHaUQsR0FBUzFFLEVBQU1sRCxFQUNwQzRDLEVBQWtCZ0YsR0FBT2pELEdBQUt6QixFQUFNakQsRUFDaEMwRSxFQUFJaUQsRUFDTm5DLEVBQWNDLEVBQWtCZixHQUFHaUQsSUFBVXBDLEVBQU1iLEdBQUdoQixRQUFRVCxFQUFNbEQsR0FFcEV5RixFQUFjQyxFQUFrQmtDLEdBQU9qRCxJQUFNYSxFQUFNYixHQUFHaEIsUUFBUVQsRUFBTWxELElBSTFFVSxLQUFLaUgsdUJBRVAsWUFBQUEsb0JBQUEsc0JBS0VqSCxLQUFLNkUsU0FBU3VDLGdCQUNkcEgsS0FBS2lGLFNBQVcsR0FDaEIsSUFBTW9DLEVBQVdySCxLQUFLc0gscUNBQ0N0SCxLQUFLdUgsZ0NBQWdDRixHQUM1QjNDLEtBQUksU0FBQThDLEdBQWdCLFdBQUlDLEVBQVFELEVBQWE5QyxLQUFJLFNBQUFULEdBQUssU0FBS2MsY0FBY2QsVUFDaEd5RCxTQUFRLFNBQUFyQixHQUNYQSxFQUFRbEMsT0FBUyxJQUNuQixFQUFLYyxTQUFTNEIsS0FBS1IsR0FDbkIsRUFBS3hCLFNBQVN5QixZQUFZRCxFQUFTLGNBSXpDLFlBQUFzQixTQUFBLFNBQVM3SCxFQUFZQyxFQUFZNkgsR0FDL0IsT0FBTzdILEVBQUV1QixJQUFJeEIsR0FBR00sTUFBTXdILEVBQUV0RyxJQUFJeEIsSUFBTSxHQUVwQyxZQUFBK0gsaUJBQUEsU0FBaUJDLEVBQWNDLEdBQzdCLE9BQU9ELEVBQUdBLEVBQUd6RCxPQUFTLEtBQU8wRCxFQUFHLElBQU1ELEVBQUdBLEVBQUd6RCxPQUFTLEtBQU8wRCxFQUFHLEdBQUssRUFBSSxHQUUxRSxZQUFBQyxhQUFBLFNBQWFGLEVBQWNDLEdBQ3pCLE9BQU9ELEVBQUdBLEVBQUd6RCxPQUFTLEtBQU8wRCxFQUFHLEdBQUssRUFBSSxHQUUzQyxZQUFBRSxxQ0FBQSxTQUNFQyxFQUNBQyxHQUdBLElBREEsSUFBTUMsRUFBb0MsR0FDakNuRSxFQUFJLEVBQUdBLEVBQUlrRSxFQUFROUQsT0FBUUosSUFDbEMsR0FBMEIsaUJBQWZrRSxFQUFRbEUsR0FBaUIsQ0FDbEMsSUFBSUMsRUFBSUQsRUFBSSxFQUlaLElBSElDLElBQU1pRSxFQUFROUQsU0FDaEJILEVBQUksR0FFdUIsaUJBQWZpRSxFQUFRakUsTUFDcEJBLElBQ1VpRSxFQUFROUQsU0FDaEJILEVBQUksR0FHSkQsSUFBTUMsR0FDUmtFLEVBQU12QixLQUFLLENBQUNzQixFQUFRbEUsR0FBSWlFLEVBQVFDLEVBQVFqRSxLQUk5QyxPQUFPa0UsR0FFVCxZQUFBZCxtQ0FBQSxTQUNFeEMsRUFDQTVDLEVBQ0E4QyxRQUZBLElBQUFGLE1BQVE5RSxLQUFLOEUsWUFDYixJQUFBNUMsTUFBb0JsQyxLQUFLa0Msd0JBQ3pCLElBQUE4QyxNQUFvQmhGLEtBQUtnRixtQkFpQnpCLElBWkEsSUFBTXFELEVBQW9DbkcsRUFDdkN3QyxLQUFJLFNBQUM0RCxFQUFzQnJFLEdBQzFCLE9BQU9xRSxFQUNKNUQsS0FBSSxTQUFDNkQsRUFBR3JFLEdBQU0sT0FBQUEsS0FDZHNFLFFBQU8sU0FBQXRFLEdBQ04sT0FBUXVFLE1BQU1ILEVBQXFCcEUsS0FBTyxHQUFLb0UsRUFBcUJwRSxJQUFNb0UsRUFBcUJwRSxJQUFNLElBQ2xHdUUsTUFBTXZHLEVBQWtCZ0MsR0FBR0QsS0FBTyxHQUFLL0IsRUFBa0JnQyxHQUFHRCxJQUFNL0IsRUFBa0JnQyxHQUFHRCxJQUFNLEtBRWpHeUUsTUFBSyxTQUFDekUsRUFBR0MsR0FBTSxPQUFBb0UsRUFBcUJyRSxHQUFLcUUsRUFBcUJwRSxTQUcvRG1ELEVBQXVDLEcsV0FDcENzQixHQUNQLElBQUssSUFBSUMsRUFBa0IsRUFBR0EsRUFBa0JQLEVBQWtDTSxHQUFZdEUsT0FBUXVFLElBQW1CLENBQ3ZILElBQU1DLEVBQWVSLEVBQWtDTSxHQUFZQyxHQUNuRSxHQUFJRCxFQUFhRSxFQUFjLENBQzdCLElBQU1DLEVBQVE5RCxFQUFrQjJELEdBQVlOLEVBQWtDTSxHQUFZQyxJQUVwRkcsRUFBc0JILEVBQWtCLEVBQ3hDSSxFQUFzQkosRUFBa0IsRUFFeENLLEVBQW9CWixFQUFrQ1EsR0FBY0ssV0FBVSxTQUFBakYsR0FBSyxPQUFBQSxJQUFNMEUsS0FDekZRLEVBQXNCLEVBQUt4QixTQUFTN0MsRUFBTTZELEdBQVk1RixHQUFJK0IsRUFBTTZELEdBQVkzRixHQUFJOEIsRUFBTStELEdBQWM5RixJQUNwR3FHLEVBQXdCRCxFQUFzQkYsRUFBb0IsRUFBSUEsRUFBb0IsRUFDMUZJLEVBQXdCRixFQUFzQkYsRUFBb0IsRUFBSUEsRUFBb0IsRUFhMUZLLEVBQWlCLEVBQUlWLEVBQ3ZCNUQsRUFBa0IyRCxHQUFZTixFQUFrQ00sR0FBWUksSUFDNUUsS0FDRVEsRUFBaUJYLEVBQWtCUCxFQUFrQ00sR0FBWXRFLE9BQVMsRUFDNUZXLEVBQWtCMkQsR0FBWU4sRUFBa0NNLEdBQVlLLElBQzVFLEtBQ0VRLEdBQW9CLEVBQUlKLEdBQXlCQSxFQUF3QmYsRUFBa0NRLEdBQWN4RSxPQUMzSFcsRUFBa0I2RCxHQUFjUixFQUFrQ1EsR0FBY08sSUFDaEYsS0FDRUssR0FBb0IsRUFBSUosR0FBeUJBLEVBQXdCaEIsRUFBa0NRLEdBQWN4RSxPQUMzSFcsRUFBa0I2RCxHQUFjUixFQUFrQ1EsR0FBY1EsSUFDaEYsS0FTRWpCLEVBQVEsRUFBS0gscUNBQ2pCYSxFQUNBLENBQ0VRLEVBQ0FHLEVBQ0FGLEVBQ0FDLElBR0puQyxFQUFTUixLQUFJLE1BQWJRLEVBQWlCZSxNLE9BdERkTyxFQUFhLEVBQUdBLEVBQWFOLEVBQWtDaEUsT0FBUXNFLEksRUFBdkVBLEdBMkRULE9BQU90QixHQUVULFlBQUFFLGdDQUFBLFNBQWdDRixHQUk5QixJLE1BRElxQyxFQUZFQyxFQUE2QixHQUMvQjFGLEVBQUksRUFFREEsRUFBSW9ELEVBQVNoRCxRQUFRLENBQzFCLElBQUssSUFBSUgsRUFBSSxFQUFHQSxFQUFJbUQsRUFBU2hELE9BQVFILElBQ25DLEdBQUlELElBQU1DLEdBQ0psRSxLQUFLNkgsaUJBQWlCUixFQUFTcEQsR0FBSW9ELEVBQVNuRCxJQUFLLEVBS25ELEVBQUFtRCxFQUFTcEQsSUFBRzJGLE9BQU0sWUFBRSxFQUFHLEdBQU12QyxFQUFTbkQsS0FJdENtRCxFQUFTdUMsT0FBTzFGLEVBQUcsR0FDZkEsRUFBSUQsR0FDTkEsS0FFRnlGLEVBQVUxSixLQUFLNkgsaUJBQWlCUixFQUFTcEQsR0FBSW9ELEVBQVNwRCxLQUFPakUsS0FBS2dJLGFBQWFYLEVBQVNwRCxHQUFJb0QsRUFBU3BELEtBQ3ZGLElBQ1pvRCxFQUFTcEQsR0FBRzJGLE9BQU8sRUFBR0YsR0FJdEJDLEVBQWU5QyxLQUFLUSxFQUFTcEQsSUFDN0JvRCxFQUFTdUMsT0FBTzNGLEVBQUcsSUFFckJBLEdBQUssRUFDTCxNQUlOQSxJQU1GLE9BQU8wRixHQUVYLEVBM1NBLEdDRk1FLEVBQVlDLFNBQVNDLGdCQUFnQiw2QkFBOEIsS0FDekVGLEVBQVVHLGFBQWEsU0FBVSxTQUNqQ0gsRUFBVUcsYUFBYSxlQUFnQixTQUV2QyxJQUFNQyxFQUFlSCxTQUFTQyxnQkFBZ0IsNkJBQThCLFFBQzVFRSxFQUFhRCxhQUFhLG1CQUFvQixlQUU5QyxJQUFNRSxFQUFpQkosU0FBU0MsZ0JBQWdCLDZCQUE4QixRQUM5RUcsRUFBZUYsYUFDYixJQUNBLGtGQUtGRSxFQUFlRixhQUFhLE9BQVEsU0FFcEMsSUFBTUcsRUFBZUwsU0FBU0MsZ0JBQWdCLDZCQUE4QixRQUM1RUksRUFBYUgsYUFBYSxjQUFlLFVBQ3pDRyxFQUFhSCxhQUFhLHFCQUFzQixXQUNoREcsRUFBYUgsYUFBYSxjQUFlLG1EQUN6Q0csRUFBYUgsYUFBYSxjQUFlLE9BQ3pDRyxFQUFhSCxhQUFhLFlBQWEsUUFFdkNILEVBQVVPLFlBQVlILEdBQ3RCSixFQUFVTyxZQUFZRixHQUN0QkwsRUFBVU8sWUFBWUYsRUFBZUcsYUFDckNSLEVBQVVPLFlBQVlELEdBQ3RCTixFQUFVTyxZQUFZRCxFQUFhRSxhQUVuQyxJQUFNQyxFQUFnQlIsU0FBU0MsZ0JBQWdCLDZCQUE4QixVQUM3RU8sRUFBY04sYUFBYSxPQUFRLFNBQ25DTSxFQUFjTixhQUFhLElBQUssS0FFaEMsSUFBTU8sRUFBa0JULFNBQVNDLGdCQUFnQiw2QkFBOEIsUUFDL0VRLEVBQWdCUCxhQUFhLE9BQVEsU0FDckNPLEVBQWdCUCxhQUFhLGVBQWdCLE9BQzdDTyxFQUFnQlAsYUFBYSxlQUFnQixPQUM3Q08sRUFBZ0JQLGFBQWEsU0FBVSxTQUV2QyxJQzFDTVEsRUFBYyxJRDBDcEIsV0FRRSxhQVBTLEtBQUFDLElBQU1YLFNBQVNDLGdCQUFnQiw2QkFBOEIsT0FDOUQsS0FBQVcsc0JBQXdCWixTQUFTQyxnQkFBZ0IsNkJBQThCLEtBQy9FLEtBQUE1RSxpQkFBbUIyRSxTQUFTQyxnQkFBZ0IsNkJBQThCLEtBQzFFLEtBQUFZLGNBQWdCYixTQUFTQyxnQkFBZ0IsNkJBQThCLEtBQ3ZFLEtBQUFhLFdBQWEsSUFBSUMsSUFDakIsS0FBQUMsaUJBQW1CLElBQUlELElBQ3ZCLEtBQUFFLFNBQXdELEdBRTlEL0ssS0FBS3lLLElBQUlMLFlBQVlwSyxLQUFLMEssdUJBQzFCMUssS0FBS3lLLElBQUlMLFlBQVlwSyxLQUFLbUYsa0JBQzFCbkYsS0FBS3lLLElBQUlMLFlBQVlwSyxLQUFLMkssZUFzRjlCLE9BcEZVLFlBQUFLLGlCQUFSLFNBQXlCMUYsRUFBZTJGLEdBQ2xDakwsS0FBSytLLFNBQVN6RixJQUNoQnRGLEtBQUt5SyxJQUFJUyxvQkFBb0I1RixFQUFPdEYsS0FBSytLLFNBQVN6RixJQUVwRHRGLEtBQUsrSyxTQUFTekYsR0FBUzJGLEVBQ3ZCakwsS0FBS3lLLElBQUlVLGlCQUFpQjdGLEVBQU90RixLQUFLK0ssU0FBU3pGLEtBRWpELFlBQUFELG9CQUFBLFNBQW9CNEYsR0FDbEJqTCxLQUFLZ0wsaUJBQWlCLFlBQWFDLElBRXJDLFlBQUFwRixrQkFBQSxTQUFrQm9GLEdBQ2hCakwsS0FBS2dMLGlCQUFpQixVQUFXQyxJQUVuQyxZQUFBbkYsb0JBQUEsU0FBb0JtRixHQUNsQmpMLEtBQUtnTCxpQkFBaUIsWUFBYUMsSUFFckMsWUFBQS9FLFNBQUEsU0FBU1MsRUFBWXlFLEdBQ25CLElBQUlDLEVBQ0NyTCxLQUFLNEssV0FBV1UsSUFBSTNFLEdBS3ZCMEUsRUFBT3JMLEtBQUs0SyxXQUFXVyxJQUFJNUUsSUFKM0IwRSxFQUFPeEIsRUFBVVEsV0FBVSxHQUMzQnJLLEtBQUsySyxjQUFjUCxZQUFZaUIsR0FDL0JyTCxLQUFLNEssV0FBV1ksSUFBSTdFLEVBQU0wRSxJQUk1QixJQUFNSSxFQUFVSixFQUFLSyxTQUFTLEdBQ3hCQyxFQUFxQk4sRUFBS0ssU0FBUyxHQUNuQ0UsRUFBbUJQLEVBQUtLLFNBQVMsR0FDakNHLEVBQWVSLEVBQUtLLFNBQVMsR0FDN0JJLEVBQWFULEVBQUtLLFNBQVMsR0FDM0JqTSxFQUFLa0gsRUFBS2xILEdBQUdrRixVQUNiakYsRUFBS2lILEVBQUtqSCxHQUFHaUYsVUFDYmhGLEVBQUtnSCxFQUFLaEgsR0FBR2dGLFVBQ2IvRSxFQUFLK0csRUFBSy9HLEdBQUcrRSxVQUNuQjhHLEVBQVF6QixhQUFhLEtBQU12SyxHQUMzQmdNLEVBQVF6QixhQUFhLEtBQU10SyxHQUMzQitMLEVBQVF6QixhQUFhLEtBQU1ySyxHQUMzQjhMLEVBQVF6QixhQUFhLEtBQU1wSyxHQUMzQmlNLEVBQWFFLFVBQVlYLEVBQ3pCVSxFQUFXQyxVQUFZWCxFQUN2QixJQUFNMUksRUFBUSxLQUFPaUUsRUFBSzNELEdBQUcxQixJQUFJcUYsRUFBSzVELElBQUlMLFFBQVVwQyxLQUFLdUMsR0FBSyxHQUFLdkMsS0FBS3VDLEdBQ2xFTSxFQUFTd0QsRUFBS3hELE9BQU8sSUFDckJDLEVBQVF1RCxFQUFLdkQsTUFBTSxJQUN6QnVJLEVBQW1CM0IsYUFBYSxZQUFhLGFBQWF2SyxFQUFFLEtBQUtDLEVBQUUsYUFBWStJLE1BQU0vRixHQUFTLEVBQUlBLEdBQUssS0FDdkdrSixFQUFpQjVCLGFBQWEsWUFBYSxhQUFhckssRUFBRSxLQUFLQyxFQUFFLGFBQVk2SSxNQUFNL0YsR0FBUyxFQUFJLElBQU1BLEdBQUssS0FDM0dtSixFQUFhN0IsYUFBYSxZQUFhLGNBQWF2QixNQUFNdEYsRUFBTzdELEdBQUtHLEVBQUswRCxFQUFPN0QsRUFBRXFGLFdBQVMsTUFBSzhELE1BQU10RixFQUFPNUQsR0FBS0csRUFBS3lELEVBQU81RCxFQUFFb0YsV0FBUyxLQUMzSW1ILEVBQVc5QixhQUFhLFlBQWEsY0FBYXZCLE1BQU1yRixFQUFNOUQsR0FBS0ssRUFBS3lELEVBQU05RCxFQUFFcUYsV0FBUyxNQUFLOEQsTUFBTXJGLEVBQU03RCxHQUFLSyxFQUFLd0QsRUFBTTdELEVBQUVvRixXQUFTLE1BRXZJLFlBQUFxSCxVQUFBLFNBQVVyRixHQUNSLElBQU0wRSxFQUFPckwsS0FBSzRLLFdBQVdXLElBQUk1RSxHQUM3QjBFLElBQ0ZyTCxLQUFLMkssY0FBY3NCLFlBQVlaLEdBQy9CckwsS0FBSzRLLFdBQVdzQixPQUFPdkYsS0FHM0IsWUFBQXdGLFVBQUEsU0FBVUMsR0FDUixJQUFNQyxFQUFZL0IsRUFBY0QsWUFDaENnQyxFQUFVckMsYUFBYSxLQUFNb0MsRUFBTTlNLEVBQUVxRixXQUNyQzBILEVBQVVyQyxhQUFhLEtBQU1vQyxFQUFNN00sRUFBRW9GLFdBQ3JDM0UsS0FBSzBLLHNCQUFzQk4sWUFBWWlDLElBRWpDLFlBQUFDLGVBQVIsU0FBdUJDLEdBQ3JCLEtBQU9BLEVBQVVDLFlBQ2ZELEVBQVVOLFlBQVlNLEVBQVVDLGFBR3BDLFlBQUFDLG1CQUFBLFdBQ0V6TSxLQUFLc00sZUFBZXRNLEtBQUswSyx3QkFFM0IsWUFBQXBFLFlBQUEsU0FBWUQsRUFBa0JxRyxHQUM1QixJQUFJQyxPQUR3QixJQUFBRCxNQUFPLEtBQU9wTSxLQUFLc00sTUFBTSxTQUFtQnRNLEtBQUt1TSxVQUFZLEtBQUtwSSxTQUFTLEtBRWxHekUsS0FBSzhLLGlCQUFpQlEsSUFBSWpGLEdBSzdCc0csRUFBVTNNLEtBQUs4SyxpQkFBaUJTLElBQUlsRixJQUpwQ3NHLEVBQVVwQyxFQUFnQkYsWUFDMUJySyxLQUFLbUYsaUJBQWlCaUYsWUFBWXVDLEdBQ2xDM00sS0FBSzhLLGlCQUFpQlUsSUFBSW5GLEVBQVNzRyxJQUlyQ0EsRUFBUTNDLGFBQWEsSUFBSyxLQUFPM0QsRUFBUXRDLFNBQVNXLEtBQUksU0FBQTNFLEdBQUssT0FBR0EsRUFBRVQsRUFBRXFGLFVBQVMsSUFBSTVFLEVBQUVSLEVBQUVvRixhQUFhQyxLQUFLLE9BQVMsS0FDOUcrSCxFQUFRM0MsYUFBYSxPQUFRMEMsSUFFL0IsWUFBQXRGLGNBQUEsV0FDRXBILEtBQUtzTSxlQUFldE0sS0FBS21GLG1CQUU3QixFQWpHQSxJQ3pDZ0IsSUFBSTJILEVBQVF0QyxHQUNmVixTQUFTaUQsY0FBYyxRQUMvQjNDLFlBQVlJLEVBQVlDLE0iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBWZWN0b3IyIHtcbiAgY29uc3RydWN0b3IocHVibGljIHggPSAwLCBwdWJsaWMgeSA9IDApIHt9XG4gIHN0YXRpYyBkb3RSYXcoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHgxICogeDIgKyB5MSAqIHkyO1xuICB9XG4gIHN0YXRpYyBkb3QodTogVmVjdG9yMiwgdjogVmVjdG9yMik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuZG90UmF3KHUueCwgdS55LCB2LngsIHYueSk7XG4gIH1cbiAgZG90KG90aGVyOiBWZWN0b3IyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gVmVjdG9yMi5kb3QodGhpcywgb3RoZXIpO1xuICB9XG4gIHN0YXRpYyBjcm9zc1Jhdyh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4geDEgKiB5MiAtIHgyICogeTE7XG4gIH1cbiAgc3RhdGljIGNyb3NzKHU6IFZlY3RvcjIsIHY6IFZlY3RvcjIpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNyb3NzUmF3KHUueCwgdS55LCB2LngsIHYueSk7XG4gIH1cbiAgY3Jvc3Mob3RoZXI6IFZlY3RvcjIpOiBudW1iZXIge1xuICAgIHJldHVybiBWZWN0b3IyLmNyb3NzKHRoaXMsIG90aGVyKTtcbiAgfVxuICBzdGF0aWMgbGVuMlJhdyh4OiBudW1iZXIsIHk6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGgucG93KHgsIDIpICsgTWF0aC5wb3coeSwgMik7XG4gIH1cbiAgc3RhdGljIGxlbjIodTogVmVjdG9yMik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubGVuMlJhdyh1LngsIHUueSk7XG4gIH1cbiAgbGVuMigpOiBudW1iZXIge1xuICAgIHJldHVybiBWZWN0b3IyLmxlbjIodGhpcyk7XG4gIH1cbiAgc3RhdGljIGxlblJhdyh4OiBudW1iZXIsIHk6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLmxlbjJSYXcoeCwgeSkpO1xuICB9XG4gIHN0YXRpYyBsZW4odTogVmVjdG9yMik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubGVuUmF3KHUueCwgdS55KTtcbiAgfVxuICBsZW4oKTogbnVtYmVyIHtcbiAgICByZXR1cm4gVmVjdG9yMi5sZW4odGhpcyk7XG4gIH1cbiAgc3RhdGljIG5vcm1hbGl6ZVJhdyh4OiBudW1iZXIsIHk6IG51bWJlciwgYnk6IG51bWJlciA9IDEpOiBWZWN0b3IyIHtcbiAgICBjb25zdCBjb2VmID0gYnkgLyB0aGlzLmxlblJhdyh4LCB5KTtcbiAgICByZXR1cm4gdGhpcy5tdWxSYXcoeCwgeSwgY29lZik7XG4gIH1cbiAgc3RhdGljIG5vcm1hbGl6ZSh1OiBWZWN0b3IyLCBieTogbnVtYmVyID0gMSk6IFZlY3RvcjIge1xuICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZVJhdyh1LngsIHUueSwgYnkpO1xuICB9XG4gIG5vcm1hbGl6ZShieTogbnVtYmVyID0gMSk6IFZlY3RvcjIge1xuICAgIHJldHVybiBWZWN0b3IyLm5vcm1hbGl6ZSh0aGlzLCBieSk7XG4gIH1cbiAgc3RhdGljIGVxdWFsc1Jhdyh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHgxID09PSB4MiAmJiB5MSA9PT0geTI7XG4gIH1cbiAgc3RhdGljIGVxdWFscyh1OiBWZWN0b3IyLCB2OiBWZWN0b3IyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZXF1YWxzUmF3KHUueCwgdS55LCB2LngsIHYueSk7XG4gIH1cbiAgZXF1YWxzKG90aGVyOiBWZWN0b3IyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIFZlY3RvcjIuZXF1YWxzKHRoaXMsIG90aGVyKTtcbiAgfVxuICBzdGF0aWMgYWRkUmF3KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIoeDEgKyB4MiwgeTEgKyB5Mik7XG4gIH1cbiAgc3RhdGljIGFkZCh1OiBWZWN0b3IyLCB2OiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIHRoaXMuYWRkUmF3KHUueCwgdS55LCB2LngsIHYueSk7XG4gIH1cbiAgYWRkKG90aGVyOiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIFZlY3RvcjIuYWRkKHRoaXMsIG90aGVyKTtcbiAgfVxuICBzdGF0aWMgc3ViUmF3KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIoeDEgLSB4MiwgeTEgLSB5Mik7XG4gIH1cbiAgc3RhdGljIHN1Yih1OiBWZWN0b3IyLCB2OiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIHRoaXMuc3ViUmF3KHUueCwgdS55LCB2LngsIHYueSk7XG4gIH1cbiAgc3ViKG90aGVyOiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIFZlY3RvcjIuc3ViKHRoaXMsIG90aGVyKTtcbiAgfVxuICBzdGF0aWMgbXVsUmF3KHg6IG51bWJlciwgeTogbnVtYmVyLCBieTogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHggKiBieSwgeSAqIGJ5KTtcbiAgfVxuICBzdGF0aWMgbXVsKHU6IFZlY3RvcjIsIGJ5OiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gdGhpcy5tdWxSYXcodS54LCB1LnksIGJ5KTtcbiAgfVxuICBtdWwoYnk6IG51bWJlcik6IFZlY3RvcjIge1xuICAgIHJldHVybiBWZWN0b3IyLm11bCh0aGlzLCBieSk7XG4gIH1cbiAgc3RhdGljIGludGVyc2VjdGlvblRpbWVzUmF3KFxuICAgIGZ4OiBudW1iZXIsIGZ5OiBudW1iZXIsIHR4OiBudW1iZXIsIHR5OiBudW1iZXIsXG4gICAgc3g6IG51bWJlciwgc3k6IG51bWJlciwgZXg6IG51bWJlciwgZXk6IG51bWJlclxuICApOiBWZWN0b3IyIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBkZXQgPSB0aGlzLmNyb3NzUmF3KHR4IC0gZngsIHR5IC0gZnksIGV4IC0gc3gsIGV5IC0gc3kpO1xuICAgIHJldHVybiBuZXcgVmVjdG9yMihcbiAgICAgIHRoaXMuY3Jvc3NSYXcoZXggLSBzeCwgZXkgLSBzeSwgZnggLSBzeCwgZnkgLSBzeSkgLyBkZXQsXG4gICAgICB0aGlzLmNyb3NzUmF3KHR4IC0gZngsIHR5IC0gZnksIGZ4IC0gc3gsIGZ5IC0gc3kpIC8gZGV0XG4gICAgKTtcbiAgfVxuICBzdGF0aWMgaW50ZXJzZWN0aW9uVGltZXMoXG4gICAgZnJvbTogVmVjdG9yMiwgdG86IFZlY3RvcjIsIHN0YXJ0OiBWZWN0b3IyLCBlbmQ6IFZlY3RvcjJcbiAgKTogVmVjdG9yMiB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJzZWN0aW9uVGltZXNSYXcoZnJvbS54LCBmcm9tLnksIHRvLngsIHRvLnksIHN0YXJ0LngsIHN0YXJ0LnksIGVuZC54LCBlbmQueSk7XG4gIH1cbiAgaW50ZXJzZWN0aW9uVGltZXModG86IFZlY3RvcjIsIHN0YXJ0OiBWZWN0b3IyLCBlbmQ6IFZlY3RvcjIpOiBWZWN0b3IyIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gVmVjdG9yMi5pbnRlcnNlY3Rpb25UaW1lcyh0aGlzLCB0bywgc3RhcnQsIGVuZCk7XG4gIH1cbiAgc3RhdGljIGludGVyc2VjdGlvblJhdyhcbiAgICBmeDogbnVtYmVyLCBmeTogbnVtYmVyLCB0eDogbnVtYmVyLCB0eTogbnVtYmVyLFxuICAgIHN4OiBudW1iZXIsIHN5OiBudW1iZXIsIGV4OiBudW1iZXIsIGV5OiBudW1iZXJcbiAgKTogVmVjdG9yMiB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgdGltZXMgPSB0aGlzLmludGVyc2VjdGlvblRpbWVzUmF3KGZ4LCBmeSwgdHgsIHR5LCBzeCwgc3ksIGV4LCBleSk7XG4gICAgaWYgKHRpbWVzKSB7XG4gICAgICB0aW1lcy55ID0gZnkgKyAodHkgLSBmeSkgKiB0aW1lcy54O1xuICAgICAgdGltZXMueCA9IGZ4ICsgKHR4IC0gZngpICogdGltZXMueDtcbiAgICAgIHJldHVybiB0aW1lcztcbiAgICB9XG4gIH1cbiAgc3RhdGljIGludGVyc2VjdGlvbihmcm9tOiBWZWN0b3IyLCB0bzogVmVjdG9yMiwgc3RhcnQ6IFZlY3RvcjIsIGVuZDogVmVjdG9yMik6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmludGVyc2VjdGlvblJhdyhmcm9tLngsIGZyb20ueSwgdG8ueCwgdG8ueSwgc3RhcnQueCwgc3RhcnQueSwgZW5kLngsIGVuZC55KTtcbiAgfVxuICBpbnRlcnNlY3Rpb24odG86IFZlY3RvcjIsIHN0YXJ0OiBWZWN0b3IyLCBlbmQ6IFZlY3RvcjIpOiBWZWN0b3IyIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gVmVjdG9yMi5pbnRlcnNlY3Rpb24odGhpcywgdG8sIHN0YXJ0LCBlbmQpO1xuICB9XG4gIGFuZ2xlKG90aGVyPzogVmVjdG9yMik6IG51bWJlciB7XG4gICAgaWYgKG90aGVyKSB7XG4gICAgICAgY29uc3QgYTEgPSB0aGlzLmFuZ2xlKCk7XG4gICAgICAgY29uc3QgYTIgPSBvdGhlci5hbmdsZSgpO1xuICAgICAgIGlmIChhMiA8IGExKSB7XG4gICAgICAgIHJldHVybiBhMiArIDIgKiBNYXRoLlBJIC0gYTE7XG4gICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGEyIC0gYTE7XG4gICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy55ID4gMCkge1xuICAgICAgcmV0dXJuIE1hdGguYWNvcyh0aGlzLnggLyB0aGlzLmxlbigpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDIgKiBNYXRoLlBJIC0gTWF0aC5hY29zKHRoaXMueCAvIHRoaXMubGVuKCkpO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi92ZWN0b3IyXCI7XG5cbmV4cG9ydCBjbGFzcyBMaW5lIHtcbiAgdjE6IFZlY3RvcjI7XG4gIHYyOiBWZWN0b3IyO1xuICBjb25zdHJ1Y3RvcihcbiAgICB4MT86IG51bWJlcixcbiAgICB5MT86IG51bWJlcixcbiAgICB4Mj86IG51bWJlcixcbiAgICB5Mj86IG51bWJlclxuICApIHtcbiAgICB0aGlzLnYxID0gbmV3IFZlY3RvcjIoeDEsIHkxKTtcbiAgICB0aGlzLnYyID0gbmV3IFZlY3RvcjIoeDIsIHkyKTtcbiAgfVxuICBnZXQgeDEoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52MS54O1xuICB9XG4gIGdldCB5MSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnYxLnk7XG4gIH1cbiAgZ2V0IHgyKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudjIueDtcbiAgfVxuICBnZXQgeTIoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52Mi55O1xuICB9XG4gIGxlbigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnYyLnN1Yih0aGlzLnYxKS5sZW4oKTtcbiAgfVxuICBwb2ludEF0KHQ6IG51bWJlcik6IFZlY3RvcjIge1xuICAgIHJldHVybiB0aGlzLnYxLmFkZCh0aGlzLnYyLnN1Yih0aGlzLnYxKS5tdWwodCkpO1xuICB9XG4gIGJlZm9yZSh0OiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gdGhpcy52MS5hZGQodGhpcy52Mi5zdWIodGhpcy52MSkubXVsKC10IC8gdGhpcy5sZW4oKSkpO1xuICB9XG4gIGFmdGVyKHQ6IG51bWJlcik6IFZlY3RvcjIge1xuICAgIHJldHVybiB0aGlzLnYxLmFkZCh0aGlzLnYyLnN1Yih0aGlzLnYxKS5tdWwoKHRoaXMubGVuKCkgKyB0KSAvIHRoaXMubGVuKCkpKTtcbiAgfVxuICBpbnRlcnNlY3Rpb25UaW1lc1dpdGgob3RoZXI6IExpbmUpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gdGhpcy52MS5pbnRlcnNlY3Rpb25UaW1lcyh0aGlzLnYyLCBvdGhlci52MSwgb3RoZXIudjIpO1xuICB9XG4gIHVwZGF0ZShkeDEgPSAwLCBkeTEgPSAwLCBkeDIgPSAwLCBkeTIgPSAwKTogdm9pZCB7XG4gICAgdGhpcy52MS54ICs9IGR4MTtcbiAgICB0aGlzLnYxLnkgKz0gZHkxO1xuICAgIHRoaXMudjIueCArPSBkeDI7XG4gICAgdGhpcy52Mi55ICs9IGR5MjtcbiAgfVxuICBuZWFyZXN0VG8ocDogVmVjdG9yMik6IFZlY3RvcjIge1xuICAgIGlmICh0aGlzLnYxLmVxdWFscyh0aGlzLnYyKSkge1xuICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMudjEueCwgdGhpcy52MS55KTtcbiAgICB9XG4gICAgY29uc3QgdSA9IHRoaXMudjIuc3ViKHRoaXMudjEpO1xuICAgIGNvbnN0IHQgPSB1LmRvdChwLnN1Yih0aGlzLnYxKSkgLyB1LmxlbjIoKTtcbiAgICByZXR1cm4gdGhpcy5wb2ludEF0KE1hdGgubWF4KDAsIE1hdGgubWluKHQsIDEpKSk7XG4gIH1cbn0iLCJpbXBvcnQgeyBMaW5lIH0gZnJvbSBcIi4vbGluZVwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuL3ZlY3RvcjJcIjtcblxuZXhwb3J0IGNsYXNzIFBvbHlnb24ge1xuICBjb25zdHJ1Y3RvcihyZWFkb25seSB2ZXJ0aWNlczogVmVjdG9yMltdID0gW10pIHtcblxuICB9XG4gIHByaXZhdGUgYXJlYUJldHdlZW4oaTogbnVtYmVyLCBqOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiAodGhpcy52ZXJ0aWNlc1tqXS54IC0gdGhpcy52ZXJ0aWNlc1tpXS54KSAqICh0aGlzLnZlcnRpY2VzW2ldLnkgKyB0aGlzLnZlcnRpY2VzW2pdLnkpIC8gMjtcbiAgfVxuICBhcmVhKCk6IG51bWJlciB7XG4gICAgbGV0IGEgPSAwO1xuICAgIGxldCBpID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGggLSAxO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy52ZXJ0aWNlcy5sZW5ndGg7IGorKykge1xuICAgICAgYSArPSB0aGlzLmFyZWFCZXR3ZWVuKGksIGopO1xuICAgICAgaSA9IGo7XG4gICAgfVxuICAgIHJldHVybiBhO1xuICB9XG4gIGNvbnRhaW5zKHY6IFZlY3RvcjIpOiBib29sZWFuIHtcbiAgICBsZXQgYyA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGggLSAxOyBpIDwgdGhpcy52ZXJ0aWNlcy5sZW5ndGg7IGogPSBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1tpXS55ID4gdi55ICE9PSB0aGlzLnZlcnRpY2VzW2pdLnkgPiB2LnkgJiZcbiAgICAgICAgdi54IDwgKHRoaXMudmVydGljZXNbal0ueCAtIHRoaXMudmVydGljZXNbaV0ueCkgKiAodi55IC0gdGhpcy52ZXJ0aWNlc1tpXS55KSAvICh0aGlzLnZlcnRpY2VzW2pdLnkgLSB0aGlzLnZlcnRpY2VzW2ldLnkpICsgdGhpcy52ZXJ0aWNlc1tpXS54XG4gICAgICApIHtcbiAgICAgICAgYyA9ICFjO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYztcbiAgfVxuICByZXZlcnNlKCk6IHZvaWQge1xuICAgIHRoaXMudmVydGljZXMucmV2ZXJzZSgpO1xuICB9XG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAke3RoaXMudmVydGljZXMubGVuZ3RofSBwb2ludHM6IGAgKyB0aGlzLnZlcnRpY2VzLm1hcCh2ID0+IGAoJHt2LngudG9GaXhlZCgpfSwgJHt2LnkudG9GaXhlZCgpfSlgKS5qb2luKCcsICcpICsgYCAoYXJlYTogJHt0aGlzLmFyZWEoKS50b0ZpeGVkKCl9KWA7XG4gIH1cbn0iLCJpbXBvcnQgeyBQb2xwbG90UmVuZGVyZXIgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3BvbHBsb3QtcmVuZGVyZXJcIjtcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9saW5lXCI7XG5pbXBvcnQgeyBQb2x5Z29uIH0gZnJvbSBcIi4vcG9seWdvblwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuL3ZlY3RvcjJcIjtcblxuY29uc3QgQ0xJQ0tfVEhSRVNIT0xEID0gMjA7XG5cbmV4cG9ydCBjbGFzcyBQb2xwbG90IHtcbiAgbGluZXM6IExpbmVbXSA9IFtdO1xuICBpbnRlcnNlY3Rpb25UaW1lczogbnVtYmVyW11bXSA9IFtdO1xuICBpbnRlcnNlY3Rpb25zOiBWZWN0b3IyW10gPSBbXTtcbiAgaW50ZXJzZWN0aW9uSW5kZXg6IG51bWJlcltdW10gPSBbXTtcbiAgcG9seWdvbnM6IFBvbHlnb25bXSA9IFtdO1xuICBjb25zdHJ1Y3RvcihyZWFkb25seSByZW5kZXJlcjogUG9scGxvdFJlbmRlcmVyKSB7XG4gICAgbGV0IGRyYWdnZWRMaW5lSW5kZXggPSAtMTtcbiAgICBsZXQgZHJhZ2dlZFZlY3RvcjI6IFZlY3RvcjI7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRNb3VzZURvd25IYW5kbGVyKGV2ZW50ID0+IHtcbiAgICAgIGNvbnN0IG1vdXNlID0gbmV3IFZlY3RvcjIoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4gICAgICBkcmFnZ2VkTGluZUluZGV4ID0gdGhpcy5uZWFyZXN0TGluZUluZGV4RnJvbShtb3VzZSwgQ0xJQ0tfVEhSRVNIT0xEKTtcbiAgICAgIGlmIChkcmFnZ2VkTGluZUluZGV4ID09PSAtMSkge1xuICAgICAgICB0aGlzLmFkZExpbmUobmV3IExpbmUobW91c2UueCwgbW91c2UueSwgbW91c2UueCwgbW91c2UueSkpO1xuICAgICAgICBkcmFnZ2VkTGluZUluZGV4ID0gdGhpcy5saW5lcy5sZW5ndGggLSAxO1xuICAgICAgICBkcmFnZ2VkVmVjdG9yMiA9IHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0udjI7XG4gICAgICB9IGVsc2UgaWYgKG1vdXNlLnN1Yih0aGlzLmxpbmVzW2RyYWdnZWRMaW5lSW5kZXhdLnYxKS5sZW4oKSA8IENMSUNLX1RIUkVTSE9MRCkge1xuICAgICAgICBkcmFnZ2VkVmVjdG9yMiA9IHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0udjE7XG4gICAgICB9IGVsc2UgaWYgKG1vdXNlLnN1Yih0aGlzLmxpbmVzW2RyYWdnZWRMaW5lSW5kZXhdLnYyKS5sZW4oKSA8IENMSUNLX1RIUkVTSE9MRCkge1xuICAgICAgICBkcmFnZ2VkVmVjdG9yMiA9IHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0udjI7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLnJlbmRlcmVyLnNldE1vdXNlVXBIYW5kbGVyKGV2ZW50ID0+IHtcbiAgICAgIGRyYWdnZWRMaW5lSW5kZXggPSAtMTtcbiAgICAgIGRyYWdnZWRWZWN0b3IyID0gbnVsbDtcbiAgICB9KTtcblxuICAgIGxldCBwb2x5Z29uQ29udGFpbmVyOiBQb2x5Z29uO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0TW91c2VNb3ZlSGFuZGxlcihldmVudCA9PiB7XG4gICAgICBpZiAoZHJhZ2dlZFZlY3RvcjIpIHtcbiAgICAgICAgZHJhZ2dlZFZlY3RvcjIueCArPSBldmVudC5tb3ZlbWVudFg7XG4gICAgICAgIGRyYWdnZWRWZWN0b3IyLnkgKz0gZXZlbnQubW92ZW1lbnRZO1xuICAgICAgICB0aGlzLnVwZGF0ZUludGVyc2VjdGlvblRpbWVzKHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0pO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmRyYXdMaW5lKHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0sIGRyYWdnZWRMaW5lSW5kZXgudG9TdHJpbmcoKSk7XG4gICAgICB9IGVsc2UgaWYgKGRyYWdnZWRMaW5lSW5kZXggIT09IC0xKSB7XG4gICAgICAgIHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0udXBkYXRlKGV2ZW50Lm1vdmVtZW50WCwgZXZlbnQubW92ZW1lbnRZLCBldmVudC5tb3ZlbWVudFgsIGV2ZW50Lm1vdmVtZW50WSk7XG4gICAgICAgIHRoaXMudXBkYXRlSW50ZXJzZWN0aW9uVGltZXModGhpcy5saW5lc1tkcmFnZ2VkTGluZUluZGV4XSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd0xpbmUodGhpcy5saW5lc1tkcmFnZ2VkTGluZUluZGV4XSwgZHJhZ2dlZExpbmVJbmRleC50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1vdXNlID0gbmV3IFZlY3RvcjIoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4gICAgICBsZXQgaXNJbnNpZGUgPSBmYWxzZTtcbiAgICAgIGxldCBvbGRQb2x5Z29uQ29udGFpbmVyID0gcG9seWdvbkNvbnRhaW5lcjtcbiAgICAgIGZvciAoY29uc3QgcG9seWdvbiBvZiB0aGlzLnBvbHlnb25zKSB7XG4gICAgICAgIGlmIChwb2x5Z29uLmNvbnRhaW5zKG1vdXNlKSkge1xuICAgICAgICAgIGlmIChwb2x5Z29uICE9PSBwb2x5Z29uQ29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmRyYXdQb2x5Z29uKHBvbHlnb24sICdyZWQnKTtcbiAgICAgICAgICAgIHBvbHlnb25Db250YWluZXIgPSBwb2x5Z29uO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpc0luc2lkZSA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXNJbnNpZGUpIHtcbiAgICAgICAgcG9seWdvbkNvbnRhaW5lciA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAob2xkUG9seWdvbkNvbnRhaW5lciAmJiBvbGRQb2x5Z29uQ29udGFpbmVyICE9PSBwb2x5Z29uQ29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd1BvbHlnb24ob2xkUG9seWdvbkNvbnRhaW5lciwgJ3doaXRlJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgbmVhcmVzdExpbmVJbmRleEZyb20odjogVmVjdG9yMiwgdGhyZXNob2xkID0gK0luZmluaXR5KTogbnVtYmVyIHtcbiAgICBsZXQgbmVhcmVzdExpbmVJbmRleCA9IC0xO1xuICAgIGxldCBuZWFyZXN0RGlzdCA9ICtJbmZpbml0eTtcbiAgICBsZXQgZGlzdDogbnVtYmVyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgZGlzdCA9IHRoaXMubGluZXNbaV0ubmVhcmVzdFRvKHYpLnN1Yih2KS5sZW4oKTtcbiAgICAgIGlmIChkaXN0IDwgdGhyZXNob2xkICYmIGRpc3QgPCBuZWFyZXN0RGlzdCkge1xuICAgICAgICBuZWFyZXN0RGlzdCA9IGRpc3Q7XG4gICAgICAgIG5lYXJlc3RMaW5lSW5kZXggPSBpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmVhcmVzdExpbmVJbmRleDtcbiAgfVxuICBhZGRMaW5lKGxpbmU6IExpbmUpOiB2b2lkIHtcbiAgICB0aGlzLmFkZEludGVyc2VjdGlvblRpbWVzKGxpbmUpO1xuICAgIHRoaXMubGluZXMucHVzaChsaW5lKTtcbiAgICB0aGlzLnJlbmRlcmVyLmRyYXdMaW5lKGxpbmUsICh0aGlzLmxpbmVzLmxlbmd0aCAtIDEpLnRvU3RyaW5nKCkpO1xuICB9XG4gIGFkZEludGVyc2VjdGlvblRpbWVzKFxuICAgIGxpbmU6IExpbmUsXG4gICAgbGluZXMgPSB0aGlzLmxpbmVzLFxuICAgIGludGVyc2VjdGlvblRpbWVzID0gdGhpcy5pbnRlcnNlY3Rpb25UaW1lcyxcbiAgICBpbnRlcnNlY3Rpb25zID0gdGhpcy5pbnRlcnNlY3Rpb25zLFxuICAgIGludGVyc2VjdGlvbkluZGV4ID0gdGhpcy5pbnRlcnNlY3Rpb25JbmRleCxcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgbmV3SW50ZXJzZWN0aW9uVGltZXM6IG51bWJlcltdID0gW107XG4gICAgY29uc3QgbmV3SW50ZXJzZWN0aW9uSW5kZXg6IG51bWJlcltdID0gW107XG4gICAgbGV0IHRpbWVzOiBWZWN0b3IyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRpbWVzID0gbGluZXNbaV0uaW50ZXJzZWN0aW9uVGltZXNXaXRoKGxpbmUpO1xuICAgICAgaW50ZXJzZWN0aW9uVGltZXNbaV0ucHVzaCh0aW1lcy54KTtcbiAgICAgIGludGVyc2VjdGlvbnMucHVzaChsaW5lc1tpXS5wb2ludEF0KHRpbWVzLngpKTtcbiAgICAgIGludGVyc2VjdGlvbkluZGV4W2ldLnB1c2goaW50ZXJzZWN0aW9ucy5sZW5ndGggLSAxKTtcbiAgICAgIG5ld0ludGVyc2VjdGlvblRpbWVzLnB1c2godGltZXMueSk7XG4gICAgICBuZXdJbnRlcnNlY3Rpb25JbmRleC5wdXNoKGludGVyc2VjdGlvbnMubGVuZ3RoIC0gMSk7XG4gICAgfVxuICAgIG5ld0ludGVyc2VjdGlvblRpbWVzLnB1c2goTmFOKTtcbiAgICBuZXdJbnRlcnNlY3Rpb25JbmRleC5wdXNoKG51bGwpO1xuICAgIGludGVyc2VjdGlvblRpbWVzLnB1c2gobmV3SW50ZXJzZWN0aW9uVGltZXMpO1xuICAgIGludGVyc2VjdGlvbkluZGV4LnB1c2gobmV3SW50ZXJzZWN0aW9uSW5kZXgpO1xuICAgIHRoaXMucmVuZGVySW50ZXJzZWN0aW9ucygpO1xuICB9XG4gIHVwZGF0ZUludGVyc2VjdGlvblRpbWVzKFxuICAgIGxpbmU6IExpbmUsXG4gICAgbGluZXMgPSB0aGlzLmxpbmVzLFxuICAgIGludGVyc2VjdGlvblRpbWVzID0gdGhpcy5pbnRlcnNlY3Rpb25UaW1lcyxcbiAgICBpbnRlcnNlY3Rpb25zID0gdGhpcy5pbnRlcnNlY3Rpb25zLFxuICAgIGludGVyc2VjdGlvbkluZGV4ID0gdGhpcy5pbnRlcnNlY3Rpb25JbmRleCxcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgaW5kZXggPSBsaW5lcy5pbmRleE9mKGxpbmUpO1xuICAgIGxldCB0aW1lczogVmVjdG9yMjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaSAhPT0gaW5kZXgpIHtcbiAgICAgICAgdGltZXMgPSBsaW5lc1tpXS5pbnRlcnNlY3Rpb25UaW1lc1dpdGgobGluZSk7XG4gICAgICAgIGludGVyc2VjdGlvblRpbWVzW2ldW2luZGV4XSA9IHRpbWVzLng7XG4gICAgICAgIGludGVyc2VjdGlvblRpbWVzW2luZGV4XVtpXSA9IHRpbWVzLnk7XG4gICAgICAgIGlmIChpIDwgaW5kZXgpIHtcbiAgICAgICAgICBpbnRlcnNlY3Rpb25zW2ludGVyc2VjdGlvbkluZGV4W2ldW2luZGV4XV0gPSBsaW5lc1tpXS5wb2ludEF0KHRpbWVzLngpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGludGVyc2VjdGlvbnNbaW50ZXJzZWN0aW9uSW5kZXhbaW5kZXhdW2ldXSA9IGxpbmVzW2ldLnBvaW50QXQodGltZXMueCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5yZW5kZXJJbnRlcnNlY3Rpb25zKCk7XG4gIH1cbiAgcmVuZGVySW50ZXJzZWN0aW9ucygpOiB2b2lkIHtcbiAgICAvLyB0aGlzLnJlbmRlcmVyLmNsZWFySW50ZXJzZWN0aW9ucygpO1xuICAgIC8vIHRoaXMuaW50ZXJzZWN0aW9ucy5mb3JFYWNoKGludGVyc2VjdGlvbiA9PiB7XG4gICAgLy8gICB0aGlzLnJlbmRlcmVyLmRyYXdQb2ludChpbnRlcnNlY3Rpb24pO1xuICAgIC8vIH0pO1xuICAgIHRoaXMucmVuZGVyZXIuY2xlYXJQb2x5Z29ucygpO1xuICAgIHRoaXMucG9seWdvbnMgPSBbXTtcbiAgICBjb25zdCBwYXJ0aWFscyA9IHRoaXMuYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25UaW1lcygpO1xuICAgIGNvbnN0IHBvbHlnb25JbmRleGVzID0gdGhpcy5idWlsZFBvbHlnb25JbmRleGVzRnJvbVBhcnRpYWxzKHBhcnRpYWxzKTtcbiAgICBjb25zdCBwb2x5Z29ucyA9IHBvbHlnb25JbmRleGVzLm1hcChwb2x5Z29uSW5kZXggPT4gbmV3IFBvbHlnb24ocG9seWdvbkluZGV4Lm1hcChpID0+IHRoaXMuaW50ZXJzZWN0aW9uc1tpXSkpKTtcbiAgICBwb2x5Z29ucy5mb3JFYWNoKHBvbHlnb24gPT4ge1xuICAgICAgaWYgKHBvbHlnb24uYXJlYSgpID4gMCkge1xuICAgICAgICB0aGlzLnBvbHlnb25zLnB1c2gocG9seWdvbik7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd1BvbHlnb24ocG9seWdvbiwgJ3doaXRlJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgdGVzdFNpZGUodTogVmVjdG9yMiwgdjogVmVjdG9yMiwgdzogVmVjdG9yMik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB2LnN1Yih1KS5jcm9zcyh3LnN1Yih1KSkgPiAwO1xuICB9XG4gIHBhcnRpYWxzT3ZlcmxhcHMocDE6IG51bWJlcltdLCBwMjogbnVtYmVyW10pOiAyIHwgMCB7XG4gICAgcmV0dXJuIHAxW3AxLmxlbmd0aCAtIDJdID09PSBwMlswXSAmJiBwMVtwMS5sZW5ndGggLSAxXSA9PT0gcDJbMV0gPyAyIDogMDtcbiAgfVxuICBwYXJ0aWFsc01lZXQocDE6IG51bWJlcltdLCBwMjogbnVtYmVyW10pOiAxIHwgMCB7XG4gICAgcmV0dXJuIHAxW3AxLmxlbmd0aCAtIDFdID09PSBwMlswXSA/IDEgOiAwO1xuICB9XG4gIGJ1aWxkUGFydGlhbHNGcm9tSW50ZXJzZWN0aW9uSW5kZXhlcyhcbiAgICBjZW50ZXI6IG51bWJlcixcbiAgICBpbmRleGVzOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcbiAgKTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdW10ge1xuICAgIGNvbnN0IHBhcnRzOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl1bXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHR5cGVvZiBpbmRleGVzW2ldID09PSAnbnVtYmVyJykge1xuICAgICAgICBsZXQgaiA9IGkgKyAxO1xuICAgICAgICBpZiAoaiA9PT0gaW5kZXhlcy5sZW5ndGgpIHtcbiAgICAgICAgICBqID0gMDtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodHlwZW9mIGluZGV4ZXNbal0gIT09ICdudW1iZXInKcKge1xuICAgICAgICAgIGorKztcbiAgICAgICAgICBpZiAoaiA9PT0gaW5kZXhlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGogPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaSAhPT0gaikge1xuICAgICAgICAgIHBhcnRzLnB1c2goW2luZGV4ZXNbaV0sIGNlbnRlciwgaW5kZXhlc1tqXV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJ0cztcbiAgfVxuICBidWlsZFBhcnRpYWxzRnJvbUludGVyc2VjdGlvblRpbWVzKFxuICAgIGxpbmVzID0gdGhpcy5saW5lcyxcbiAgICBpbnRlcnNlY3Rpb25UaW1lcyA9IHRoaXMuaW50ZXJzZWN0aW9uVGltZXMsXG4gICAgaW50ZXJzZWN0aW9uSW5kZXggPSB0aGlzLmludGVyc2VjdGlvbkluZGV4XG4gICk6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXVtdIHtcbiAgICAvLyBjb25zb2xlLmxvZygnYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25UaW1lcycpO1xuICAgIC8vIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7XG4gICAgLy8gY29uc29sZS5sb2coJ2xpbmVzLmxlbmd0aCA9ICcsIGxpbmVzLmxlbmd0aCk7XG4gICAgY29uc3QgaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5ID0gaW50ZXJzZWN0aW9uVGltZXNcbiAgICAgIC5tYXAoKGludGVyc2VjdGlvblRpbWVzQXRJLCBpKSA9PiB7XG4gICAgICAgIHJldHVybiBpbnRlcnNlY3Rpb25UaW1lc0F0SVxuICAgICAgICAgIC5tYXAoKF8sIGopID0+IGopXG4gICAgICAgICAgLmZpbHRlcihqID0+IHtcbiAgICAgICAgICAgIHJldHVybiAhaXNOYU4oaW50ZXJzZWN0aW9uVGltZXNBdElbal0pICYmIDAgPD0gaW50ZXJzZWN0aW9uVGltZXNBdElbal0gJiYgaW50ZXJzZWN0aW9uVGltZXNBdElbal0gPD0gMSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oaW50ZXJzZWN0aW9uVGltZXNbal1baV0pICYmIDAgPD0gaW50ZXJzZWN0aW9uVGltZXNbal1baV0gJiYgaW50ZXJzZWN0aW9uVGltZXNbal1baV0gPD0gMTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5zb3J0KChpLCBqKSA9PiBpbnRlcnNlY3Rpb25UaW1lc0F0SVtpXSAtIGludGVyc2VjdGlvblRpbWVzQXRJW2pdKTtcbiAgICAgIH0pO1xuICAgIC8vIGNvbnNvbGUubG9nKGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheSk7XG4gICAgY29uc3QgcGFydGlhbHM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXVtdID0gW107XG4gICAgZm9yIChsZXQgbG9jYWxJbmRleCA9IDA7IGxvY2FsSW5kZXggPCBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXkubGVuZ3RoOyBsb2NhbEluZGV4KyspIHtcbiAgICAgIGZvciAobGV0IGxvY2FsSW50ZXJJbmRleCA9IDA7IGxvY2FsSW50ZXJJbmRleCA8IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtsb2NhbEluZGV4XS5sZW5ndGg7IGxvY2FsSW50ZXJJbmRleCsrKSB7XG4gICAgICAgIGNvbnN0IGZvcmVpZ25JbmRleCA9IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtsb2NhbEluZGV4XVtsb2NhbEludGVySW5kZXhdO1xuICAgICAgICBpZiAobG9jYWxJbmRleCA8IGZvcmVpZ25JbmRleCkge1xuICAgICAgICAgIGNvbnN0IGludGVyID0gaW50ZXJzZWN0aW9uSW5kZXhbbG9jYWxJbmRleF1baW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2xvY2FsSW5kZXhdW2xvY2FsSW50ZXJJbmRleF1dO1xuXG4gICAgICAgICAgY29uc3QgcHJldkxvY2FsSW50ZXJJbmRleCA9IGxvY2FsSW50ZXJJbmRleCAtIDE7XG4gICAgICAgICAgY29uc3QgbmV4dExvY2FsSW50ZXJJbmRleCA9IGxvY2FsSW50ZXJJbmRleCArIDE7XG5cbiAgICAgICAgICBjb25zdCBmb3JlaWduSW50ZXJJbmRleCA9IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtmb3JlaWduSW5kZXhdLmZpbmRJbmRleChpID0+IGkgPT09IGxvY2FsSW5kZXgpO1xuICAgICAgICAgIGNvbnN0IGZvcmVpZ25pc1JpZ2h0U2lkZWQgPSB0aGlzLnRlc3RTaWRlKGxpbmVzW2xvY2FsSW5kZXhdLnYxLCBsaW5lc1tsb2NhbEluZGV4XS52MiwgbGluZXNbZm9yZWlnbkluZGV4XS52MSk7XG4gICAgICAgICAgY29uc3QgcHJldkZvcmVpZ25JbnRlckluZGV4ID0gZm9yZWlnbmlzUmlnaHRTaWRlZCA/IGZvcmVpZ25JbnRlckluZGV4IC0gMSA6IGZvcmVpZ25JbnRlckluZGV4ICsgMTtcbiAgICAgICAgICBjb25zdCBuZXh0Rm9yZWlnbkludGVySW5kZXggPSBmb3JlaWduaXNSaWdodFNpZGVkID8gZm9yZWlnbkludGVySW5kZXggKyAxIDogZm9yZWlnbkludGVySW5kZXggLSAxO1xuXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coYFxuICAgICAgICAgIC8vICAgbG9jYWxJbmRleDogJHtsb2NhbEluZGV4fVxuICAgICAgICAgIC8vICAgbG9jYWxJbnRlcnNlY3Rpb25zICR7aW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2xvY2FsSW5kZXhdXG4gICAgICAgICAgLy8gICAgIC5tYXAoKF8sIGkpID0+IGkgPT09IGxvY2FsSW50ZXJJbmRleCA/IGBbJHtffV1gIDogXylcbiAgICAgICAgICAvLyAgICAgLmpvaW4oJywgJyl9XG4gICAgICAgICAgLy8gICBmb3JlaWduSW5kZXg6ICR7Zm9yZWlnbkluZGV4fVxuICAgICAgICAgIC8vICAgZm9yZWlnbkludGVyc2VjdGlvbnMgJHtpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbZm9yZWlnbkluZGV4XVxuICAgICAgICAgIC8vICAgICAubWFwKChfLCBpKSA9PiBpID09PSBmb3JlaWduSW50ZXJJbmRleCA/IGBbJHtffV1gIDogXylcbiAgICAgICAgICAvLyAgICAgLmpvaW4oJywgJyl9XG4gICAgICAgICAgLy8gYCk7XG5cbiAgICAgICAgICBjb25zdCBwcmV2TG9jYWxJbnRlciA9IDAgPCBsb2NhbEludGVySW5kZXhcbiAgICAgICAgICAgID8gaW50ZXJzZWN0aW9uSW5kZXhbbG9jYWxJbmRleF1baW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2xvY2FsSW5kZXhdW3ByZXZMb2NhbEludGVySW5kZXhdXVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgIGNvbnN0IG5leHRMb2NhbEludGVyID0gbG9jYWxJbnRlckluZGV4IDwgaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2xvY2FsSW5kZXhdLmxlbmd0aCAtIDFcbiAgICAgICAgICAgID8gaW50ZXJzZWN0aW9uSW5kZXhbbG9jYWxJbmRleF1baW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2xvY2FsSW5kZXhdW25leHRMb2NhbEludGVySW5kZXhdXVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgIGNvbnN0IHByZXZGb3JlaWduSW50ZXIgPSAtMSA8IHByZXZGb3JlaWduSW50ZXJJbmRleCAmJiBwcmV2Rm9yZWlnbkludGVySW5kZXggPCBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbZm9yZWlnbkluZGV4XS5sZW5ndGhcbiAgICAgICAgICAgID8gaW50ZXJzZWN0aW9uSW5kZXhbZm9yZWlnbkluZGV4XVtpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbZm9yZWlnbkluZGV4XVtwcmV2Rm9yZWlnbkludGVySW5kZXhdXVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgIGNvbnN0IG5leHRGb3JlaWduSW50ZXIgPSAtMSA8IG5leHRGb3JlaWduSW50ZXJJbmRleCAmJiBuZXh0Rm9yZWlnbkludGVySW5kZXggPCBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbZm9yZWlnbkluZGV4XS5sZW5ndGhcbiAgICAgICAgICAgID8gaW50ZXJzZWN0aW9uSW5kZXhbZm9yZWlnbkluZGV4XVtpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbZm9yZWlnbkluZGV4XVtuZXh0Rm9yZWlnbkludGVySW5kZXhdXVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgXlxuICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgIC8vICAgICAgICAgICAgICAgIG5leHRGb3JlaWduSW50ZXJcbiAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICAvLyAgLS0tcHJldkxvY2FsSW50ZXItLS1pbnRlci0tLW5leHRMb2NhbEludGVyLS0tPlxuICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHByZXZGb3JlaWduSW50ZXJcbiAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMuYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25JbmRleGVzKFxuICAgICAgICAgICAgaW50ZXIsXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIHByZXZMb2NhbEludGVyLFxuICAgICAgICAgICAgICBuZXh0Rm9yZWlnbkludGVyLFxuICAgICAgICAgICAgICBuZXh0TG9jYWxJbnRlcixcbiAgICAgICAgICAgICAgcHJldkZvcmVpZ25JbnRlclxuICAgICAgICAgICAgXVxuICAgICAgICAgICk7XG4gICAgICAgICAgcGFydGlhbHMucHVzaCguLi5wYXJ0cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gY29uc29sZS5sb2coJ3BhcnRpYWxzJywgcGFydGlhbHMpO1xuICAgIHJldHVybiBwYXJ0aWFscztcbiAgfVxuICBidWlsZFBvbHlnb25JbmRleGVzRnJvbVBhcnRpYWxzKHBhcnRpYWxzOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl1bXSk6IG51bWJlcltdW10ge1xuICAgIGNvbnN0IHBvbHlnb25JbmRleGVzOiBudW1iZXJbXVtdID0gW107XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBvdmVybGFwOiBudW1iZXI7XG4gICAgd2hpbGUgKGkgPCBwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGFydGlhbHMubGVuZ3RoOyBqKyspwqB7XG4gICAgICAgIGlmIChpICE9PSBqKSB7XG4gICAgICAgICAgaWYgKHRoaXMucGFydGlhbHNPdmVybGFwcyhwYXJ0aWFsc1tpXSwgcGFydGlhbHNbal0pKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgXG4gICAgICAgICAgICAvLyAgIHBhcnRpYWxzW2ldOiAke3BhcnRpYWxzW2ldLnRvU3RyaW5nKCl9LFxuICAgICAgICAgICAgLy8gICBwYXJ0aWFsc1tqXTogJHtwYXJ0aWFsc1tqXS50b1N0cmluZygpfSxcbiAgICAgICAgICAgIC8vIGApO1xuICAgICAgICAgICAgcGFydGlhbHNbaV0uc3BsaWNlKC0yLCAyLCAuLi5wYXJ0aWFsc1tqXSk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgXG4gICAgICAgICAgICAvLyAgIHBhcnRpYWxzW2ldOiAke3BhcnRpYWxzW2ldLnRvU3RyaW5nKCl9IFtORVddLFxuICAgICAgICAgICAgLy8gYCk7XG4gICAgICAgICAgICBwYXJ0aWFscy5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICBpZiAoaiA8IGkpIHtcbiAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3ZlcmxhcCA9IHRoaXMucGFydGlhbHNPdmVybGFwcyhwYXJ0aWFsc1tpXSwgcGFydGlhbHNbaV0pIHx8IHRoaXMucGFydGlhbHNNZWV0KHBhcnRpYWxzW2ldLCBwYXJ0aWFsc1tpXSk7XG4gICAgICAgICAgICBpZiAob3ZlcmxhcCA+IDApIHtcbiAgICAgICAgICAgICAgcGFydGlhbHNbaV0uc3BsaWNlKDAsIG92ZXJsYXApO1xuICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgXG4gICAgICAgICAgICAgIC8vICAgcGFydGlhbHNbaV06ICR7cGFydGlhbHNbaV0udG9TdHJpbmcoKX0gW0NMT1NFRF0sXG4gICAgICAgICAgICAgIC8vIGApO1xuICAgICAgICAgICAgICBwb2x5Z29uSW5kZXhlcy5wdXNoKHBhcnRpYWxzW2ldKTtcbiAgICAgICAgICAgICAgcGFydGlhbHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSA9IC0xO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIC8vIGNvbnNvbGUubG9nKCdpbmNvbXBsZXRlIHBvbHlnb25zJyk7XG4gICAgLy8gcGFydGlhbHMubWFwKHAgPT4gY29uc29sZS5sb2cocC50b1N0cmluZygpKSk7XG4gICAgLy8gY29uc29sZS5sb2coJ3BvbHlnb25zJywgcG9seWdvbnMpO1xuICAgIC8vIHBvbHlnb25zLm1hcChwID0+IGNvbnNvbGUubG9nKHAudG9TdHJpbmcoKSkpO1xuICAgIHJldHVybiBwb2x5Z29uSW5kZXhlcztcbiAgfVxufVxuXG4vLyBjb25zdCBsaW5lczogTGluZVtdID0gW107XG4vLyBjb25zdCBpVGltZXM6IG51bWJlcltdW10gPSBbXTtcbi8vIGNvbnN0IGlQb2ludHM6IFZlY3RvcjJbXVtdID0gW107XG4vLyBbXG4vLyAgIFszMDAsIDMwMCwgNjAwLCA2MDBdLFxuLy8gICBbMzAwLCA2MDAsIDYwMCwgMzAwXSxcbi8vICAgWzQwMCwgMzAwLCAzMDAsIDQwMF0sXG4vLyAgIFs1MDAsIDYwMCwgNjAwLCA0MDBdLFxuLy8gICBbMzAwLCA1MDAsIDQwMCwgNjAwXSxcbi8vICAgWzUwMCwgNjAwLCA2MDAsIDQwMF0sXG4vLyBdLmZvckVhY2goKFt4MSwgeTEsIHgyLCB5Ml0pID0+IHtcbi8vICAgdGhpcy5hZGRJbnRlcnNlY3Rpb25UaW1lcyhsMSwgbGluZXMsIGlUaW1lcywgaVBvaW50cyk7XG4vLyAgIGxpbmVzLnB1c2gobDEpO1xuLy8gfSk7XG4vLyBjb25zdCBwYXJ0aWFscyA9IHRoaXMuYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25UaW1lcyhsaW5lcywgaVRpbWVzKTtcbi8vIGNvbnNvbGUubG9nKHBhcnRpYWxzKTsiLCJpbXBvcnQgeyBQb2xwbG90UmVuZGVyZXIgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3BvbHBsb3QtcmVuZGVyZXJcIjtcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9saW5lXCI7XG5pbXBvcnQgeyBQb2x5Z29uIH0gZnJvbSBcIi4vcG9seWdvblwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuL3ZlY3RvcjJcIjtcblxuY29uc3QgZ1RlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyk7XG5nVGVtcGxhdGUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcbmdUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICcwLjRweCcpO1xuXG5jb25zdCBsaW5lVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2xpbmUnKTtcbmxpbmVUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAnMTAsIDQsIDEsIDQnKTtcblxuY29uc3QgYW5jaG9yVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcbmFuY2hvclRlbXBsYXRlLnNldEF0dHJpYnV0ZShcbiAgJ2QnLFxuICAnTSAwLCAwJyArXG4gICdBIDEwLCAxMCwgMCwgMCwgMCwgLTUsIC01JyArIFxuICAnQSAxMCwgMTAsIDAsIDEsIDEsIDUsIC01JyArXG4gICdBIDEwLCAxMCwgMCwgMCwgMCwgMCwgMCdcbik7XG5hbmNob3JUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnd2hpdGUnKTtcblxuY29uc3QgdGV4dFRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICd0ZXh0Jyk7XG50ZXh0VGVtcGxhdGUuc2V0QXR0cmlidXRlKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKTtcbnRleHRUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ2FsaWdubWVudC1iYXNlbGluZScsICdjZW50cmFsJyk7XG50ZXh0VGVtcGxhdGUuc2V0QXR0cmlidXRlKCdmb250LWZhbWlseScsICdjb25zb2xhcywgXCJMaWJlcmF0aW9uIE1vbm9cIiwgY291cmllciwgbW9ub3NwYWNlJyk7XG50ZXh0VGVtcGxhdGUuc2V0QXR0cmlidXRlKCdmb250LXdlaWdodCcsICcxMDAnKTtcbnRleHRUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ2ZvbnQtc2l6ZScsICcxNHB4Jyk7XG5cbmdUZW1wbGF0ZS5hcHBlbmRDaGlsZChsaW5lVGVtcGxhdGUpO1xuZ1RlbXBsYXRlLmFwcGVuZENoaWxkKGFuY2hvclRlbXBsYXRlKTtcbmdUZW1wbGF0ZS5hcHBlbmRDaGlsZChhbmNob3JUZW1wbGF0ZS5jbG9uZU5vZGUoKSk7XG5nVGVtcGxhdGUuYXBwZW5kQ2hpbGQodGV4dFRlbXBsYXRlKTtcbmdUZW1wbGF0ZS5hcHBlbmRDaGlsZCh0ZXh0VGVtcGxhdGUuY2xvbmVOb2RlKCkpO1xuXG5jb25zdCBwb2ludFRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdjaXJjbGUnKTtcbnBvaW50VGVtcGxhdGUuc2V0QXR0cmlidXRlKCdmaWxsJywgJ2dyZWVuJyk7XG5wb2ludFRlbXBsYXRlLnNldEF0dHJpYnV0ZSgncicsICczJyk7XG5cbmNvbnN0IHBvbHlnb25UZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xucG9seWdvblRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdncmVlbicpO1xucG9seWdvblRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnZmlsbC1vcGFjaXR5JywgJzAuNycpO1xucG9seWdvblRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzAuOCcpO1xucG9seWdvblRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2JsYWNrJyk7XG5cbmV4cG9ydCBjbGFzcyBTdmdSZW5kZXJlciBpbXBsZW1lbnRzIFBvbHBsb3RSZW5kZXJlciB7XG4gIHJlYWRvbmx5IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XG4gIHByaXZhdGUgaW50ZXJzZWN0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyk7XG4gIHByaXZhdGUgcG9seWdvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xuICBwcml2YXRlIGxpbmVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcbiAgcHJpdmF0ZSBzdmdHQnlMaW5lID0gbmV3IE1hcDxMaW5lLCBTVkdHRWxlbWVudD4oKTtcbiAgcHJpdmF0ZSBzdmdQYXRoQnlQb2x5Z29uID0gbmV3IE1hcDxQb2x5Z29uLCBTVkdQYXRoRWxlbWVudD4oKTtcbiAgcHJpdmF0ZSBoYW5kbGVyczogUmVjb3JkPHN0cmluZywgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB2b2lkPiA9IHt9O1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZCh0aGlzLmludGVyc2VjdGlvbkNvbnRhaW5lcik7XG4gICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQodGhpcy5wb2x5Z29uQ29udGFpbmVyKTtcbiAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZCh0aGlzLmxpbmVDb250YWluZXIpO1xuICB9XG4gIHByaXZhdGUgX3NldEV2ZW50SGFuZGxlcihldmVudDogc3RyaW5nLCBoYW5kbGVyOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5oYW5kbGVyc1tldmVudF0pIHtcbiAgICAgIHRoaXMuc3ZnLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuaGFuZGxlcnNbZXZlbnRdKTtcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyO1xuICAgIHRoaXMuc3ZnLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuaGFuZGxlcnNbZXZlbnRdKTtcbiAgfVxuICBzZXRNb3VzZURvd25IYW5kbGVyKGhhbmRsZXI6IChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuX3NldEV2ZW50SGFuZGxlcignbW91c2Vkb3duJywgaGFuZGxlcik7XG4gIH1cbiAgc2V0TW91c2VVcEhhbmRsZXIoaGFuZGxlcjogKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5fc2V0RXZlbnRIYW5kbGVyKCdtb3VzZXVwJywgaGFuZGxlcik7XG4gIH1cbiAgc2V0TW91c2VNb3ZlSGFuZGxlcihoYW5kbGVyOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLl9zZXRFdmVudEhhbmRsZXIoJ21vdXNlbW92ZScsIGhhbmRsZXIpO1xuICB9XG4gIGRyYXdMaW5lKGxpbmU6IExpbmUsIG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGxldCBzdmdHOiBTVkdHRWxlbWVudDtcbiAgICBpZiAoIXRoaXMuc3ZnR0J5TGluZS5oYXMobGluZSkpIHtcbiAgICAgIHN2Z0cgPSBnVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpIGFzIFNWR0dFbGVtZW50O1xuICAgICAgdGhpcy5saW5lQ29udGFpbmVyLmFwcGVuZENoaWxkKHN2Z0cpO1xuICAgICAgdGhpcy5zdmdHQnlMaW5lLnNldChsaW5lLCBzdmdHKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3ZnRyA9IHRoaXMuc3ZnR0J5TGluZS5nZXQobGluZSk7XG4gICAgfVxuICAgIGNvbnN0IHN2Z0xpbmUgPSBzdmdHLmNoaWxkcmVuWzBdIGFzIFNWR0xpbmVFbGVtZW50O1xuICAgIGNvbnN0IHN2Z1BhdGhBbmNob3JTdGFydCA9IHN2Z0cuY2hpbGRyZW5bMV0gYXMgU1ZHUGF0aEVsZW1lbnQ7XG4gICAgY29uc3Qgc3ZnUGF0aEFuY2hvckVuZCA9IHN2Z0cuY2hpbGRyZW5bMl0gYXMgU1ZHUGF0aEVsZW1lbnQ7XG4gICAgY29uc3Qgc3ZnVGV4dFN0YXJ0ID0gc3ZnRy5jaGlsZHJlblszXSBhcyBTVkdUZXh0RWxlbWVudDtcbiAgICBjb25zdCBzdmdUZXh0RW5kID0gc3ZnRy5jaGlsZHJlbls0XSBhcyBTVkdUZXh0RWxlbWVudDtcbiAgICBjb25zdCB4MSA9IGxpbmUueDEudG9GaXhlZCgpO1xuICAgIGNvbnN0IHkxID0gbGluZS55MS50b0ZpeGVkKCk7XG4gICAgY29uc3QgeDIgPSBsaW5lLngyLnRvRml4ZWQoKTtcbiAgICBjb25zdCB5MiA9IGxpbmUueTIudG9GaXhlZCgpO1xuICAgIHN2Z0xpbmUuc2V0QXR0cmlidXRlKCd4MScsIHgxKTtcbiAgICBzdmdMaW5lLnNldEF0dHJpYnV0ZSgneTEnLCB5MSk7XG4gICAgc3ZnTGluZS5zZXRBdHRyaWJ1dGUoJ3gyJywgeDIpO1xuICAgIHN2Z0xpbmUuc2V0QXR0cmlidXRlKCd5MicsIHkyKTtcbiAgICBzdmdUZXh0U3RhcnQuaW5uZXJIVE1MID0gbmFtZTtcbiAgICBzdmdUZXh0RW5kLmlubmVySFRNTCA9IG5hbWU7XG4gICAgY29uc3QgYW5nbGUgPSAxODAgKiAobGluZS52Mi5zdWIobGluZS52MSkuYW5nbGUoKSAtIE1hdGguUEkgLyAyKSAvIE1hdGguUEk7XG4gICAgY29uc3QgYmVmb3JlID0gbGluZS5iZWZvcmUoMTQpO1xuICAgIGNvbnN0IGFmdGVyID0gbGluZS5hZnRlcigxNCk7XG4gICAgc3ZnUGF0aEFuY2hvclN0YXJ0LnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3gxfSwgJHt5MX0pIHJvdGF0ZSgke2lzTmFOKGFuZ2xlKSA/IDAgOiBhbmdsZX0pYCk7XG4gICAgc3ZnUGF0aEFuY2hvckVuZC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt4Mn0sICR7eTJ9KSByb3RhdGUoJHtpc05hTihhbmdsZSkgPyAwIDogMTgwICsgYW5nbGV9KWApO1xuICAgIHN2Z1RleHRTdGFydC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtpc05hTihiZWZvcmUueCkgPyB4MSA6IGJlZm9yZS54LnRvRml4ZWQoKX0sICR7aXNOYU4oYmVmb3JlLnkpID8geTEgOiBiZWZvcmUueS50b0ZpeGVkKCl9KWApO1xuICAgIHN2Z1RleHRFbmQuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7aXNOYU4oYWZ0ZXIueCkgPyB4MiA6IGFmdGVyLngudG9GaXhlZCgpfSwgJHtpc05hTihhZnRlci55KSA/IHkyIDogYWZ0ZXIueS50b0ZpeGVkKCl9KWApO1xuICB9XG4gIGVyYXNlTGluZShsaW5lOiBMaW5lKTogdm9pZCB7XG4gICAgY29uc3Qgc3ZnRyA9IHRoaXMuc3ZnR0J5TGluZS5nZXQobGluZSk7XG4gICAgaWYgKHN2Z0cpIHtcbiAgICAgIHRoaXMubGluZUNvbnRhaW5lci5yZW1vdmVDaGlsZChzdmdHKTtcbiAgICAgIHRoaXMuc3ZnR0J5TGluZS5kZWxldGUobGluZSk7XG4gICAgfVxuICB9XG4gIGRyYXdQb2ludChwb2ludDogVmVjdG9yMik6IHZvaWQge1xuICAgIGNvbnN0IHN2Z0NpcmNsZSA9IHBvaW50VGVtcGxhdGUuY2xvbmVOb2RlKCkgYXMgU1ZHQ2lyY2xlRWxlbWVudDtcbiAgICBzdmdDaXJjbGUuc2V0QXR0cmlidXRlKCdjeCcsIHBvaW50LngudG9GaXhlZCgpKTtcbiAgICBzdmdDaXJjbGUuc2V0QXR0cmlidXRlKCdjeScsIHBvaW50LnkudG9GaXhlZCgpKTtcbiAgICB0aGlzLmludGVyc2VjdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChzdmdDaXJjbGUpO1xuICB9XG4gIHByaXZhdGUgY2xlYXJDb250YWluZXIoY29udGFpbmVyOiBTVkdHRWxlbWVudCk6IHZvaWQge1xuICAgIHdoaWxlIChjb250YWluZXIuZmlyc3RDaGlsZCkge1xuICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICB9XG4gIH1cbiAgY2xlYXJJbnRlcnNlY3Rpb25zKCk6IHZvaWQge1xuICAgIHRoaXMuY2xlYXJDb250YWluZXIodGhpcy5pbnRlcnNlY3Rpb25Db250YWluZXIpO1xuICB9XG4gIGRyYXdQb2x5Z29uKHBvbHlnb246IFBvbHlnb24sIGZpbGwgPSAnIycgKyAoTWF0aC5mbG9vcigoMTY3NzcyMTUgLSAxZTUpICogTWF0aC5yYW5kb20oKSkgKyAxZTUpLnRvU3RyaW5nKDE2KSk6IHZvaWQge1xuICAgIGxldCBzdmdQYXRoOiBTVkdQYXRoRWxlbWVudDtcbiAgICBpZiAoIXRoaXMuc3ZnUGF0aEJ5UG9seWdvbi5oYXMocG9seWdvbikpIHtcbiAgICAgIHN2Z1BhdGggPSBwb2x5Z29uVGVtcGxhdGUuY2xvbmVOb2RlKCkgYXMgU1ZHUGF0aEVsZW1lbnQ7XG4gICAgICB0aGlzLnBvbHlnb25Db250YWluZXIuYXBwZW5kQ2hpbGQoc3ZnUGF0aCk7XG4gICAgICB0aGlzLnN2Z1BhdGhCeVBvbHlnb24uc2V0KHBvbHlnb24sIHN2Z1BhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdmdQYXRoID0gdGhpcy5zdmdQYXRoQnlQb2x5Z29uLmdldChwb2x5Z29uKTtcbiAgICB9XG4gICAgc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoJ2QnLCAnTSAnICsgcG9seWdvbi52ZXJ0aWNlcy5tYXAodiA9PiBgJHt2LngudG9GaXhlZCgpfSAke3YueS50b0ZpeGVkKCl9YCkuam9pbignIEwgJykgKyAnWicpO1xuICAgIHN2Z1BhdGguc2V0QXR0cmlidXRlKCdmaWxsJywgZmlsbCk7XG4gIH1cbiAgY2xlYXJQb2x5Z29ucygpOiB2b2lkIHtcbiAgICB0aGlzLmNsZWFyQ29udGFpbmVyKHRoaXMucG9seWdvbkNvbnRhaW5lcik7XG4gIH1cbn0iLCJpbXBvcnQgeyBQb2xwbG90IH0gZnJvbSBcIi4vcG9scGxvdFwiO1xuaW1wb3J0IHsgU3ZnUmVuZGVyZXIgfSBmcm9tIFwiLi9zdmctcmVuZGVyZXJcIjtcblxuY29uc3Qgc3ZnUmVuZGVyZXIgPSBuZXcgU3ZnUmVuZGVyZXIoKTtcbmNvbnN0IHBvbHBsb3QgPSBuZXcgUG9scGxvdChzdmdSZW5kZXJlcik7XG5jb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuYm9keS5hcHBlbmRDaGlsZChzdmdSZW5kZXJlci5zdmcpOyJdLCJzb3VyY2VSb290IjoiIn0=