(()=>{"use strict";var t=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.dotRaw=function(t,e,n,i){return t*n+e*i},t.dot=function(t,e){return this.dotRaw(t.x,t.y,e.x,e.y)},t.prototype.dot=function(e){return t.dot(this,e)},t.crossRaw=function(t,e,n,i){return t*i-n*e},t.cross=function(t,e){return this.crossRaw(t.x,t.y,e.x,e.y)},t.prototype.cross=function(e){return t.cross(this,e)},t.lenRaw=function(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))},t.len=function(t){return this.lenRaw(t.x,t.y)},t.prototype.len=function(){return t.len(this)},t.normalizeRaw=function(t,e,n){void 0===n&&(n=1);var i=n/this.lenRaw(t,e);return this.mulRaw(t,e,i)},t.normalize=function(t,e){return void 0===e&&(e=1),this.normalizeRaw(t.x,t.y,e)},t.prototype.normalize=function(e){return void 0===e&&(e=1),t.normalize(this,e)},t.equalsRaw=function(t,e,n,i){return t===n&&e===i},t.equals=function(t,e){return this.equalsRaw(t.x,t.y,e.x,e.y)},t.prototype.equals=function(e){return t.equals(this,e)},t.addRaw=function(e,n,i,r){return new t(e+i,n+r)},t.add=function(t,e){return this.addRaw(t.x,t.y,e.x,e.y)},t.prototype.add=function(e){return t.add(this,e)},t.subRaw=function(e,n,i,r){return new t(e-i,n-r)},t.sub=function(t,e){return this.subRaw(t.x,t.y,e.x,e.y)},t.prototype.sub=function(e){return t.sub(this,e)},t.mulRaw=function(e,n,i){return new t(e*i,n*i)},t.mul=function(t,e){return this.mulRaw(t.x,t.y,e)},t.prototype.mul=function(e){return t.mul(this,e)},t.intersectionTimesRaw=function(e,n,i,r,s,o,u,h){var c=this.crossRaw(i-e,r-n,u-s,h-o);return new t(this.crossRaw(u-s,h-o,e-s,n-o)/c,this.crossRaw(i-e,r-n,e-s,n-o)/c)},t.intersectionTimes=function(t,e,n,i){return this.intersectionTimesRaw(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)},t.prototype.intersectionTimes=function(e,n,i){return t.intersectionTimes(this,e,n,i)},t.intersectionRaw=function(t,e,n,i,r,s,o,u){var h=this.intersectionTimesRaw(t,e,n,i,r,s,o,u);if(h)return h.y=e+(i-e)*h.x,h.x=t+(n-t)*h.x,h},t.intersection=function(t,e,n,i){return this.intersectionRaw(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)},t.prototype.intersection=function(e,n,i){return t.intersection(this,e,n,i)},t.prototype.angle=function(t){if(t){var e=this.angle(),n=t.angle();return n<e?n+2*Math.PI-e:n-e}return this.y>0?Math.acos(this.x/this.len()):2*Math.PI-Math.acos(this.x/this.len())},t}(),e=function(){function e(e,n,i,r){this.v1=new t(e,n),this.v2=new t(i,r)}return Object.defineProperty(e.prototype,"x1",{get:function(){return this.v1.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this.v1.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x2",{get:function(){return this.v2.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y2",{get:function(){return this.v2.y},enumerable:!1,configurable:!0}),e.prototype.len=function(){return this.v2.sub(this.v1).len()},e.prototype.pointAt=function(t){return this.v1.add(this.v2.sub(this.v1).mul(t))},e.prototype.before=function(t){return this.v1.add(this.v2.sub(this.v1).mul(-t/this.len()))},e.prototype.after=function(t){return this.v1.add(this.v2.sub(this.v1).mul((this.len()+t)/this.len()))},e.prototype.intersectionTimesWith=function(t){return this.v1.intersectionTimes(this.v2,t.v1,t.v2)},e.prototype.update=function(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.v1.x+=t,this.v1.y+=e,this.v2.x+=n,this.v2.y+=i},e}(),n=function(){function t(t){void 0===t&&(t=[]),this.vertices=t}return t.prototype.areaBetween=function(t,e){return(this.vertices[e].x-this.vertices[t].x)*(this.vertices[t].y+this.vertices[e].y)/2},t.prototype.area=function(){for(var t=0,e=this.vertices.length-1,n=0;n<this.vertices.length;n++)t+=this.areaBetween(e,n),e=n;return t},t.prototype.shareEdge=function(t,e){for(var n=this.vertices.length-1,i=0;i<this.vertices.length;i++){if(this.vertices[n].equals(t)&&this.vertices[i].equals(e))return!0;n=i}return!1},t.prototype.intersectionWith=function(t){},t}(),i=function(){function t(t){var n,i,r,s,o=this;this.renderer=t,this.lines=[],this.intersectionTimes=[],this.intersectionPoints=[],this.renderer.setMouseDownHandler((function(t,r,s){i=s||null,(n=r||null)||(n=new e(t.clientX,t.clientY,t.clientX,t.clientY),i=n.v2,o.addLine(n))})),this.renderer.setMouseUpHandler((function(t,e,u){e?(r&&r!==e&&o.renderer.drawLine(r,e===s,!1),r=e,o.renderer.drawLine(r,e===s,!0)):r&&o.renderer.drawLine(r,e===s,!1),n=null,i=null})),this.renderer.setMouseMoveHandler((function(t,e,u){e?(s&&s!==e&&o.renderer.drawLine(s,!1,e===r),s=e,o.renderer.drawLine(s,!0,e===r)):s&&(o.renderer.drawLine(s,!1,e===r),s=null),n&&(i?(i.x=t.clientX,i.y=t.clientY):n.update(t.movementX,t.movementY,t.movementX,t.movementY),o.updateIntersectionTimes(n),o.renderer.drawLine(n,n===s,n===r))}))}return t.prototype.addLine=function(t){this.addIntersectionTimes(t),this.lines.push(t),this.renderer.drawLine(t,!1,!1)},t.prototype.addIntersectionTimes=function(t){for(var e,n=[],i=[],r=0;r<this.lines.length;r++)e=this.lines[r].intersectionTimesWith(t),this.intersectionTimes[r].push(e.x),this.intersectionPoints[r].push(0<=e.x&&e.x<=1&&0<=e.y&&e.y<=1?this.lines[r].v1.add(this.lines[r].v2.sub(this.lines[r].v1).mul(e.x)):null),n.push(e.y),i.push(null);n.push(NaN),i.push(null),this.intersectionTimes.push(n),this.intersectionPoints.push(i),this.renderIntersections()},t.prototype.updateIntersectionTimes=function(t){for(var e,n=this.lines.indexOf(t),i=0;i<this.lines.length;i++)i!==n&&(e=this.lines[i].intersectionTimesWith(t),this.intersectionTimes[i][n]=e.x,this.intersectionTimes[n][i]=e.y,i<n?this.intersectionPoints[i][n]=0<=e.x&&e.x<=1&&0<=e.y&&e.y<=1?this.lines[i].v1.add(this.lines[i].v2.sub(this.lines[i].v1).mul(e.x)):null:this.intersectionPoints[n][i]=0<=e.x&&e.x<=1&&0<=e.y&&e.y<=1?this.lines[i].v1.add(this.lines[i].v2.sub(this.lines[i].v1).mul(e.x)):null);this.renderIntersections()},t.prototype.renderIntersections=function(){var t=this;this.renderer.clearIntersections(),this.intersectionPoints.forEach((function(e){e.forEach((function(e){e&&t.renderer.drawPoint(e)}))})),this.renderer.clearPolygons(),this.buildPolygonsFromIntersectionTimes().forEach((function(e){return t.renderer.drawPolygon(e)}))},t.prototype.testSide=function(t,e,n){return e.sub(t).cross(n.sub(t))>0},t.prototype.buildPolygonsFromIntersectionTimes=function(){for(var t=this,e=this.intersectionTimes.map((function(e,n){return e.map((function(t,e){return e})).filter((function(i){return!isNaN(e[i])&&0<=e[i]&&e[i]<=1&&!isNaN(t.intersectionTimes[i][n])&&0<=t.intersectionTimes[i][n]&&t.intersectionTimes[i][n]<=1})).sort((function(t,n){return e[t]-e[n]}))})),i=[],r=0;r<e.length;r++)for(var s=function(t){var s,u=r,h=t,c=[o.lines[u].pointAt(o.intersectionTimes[u][e[u][h]]),o.lines[u].pointAt(o.intersectionTimes[u][e[u][h+1]])];if(i.some((function(t){return t.shareEdge(c[0],c[1])})))return"break";h+=1;for(var a=0,l=!1;a++<1e3&&(s=u,"number"==typeof(u=e[u][h]));){if("number"!=typeof(h=e[u].findIndex((function(t){return t===s})))&&console.log("error"),0<h&&o.testSide(c[c.length-2],o.lines[u].pointAt(o.intersectionTimes[u][e[u][h-1]]),c[c.length-1]))h-=1;else{if(!(h<e[u].length-1&&o.testSide(c[c.length-2],o.lines[u].pointAt(o.intersectionTimes[u][e[u][h+1]]),c[c.length-1])))break;h+=1}if(c.push(o.lines[u].pointAt(o.intersectionTimes[u][e[u][h]])),c[0].equals(c[c.length-1])){c.pop(),l=!0;break}}1e3===r&&console.warn("too many loops"),l&&i.push(new n(c))},o=this,u=0;u<e[r].length-1&&"break"!==s(u);u++);return console.log(i),i},t}(),r=document.createElementNS("http://www.w3.org/2000/svg","g");r.setAttribute("stroke","black"),r.setAttribute("stroke-width","0.4px");var s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("stroke-dasharray","10, 4, 1, 4");var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d","M 0, 0A 10, 10, 0, 0, 0, -5, -5A 10, 10, 0, 1, 1, 5, -5A 10, 10, 0, 0, 0, 0, 0"),o.setAttribute("fill","white"),r.appendChild(s),r.appendChild(o),r.appendChild(o.cloneNode());var u=document.createElementNS("http://www.w3.org/2000/svg","circle");u.setAttribute("fill","green"),u.setAttribute("r","3");var h=document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("fill","green"),h.setAttribute("stroke-width","3"),h.setAttribute("stroke","grey");var c=new(function(){function t(){this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.intersectionContainer=document.createElementNS("http://www.w3.org/2000/svg","g"),this.polygonContainer=document.createElementNS("http://www.w3.org/2000/svg","g"),this.svgGByLine=new Map,this.lineBySvgG=new Map,this.svg.appendChild(this.intersectionContainer),this.svg.appendChild(this.polygonContainer)}return t.prototype.clickHandlerWrapper=function(t){var e=this;return function(n){var i=document.elementFromPoint(n.clientX,n.clientY),r=e.lineBySvgG.get(i.parentNode);i instanceof SVGPathElement&&i.parentNode!==e.polygonContainer?i.parentNode.children[1]===i?t(n,r,r.v1):t(n,r,r.v2):i instanceof SVGLineElement?t(n,r):t(n)}},t.prototype.setMouseDownHandler=function(t){this.onMouseDown&&this.svg.removeEventListener("mousedown",this.onMouseDown),this.onMouseDown=this.clickHandlerWrapper(t),this.svg.addEventListener("mousedown",this.onMouseDown)},t.prototype.setMouseUpHandler=function(t){this.onMouseUp&&this.svg.removeEventListener("mouseup",this.onMouseUp),this.onMouseUp=this.clickHandlerWrapper(t),this.svg.addEventListener("mouseup",this.onMouseUp)},t.prototype.setMouseMoveHandler=function(t){this.onMouseMove&&this.svg.removeEventListener("mousemove",this.onMouseMove),this.onMouseMove=this.clickHandlerWrapper(t),this.svg.addEventListener("mousemove",this.onMouseMove)},t.prototype.drawLine=function(t,e,n){var i;void 0===e&&(e=!1),void 0===n&&(n=!1),this.svgGByLine.has(t)?i=this.svgGByLine.get(t):(i=r.cloneNode(!0),this.svg.appendChild(i),this.svgGByLine.set(t,i),this.lineBySvgG.set(i,t));var s=i.children[0],o=i.children[1],u=i.children[2],h=t.x1.toFixed(),c=t.y1.toFixed(),a=t.x2.toFixed(),l=t.y2.toFixed();s.setAttribute("x1",h),s.setAttribute("y1",c),s.setAttribute("x2",a),s.setAttribute("y2",l),e?i.setAttribute("stroke-width","0.8px"):i.setAttribute("stroke-width","0.4px"),n?i.setAttribute("stroke","#19a194"):i.setAttribute("stroke","black");var d=180*(t.v2.sub(t.v1).angle()-Math.PI/2)/Math.PI;o.setAttribute("transform","translate("+h+", "+c+") rotate("+(isNaN(d)?0:d)+")"),u.setAttribute("transform","translate("+a+", "+l+") rotate("+(isNaN(d)?0:180+d)+")")},t.prototype.eraseLine=function(t){var e=this.svgGByLine.get(t);e&&(this.svg.removeChild(e),this.svgGByLine.delete(t))},t.prototype.drawPoint=function(t){var e=u.cloneNode();e.setAttribute("cx",t.x.toFixed()),e.setAttribute("cy",t.y.toFixed()),this.intersectionContainer.appendChild(e)},t.prototype.clearIntersections=function(){var t=this;this.intersectionContainer.childNodes.forEach((function(e){return t.intersectionContainer.removeChild(e)}))},t.prototype.drawPolygon=function(t){var e=h.cloneNode();e.setAttribute("d","M"+t.vertices.map((function(t){return t.x+" "+t.y})).join(" L ")+"Z"),e.setAttribute("fill","#"+Math.floor(16777215*Math.random()).toString(16)),this.polygonContainer.appendChild(e)},t.prototype.clearPolygons=function(){var t=this;this.polygonContainer.childNodes.forEach((function(e){return t.polygonContainer.removeChild(e)}))},t}());new i(c),document.querySelector("body").appendChild(c.svg)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xwbG90Ly4vc3JjL3ZlY3RvcjIudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9saW5lLnRzIiwid2VicGFjazovL3BvbHBsb3QvLi9zcmMvcG9seWdvbi50cyIsIndlYnBhY2s6Ly9wb2xwbG90Ly4vc3JjL3BvbHBsb3QudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9zdmctcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJ4IiwieSIsImRvdFJhdyIsIngxIiwieTEiLCJ4MiIsInkyIiwiZG90IiwidSIsInYiLCJ0aGlzIiwib3RoZXIiLCJWZWN0b3IyIiwiY3Jvc3NSYXciLCJjcm9zcyIsImxlblJhdyIsIk1hdGgiLCJzcXJ0IiwicG93IiwibGVuIiwibm9ybWFsaXplUmF3IiwiYnkiLCJjb2VmIiwibXVsUmF3Iiwibm9ybWFsaXplIiwiZXF1YWxzUmF3IiwiZXF1YWxzIiwiYWRkUmF3IiwiYWRkIiwic3ViUmF3Iiwic3ViIiwibXVsIiwiaW50ZXJzZWN0aW9uVGltZXNSYXciLCJmeCIsImZ5IiwidHgiLCJ0eSIsInN4Iiwic3kiLCJleCIsImV5IiwiZGV0IiwiaW50ZXJzZWN0aW9uVGltZXMiLCJmcm9tIiwidG8iLCJzdGFydCIsImVuZCIsImludGVyc2VjdGlvblJhdyIsInRpbWVzIiwiaW50ZXJzZWN0aW9uIiwiYW5nbGUiLCJhMSIsImEyIiwiUEkiLCJhY29zIiwidjEiLCJ2MiIsInBvaW50QXQiLCJ0IiwiYmVmb3JlIiwiYWZ0ZXIiLCJpbnRlcnNlY3Rpb25UaW1lc1dpdGgiLCJ1cGRhdGUiLCJkeDEiLCJkeTEiLCJkeDIiLCJkeTIiLCJ2ZXJ0aWNlcyIsImFyZWFCZXR3ZWVuIiwiaSIsImoiLCJhcmVhIiwiYSIsImxlbmd0aCIsInNoYXJlRWRnZSIsImludGVyc2VjdGlvbldpdGgiLCJsaW5lIiwicmVuZGVyZXIiLCJkcmFnZ2VkTGluZSIsImRyYWdnZWRWZWN0b3IyIiwic2VsZWN0ZWRMaW5lIiwiaG92ZXJlZExpbmUiLCJsaW5lcyIsImludGVyc2VjdGlvblBvaW50cyIsInNldE1vdXNlRG93bkhhbmRsZXIiLCJldmVudCIsImNsaWNrZWRMaW5lIiwiY2xpY2tlZFZlY3RvcjIiLCJMaW5lIiwiY2xpZW50WCIsImNsaWVudFkiLCJhZGRMaW5lIiwic2V0TW91c2VVcEhhbmRsZXIiLCJkcmF3TGluZSIsInNldE1vdXNlTW92ZUhhbmRsZXIiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJ1cGRhdGVJbnRlcnNlY3Rpb25UaW1lcyIsImFkZEludGVyc2VjdGlvblRpbWVzIiwicHVzaCIsIk5hTiIsInJlbmRlckludGVyc2VjdGlvbnMiLCJpbmRleCIsImluZGV4T2YiLCJjbGVhckludGVyc2VjdGlvbnMiLCJmb3JFYWNoIiwiaW50ZXJzZWN0aW9uUG9pbnQiLCJkcmF3UG9pbnQiLCJjbGVhclBvbHlnb25zIiwiYnVpbGRQb2x5Z29uc0Zyb21JbnRlcnNlY3Rpb25UaW1lcyIsInBvbHlnb24iLCJkcmF3UG9seWdvbiIsInRlc3RTaWRlIiwidyIsImludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheSIsIm1hcCIsIl8iLCJmaWx0ZXIiLCJpc05hTiIsInNvcnQiLCJwb2x5Z29ucyIsInBrIiwiayIsImwiLCJzb21lIiwicCIsIkkiLCJmaW5kSW5kZXgiLCJtIiwiY29uc29sZSIsImxvZyIsInBvcCIsIndhcm4iLCJQb2x5Z29uIiwiZ1RlbXBsYXRlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJzZXRBdHRyaWJ1dGUiLCJsaW5lVGVtcGxhdGUiLCJhbmNob3JUZW1wbGF0ZSIsImFwcGVuZENoaWxkIiwiY2xvbmVOb2RlIiwicG9pbnRUZW1wbGF0ZSIsInBvbHlnb25UZW1wbGF0ZSIsInN2Z1JlbmRlcmVyIiwic3ZnIiwiaW50ZXJzZWN0aW9uQ29udGFpbmVyIiwicG9seWdvbkNvbnRhaW5lciIsInN2Z0dCeUxpbmUiLCJNYXAiLCJsaW5lQnlTdmdHIiwiY2xpY2tIYW5kbGVyV3JhcHBlciIsImNsaWNrSGFuZGxlciIsImVsZW1lbnRBdCIsImVsZW1lbnRGcm9tUG9pbnQiLCJnZXQiLCJwYXJlbnROb2RlIiwiU1ZHUGF0aEVsZW1lbnQiLCJjaGlsZHJlbiIsIlNWR0xpbmVFbGVtZW50Iiwib25Nb3VzZURvd24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uTW91c2VVcCIsIm9uTW91c2VNb3ZlIiwiaXNIb3ZlcmVkIiwiaXNTZWxlY3RlZCIsInN2Z0ciLCJoYXMiLCJzZXQiLCJzdmdMaW5lIiwic3ZnUGF0aEFuY2hvclN0YXJ0Iiwic3ZnUGF0aEFuY2hvckVuZCIsInRvRml4ZWQiLCJlcmFzZUxpbmUiLCJyZW1vdmVDaGlsZCIsImRlbGV0ZSIsInBvaW50Iiwic3ZnQ2lyY2xlIiwiY2hpbGROb2RlcyIsImNoaWxkTm9kZSIsInN2Z1BhdGgiLCJqb2luIiwiZmxvb3IiLCJyYW5kb20iLCJ0b1N0cmluZyIsIlBvbFBsb3QiLCJxdWVyeVNlbGVjdG9yIl0sIm1hcHBpbmdzIjoibUJBQUEsaUJBQ0UsV0FBbUJBLEVBQWNDLFFBQWQsSUFBQUQsTUFBQSxRQUFjLElBQUFDLE1BQUEsR0FBZCxLQUFBRCxJQUFjLEtBQUFDLElBNEhuQyxPQTNIUyxFQUFBQyxPQUFQLFNBQWNDLEVBQVlDLEVBQVlDLEVBQVlDLEdBQ2hELE9BQU9ILEVBQUtFLEVBQUtELEVBQUtFLEdBRWpCLEVBQUFDLElBQVAsU0FBV0MsRUFBWUMsR0FDckIsT0FBT0MsS0FBS1IsT0FBT00sRUFBRVIsRUFBR1EsRUFBRVAsRUFBR1EsRUFBRVQsRUFBR1MsRUFBRVIsSUFFdEMsWUFBQU0sSUFBQSxTQUFJSSxHQUNGLE9BQU9DLEVBQVFMLElBQUlHLEtBQU1DLElBRXBCLEVBQUFFLFNBQVAsU0FBZ0JWLEVBQVlDLEVBQVlDLEVBQVlDLEdBQ2xELE9BQU9ILEVBQUtHLEVBQUtELEVBQUtELEdBRWpCLEVBQUFVLE1BQVAsU0FBYU4sRUFBWUMsR0FDdkIsT0FB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LFlBQUExRSxtQkFBQSxzQkFDRTlGLEtBQUt3SSxzQkFBc0JpQyxXQUFXMUUsU0FBUSxTQUFBMkUsR0FBYSxTQUFLbEMsc0JBQXNCNkIsWUFBWUssT0FFcEcsWUFBQXJFLFlBQUEsU0FBWUQsR0FDVixJQUFNdUUsRUFBVXRDLEVBQWdCRixZQUNoQ3dDLEVBQVE1QyxhQUFhLElBQUssSUFBTTNCLEVBQVEzQyxTQUFTZ0QsS0FBSSxTQUFBMUcsR0FBSyxPQUFHQSxFQUFFVCxFQUFDLElBQUlTLEVBQUVSLEtBQUtxTCxLQUFLLE9BQVMsS0FDekZELEVBQVE1QyxhQUFhLE9BQVEsSUFBT3pILEtBQUt1SyxNQUFNLFNBQVd2SyxLQUFLd0ssVUFBV0MsU0FBUyxLQUNuRi9LLEtBQUt5SSxpQkFBaUJQLFlBQVl5QyxJQUVwQyxZQUFBekUsY0FBQSxzQkFDRWxHLEtBQUt5SSxpQkFBaUJnQyxXQUFXMUUsU0FBUSxTQUFBMkUsR0FBYSxTQUFLakMsaUJBQWlCNEIsWUFBWUssT0FFNUYsRUEvR0EsSUMvQmdCLElBQUlNLEVBQVExQyxHQUNmVCxTQUFTb0QsY0FBYyxRQUMvQi9DLFlBQVlJLEVBQVlDLE0iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBWZWN0b3IyIHtcbiAgY29uc3RydWN0b3IocHVibGljIHggPSAwLCBwdWJsaWMgeSA9IDApIHt9XG4gIHN0YXRpYyBkb3RSYXcoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHgxICogeDIgKyB5MSAqIHkyO1xuICB9XG4gIHN0YXRpYyBkb3QodTogVmVjdG9yMiwgdjogVmVjdG9yMik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuZG90UmF3KHUueCwgdS55LCB2LngsIHYueSk7XG4gIH1cbiAgZG90KG90aGVyOiBWZWN0b3IyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gVmVjdG9yMi5kb3QodGhpcywgb3RoZXIpO1xuICB9XG4gIHN0YXRpYyBjcm9zc1Jhdyh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4geDEgKiB5MiAtIHgyICogeTE7XG4gIH1cbiAgc3RhdGljIGNyb3NzKHU6IFZlY3RvcjIsIHY6IFZlY3RvcjIpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNyb3NzUmF3KHUueCwgdS55LCB2LngsIHYueSk7XG4gIH1cbiAgY3Jvc3Mob3RoZXI6IFZlY3RvcjIpOiBudW1iZXIge1xuICAgIHJldHVybiBWZWN0b3IyLmNyb3NzKHRoaXMsIG90aGVyKTtcbiAgfVxuICBzdGF0aWMgbGVuUmF3KHg6IG51bWJlciwgeTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHgsIDIpICsgTWF0aC5wb3coeSwgMikpO1xuICB9XG4gIHN0YXRpYyBsZW4odTogVmVjdG9yMik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubGVuUmF3KHUueCwgdS55KTtcbiAgfVxuICBsZW4oKTogbnVtYmVyIHtcbiAgICByZXR1cm4gVmVjdG9yMi5sZW4odGhpcyk7XG4gIH1cbiAgc3RhdGljIG5vcm1hbGl6ZVJhdyh4OiBudW1iZXIsIHk6IG51bWJlciwgYnk6IG51bWJlciA9IDEpOiBWZWN0b3IyIHtcbiAgICBjb25zdCBjb2VmID0gYnkgLyB0aGlzLmxlblJhdyh4LCB5KTtcbiAgICByZXR1cm4gdGhpcy5tdWxSYXcoeCwgeSwgY29lZik7XG4gIH1cbiAgc3RhdGljIG5vcm1hbGl6ZSh1OiBWZWN0b3IyLCBieTogbnVtYmVyID0gMSk6IFZlY3RvcjIge1xuICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZVJhdyh1LngsIHUueSwgYnkpO1xuICB9XG4gIG5vcm1hbGl6ZShieTogbnVtYmVyID0gMSk6IFZlY3RvcjIge1xuICAgIHJldHVybiBWZWN0b3IyLm5vcm1hbGl6ZSh0aGlzLCBieSk7XG4gIH1cbiAgc3RhdGljIGVxdWFsc1Jhdyh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHgxID09PSB4MiAmJiB5MSA9PT0geTI7XG4gIH1cbiAgc3RhdGljIGVxdWFscyh1OiBWZWN0b3IyLCB2OiBWZWN0b3IyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZXF1YWxzUmF3KHUueCwgdS55LCB2LngsIHYueSk7XG4gIH1cbiAgZXF1YWxzKG90aGVyOiBWZWN0b3IyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIFZlY3RvcjIuZXF1YWxzKHRoaXMsIG90aGVyKTtcbiAgfVxuICBzdGF0aWMgYWRkUmF3KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIoeDEgKyB4MiwgeTEgKyB5Mik7XG4gIH1cbiAgc3RhdGljIGFkZCh1OiBWZWN0b3IyLCB2OiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIHRoaXMuYWRkUmF3KHUueCwgdS55LCB2LngsIHYueSk7XG4gIH1cbiAgYWRkKG90aGVyOiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIFZlY3RvcjIuYWRkKHRoaXMsIG90aGVyKTtcbiAgfVxuICBzdGF0aWMgc3ViUmF3KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIoeDEgLSB4MiwgeTEgLSB5Mik7XG4gIH1cbiAgc3RhdGljIHN1Yih1OiBWZWN0b3IyLCB2OiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIHRoaXMuc3ViUmF3KHUueCwgdS55LCB2LngsIHYueSk7XG4gIH1cbiAgc3ViKG90aGVyOiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIFZlY3RvcjIuc3ViKHRoaXMsIG90aGVyKTtcbiAgfVxuICBzdGF0aWMgbXVsUmF3KHg6IG51bWJlciwgeTogbnVtYmVyLCBieTogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHggKiBieSwgeSAqIGJ5KTtcbiAgfVxuICBzdGF0aWMgbXVsKHU6IFZlY3RvcjIsIGJ5OiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gdGhpcy5tdWxSYXcodS54LCB1LnksIGJ5KTtcbiAgfVxuICBtdWwoYnk6IG51bWJlcik6IFZlY3RvcjIge1xuICAgIHJldHVybiBWZWN0b3IyLm11bCh0aGlzLCBieSk7XG4gIH1cbiAgc3RhdGljIGludGVyc2VjdGlvblRpbWVzUmF3KFxuICAgIGZ4OiBudW1iZXIsIGZ5OiBudW1iZXIsIHR4OiBudW1iZXIsIHR5OiBudW1iZXIsXG4gICAgc3g6IG51bWJlciwgc3k6IG51bWJlciwgZXg6IG51bWJlciwgZXk6IG51bWJlclxuICApOiBWZWN0b3IyIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBkZXQgPSB0aGlzLmNyb3NzUmF3KHR4IC0gZngsIHR5IC0gZnksIGV4IC0gc3gsIGV5IC0gc3kpO1xuICAgIHJldHVybiBuZXcgVmVjdG9yMihcbiAgICAgIHRoaXMuY3Jvc3NSYXcoZXggLSBzeCwgZXkgLSBzeSwgZnggLSBzeCwgZnkgLSBzeSkgLyBkZXQsXG4gICAgICB0aGlzLmNyb3NzUmF3KHR4IC0gZngsIHR5IC0gZnksIGZ4IC0gc3gsIGZ5IC0gc3kpIC8gZGV0XG4gICAgKTtcbiAgfVxuICBzdGF0aWMgaW50ZXJzZWN0aW9uVGltZXMoXG4gICAgZnJvbTogVmVjdG9yMiwgdG86IFZlY3RvcjIsIHN0YXJ0OiBWZWN0b3IyLCBlbmQ6IFZlY3RvcjJcbiAgKTogVmVjdG9yMiB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJzZWN0aW9uVGltZXNSYXcoZnJvbS54LCBmcm9tLnksIHRvLngsIHRvLnksIHN0YXJ0LngsIHN0YXJ0LnksIGVuZC54LCBlbmQueSk7XG4gIH1cbiAgaW50ZXJzZWN0aW9uVGltZXModG86IFZlY3RvcjIsIHN0YXJ0OiBWZWN0b3IyLCBlbmQ6IFZlY3RvcjIpOiBWZWN0b3IyIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gVmVjdG9yMi5pbnRlcnNlY3Rpb25UaW1lcyh0aGlzLCB0bywgc3RhcnQsIGVuZCk7XG4gIH1cbiAgc3RhdGljIGludGVyc2VjdGlvblJhdyhcbiAgICBmeDogbnVtYmVyLCBmeTogbnVtYmVyLCB0eDogbnVtYmVyLCB0eTogbnVtYmVyLFxuICAgIHN4OiBudW1iZXIsIHN5OiBudW1iZXIsIGV4OiBudW1iZXIsIGV5OiBudW1iZXJcbiAgKTogVmVjdG9yMiB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgdGltZXMgPSB0aGlzLmludGVyc2VjdGlvblRpbWVzUmF3KGZ4LCBmeSwgdHgsIHR5LCBzeCwgc3ksIGV4LCBleSk7XG4gICAgaWYgKHRpbWVzKSB7XG4gICAgICB0aW1lcy55ID0gZnkgKyAodHkgLSBmeSkgKiB0aW1lcy54O1xuICAgICAgdGltZXMueCA9IGZ4ICsgKHR4IC0gZngpICogdGltZXMueDtcbiAgICAgIHJldHVybiB0aW1lcztcbiAgICB9XG4gIH1cbiAgc3RhdGljIGludGVyc2VjdGlvbihmcm9tOiBWZWN0b3IyLCB0bzogVmVjdG9yMiwgc3RhcnQ6IFZlY3RvcjIsIGVuZDogVmVjdG9yMik6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmludGVyc2VjdGlvblJhdyhmcm9tLngsIGZyb20ueSwgdG8ueCwgdG8ueSwgc3RhcnQueCwgc3RhcnQueSwgZW5kLngsIGVuZC55KTtcbiAgfVxuICBpbnRlcnNlY3Rpb24odG86IFZlY3RvcjIsIHN0YXJ0OiBWZWN0b3IyLCBlbmQ6IFZlY3RvcjIpOiBWZWN0b3IyIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gVmVjdG9yMi5pbnRlcnNlY3Rpb24odGhpcywgdG8sIHN0YXJ0LCBlbmQpO1xuICB9XG4gIGFuZ2xlKG90aGVyPzogVmVjdG9yMik6IG51bWJlciB7XG4gICAgaWYgKG90aGVyKSB7XG4gICAgICAgY29uc3QgYTEgPSB0aGlzLmFuZ2xlKCk7XG4gICAgICAgY29uc3QgYTIgPSBvdGhlci5hbmdsZSgpO1xuICAgICAgIGlmIChhMiA8IGExKSB7XG4gICAgICAgIHJldHVybiBhMiArIDIgKiBNYXRoLlBJIC0gYTE7XG4gICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGEyIC0gYTE7XG4gICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy55ID4gMCkge1xuICAgICAgcmV0dXJuIE1hdGguYWNvcyh0aGlzLnggLyB0aGlzLmxlbigpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDIgKiBNYXRoLlBJIC0gTWF0aC5hY29zKHRoaXMueCAvIHRoaXMubGVuKCkpO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi92ZWN0b3IyXCI7XG5cbmV4cG9ydCBjbGFzcyBMaW5lIHtcbiAgdjE6IFZlY3RvcjI7XG4gIHYyOiBWZWN0b3IyO1xuICBjb25zdHJ1Y3RvcihcbiAgICB4MT86IG51bWJlcixcbiAgICB5MT86IG51bWJlcixcbiAgICB4Mj86IG51bWJlcixcbiAgICB5Mj86IG51bWJlclxuICApIHtcbiAgICB0aGlzLnYxID0gbmV3IFZlY3RvcjIoeDEsIHkxKTtcbiAgICB0aGlzLnYyID0gbmV3IFZlY3RvcjIoeDIsIHkyKTtcbiAgfVxuICBnZXQgeDEoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52MS54O1xuICB9XG4gIGdldCB5MSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnYxLnk7XG4gIH1cbiAgZ2V0IHgyKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudjIueDtcbiAgfVxuICBnZXQgeTIoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52Mi55O1xuICB9XG4gIGxlbigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnYyLnN1Yih0aGlzLnYxKS5sZW4oKTtcbiAgfVxuICBwb2ludEF0KHQ6IG51bWJlcik6IFZlY3RvcjIge1xuICAgIHJldHVybiB0aGlzLnYxLmFkZCh0aGlzLnYyLnN1Yih0aGlzLnYxKS5tdWwodCkpO1xuICB9XG4gIGJlZm9yZSh0OiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gdGhpcy52MS5hZGQodGhpcy52Mi5zdWIodGhpcy52MSkubXVsKC10IC8gdGhpcy5sZW4oKSkpO1xuICB9XG4gIGFmdGVyKHQ6IG51bWJlcik6IFZlY3RvcjIge1xuICAgIHJldHVybiB0aGlzLnYxLmFkZCh0aGlzLnYyLnN1Yih0aGlzLnYxKS5tdWwoKHRoaXMubGVuKCkgKyB0KSAvIHRoaXMubGVuKCkpKTtcbiAgfVxuICBpbnRlcnNlY3Rpb25UaW1lc1dpdGgob3RoZXI6IExpbmUpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gdGhpcy52MS5pbnRlcnNlY3Rpb25UaW1lcyh0aGlzLnYyLCBvdGhlci52MSwgb3RoZXIudjIpO1xuICB9XG4gIHVwZGF0ZShkeDEgPSAwLCBkeTEgPSAwLCBkeDIgPSAwLCBkeTIgPSAwKTogdm9pZCB7XG4gICAgdGhpcy52MS54ICs9IGR4MTtcbiAgICB0aGlzLnYxLnkgKz0gZHkxO1xuICAgIHRoaXMudjIueCArPSBkeDI7XG4gICAgdGhpcy52Mi55ICs9IGR5MjtcbiAgfVxufSIsImltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9saW5lXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4vdmVjdG9yMlwiO1xuXG5leHBvcnQgY2xhc3MgUG9seWdvbiB7XG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHZlcnRpY2VzOiBWZWN0b3IyW10gPSBbXSkge1xuXG4gIH1cbiAgcHJpdmF0ZSBhcmVhQmV0d2VlbihpOiBudW1iZXIsIGo6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuICh0aGlzLnZlcnRpY2VzW2pdLnggLSB0aGlzLnZlcnRpY2VzW2ldLngpICogKHRoaXMudmVydGljZXNbaV0ueSArIHRoaXMudmVydGljZXNbal0ueSkgLyAyO1xuICB9XG4gIGFyZWEoKTogbnVtYmVyIHtcbiAgICBsZXQgYSA9IDA7XG4gICAgbGV0IGkgPSB0aGlzLnZlcnRpY2VzLmxlbmd0aCAtIDE7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICBhICs9IHRoaXMuYXJlYUJldHdlZW4oaSwgaik7XG4gICAgICBpID0gajtcbiAgICB9XG4gICAgcmV0dXJuIGE7XG4gIH1cbiAgc2hhcmVFZGdlKHU6IFZlY3RvcjIsIHY6IFZlY3RvcjIpOiBib29sZWFuIHtcbiAgICBsZXQgaSA9IHRoaXMudmVydGljZXMubGVuZ3RoIC0gMTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMudmVydGljZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmICh0aGlzLnZlcnRpY2VzW2ldLmVxdWFscyh1KSAmJiB0aGlzLnZlcnRpY2VzW2pdLmVxdWFscyh2KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGkgPSBqO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaW50ZXJzZWN0aW9uV2l0aChsaW5lOiBMaW5lKSB7XG4gICAgXG4gIH1cbn0iLCJpbXBvcnQgeyBQb2xwbG90UmVuZGVyZXIgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3BvbHBsb3QtcmVuZGVyZXJcIjtcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9saW5lXCI7XG5pbXBvcnQgeyBQb2x5Z29uIH0gZnJvbSBcIi4vcG9seWdvblwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuL3ZlY3RvcjJcIjtcblxuZXhwb3J0IGNsYXNzIFBvbFBsb3Qge1xuICBsaW5lczogTGluZVtdID0gW107XG4gIGludGVyc2VjdGlvblRpbWVzOiBudW1iZXJbXVtdID0gW107XG4gIGludGVyc2VjdGlvblBvaW50czogVmVjdG9yMltdW10gPSBbXTtcbiAgY29uc3RydWN0b3IocmVhZG9ubHkgcmVuZGVyZXI6IFBvbHBsb3RSZW5kZXJlcikge1xuICAgIGxldCBkcmFnZ2VkTGluZTogTGluZTtcbiAgICBsZXQgZHJhZ2dlZFZlY3RvcjI6IFZlY3RvcjI7XG5cbiAgICB0aGlzLnJlbmRlcmVyLnNldE1vdXNlRG93bkhhbmRsZXIoKGV2ZW50LCBjbGlja2VkTGluZSwgY2xpY2tlZFZlY3RvcjIpID0+IHtcbiAgICAgIGRyYWdnZWRMaW5lID0gY2xpY2tlZExpbmUgfHwgbnVsbDtcbiAgICAgIGRyYWdnZWRWZWN0b3IyID0gY2xpY2tlZFZlY3RvcjIgfHwgbnVsbDtcbiAgICAgIGlmICghZHJhZ2dlZExpbmUpIHtcbiAgICAgICAgZHJhZ2dlZExpbmUgPSBuZXcgTGluZShldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZLCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgICAgICAgZHJhZ2dlZFZlY3RvcjIgPSBkcmFnZ2VkTGluZS52MjtcbiAgICAgICAgdGhpcy5hZGRMaW5lKGRyYWdnZWRMaW5lKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxldCBzZWxlY3RlZExpbmU6IExpbmU7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRNb3VzZVVwSGFuZGxlcigoZXZlbnQsIGNsaWNrZWRMaW5lLCBjbGlja2VkVmVjdG9yMikgPT4ge1xuICAgICAgaWYgKGNsaWNrZWRMaW5lKSB7XG4gICAgICAgIGlmIChzZWxlY3RlZExpbmUgJiYgc2VsZWN0ZWRMaW5lICE9PSBjbGlja2VkTGluZSkge1xuICAgICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd0xpbmUoc2VsZWN0ZWRMaW5lLCBjbGlja2VkTGluZSA9PT0gaG92ZXJlZExpbmUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxlY3RlZExpbmUgPSBjbGlja2VkTGluZTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5kcmF3TGluZShzZWxlY3RlZExpbmUsIGNsaWNrZWRMaW5lID09PSBob3ZlcmVkTGluZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkTGluZSkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmRyYXdMaW5lKHNlbGVjdGVkTGluZSwgY2xpY2tlZExpbmUgPT09IGhvdmVyZWRMaW5lLCBmYWxzZSk7XG4gICAgICB9XG4gICAgICBkcmFnZ2VkTGluZSA9IG51bGw7XG4gICAgICBkcmFnZ2VkVmVjdG9yMiA9IG51bGw7XG4gICAgfSk7XG5cbiAgICBsZXQgaG92ZXJlZExpbmU6IExpbmU7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRNb3VzZU1vdmVIYW5kbGVyKChldmVudCwgY2xpY2tlZExpbmUsIGNsaWNrZWRWZWN0b3IyKSA9PiB7XG4gICAgICBpZiAoY2xpY2tlZExpbmUpIHtcbiAgICAgICAgaWYgKGhvdmVyZWRMaW5lICYmIGhvdmVyZWRMaW5lICE9PSBjbGlja2VkTGluZSkge1xuICAgICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd0xpbmUoaG92ZXJlZExpbmUsIGZhbHNlLCBjbGlja2VkTGluZSA9PT0gc2VsZWN0ZWRMaW5lKTtcbiAgICAgICAgfVxuICAgICAgICBob3ZlcmVkTGluZSA9IGNsaWNrZWRMaW5lO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmRyYXdMaW5lKGhvdmVyZWRMaW5lLCB0cnVlLCBjbGlja2VkTGluZSA9PT0gc2VsZWN0ZWRMaW5lKTsgXG4gICAgICB9IGVsc2UgaWYgKGhvdmVyZWRMaW5lKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd0xpbmUoaG92ZXJlZExpbmUsIGZhbHNlLCBjbGlja2VkTGluZSA9PT0gc2VsZWN0ZWRMaW5lKTtcbiAgICAgICAgaG92ZXJlZExpbmUgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGRyYWdnZWRMaW5lKSB7XG4gICAgICAgIGlmIChkcmFnZ2VkVmVjdG9yMikge1xuICAgICAgICAgIGRyYWdnZWRWZWN0b3IyLnggPSBldmVudC5jbGllbnRYO1xuICAgICAgICAgIGRyYWdnZWRWZWN0b3IyLnkgPSBldmVudC5jbGllbnRZO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRyYWdnZWRMaW5lLnVwZGF0ZShldmVudC5tb3ZlbWVudFgsIGV2ZW50Lm1vdmVtZW50WSwgZXZlbnQubW92ZW1lbnRYLCBldmVudC5tb3ZlbWVudFkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlSW50ZXJzZWN0aW9uVGltZXMoZHJhZ2dlZExpbmUpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmRyYXdMaW5lKGRyYWdnZWRMaW5lLCBkcmFnZ2VkTGluZSA9PT0gaG92ZXJlZExpbmUsIGRyYWdnZWRMaW5lID09PSBzZWxlY3RlZExpbmUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGFkZExpbmUobGluZTogTGluZSk6IHZvaWQge1xuICAgIHRoaXMuYWRkSW50ZXJzZWN0aW9uVGltZXMobGluZSk7XG4gICAgdGhpcy5saW5lcy5wdXNoKGxpbmUpO1xuICAgIHRoaXMucmVuZGVyZXIuZHJhd0xpbmUobGluZSwgZmFsc2UsIGZhbHNlKTtcbiAgfVxuICBhZGRJbnRlcnNlY3Rpb25UaW1lcyhsaW5lOiBMaW5lKTogdm9pZCB7XG4gICAgY29uc3QgaW50ZXJzZWN0aW9uVGltZXM6IG51bWJlcltdID0gW107XG4gICAgY29uc3QgaW50ZXJzZWN0aW9uUG9pbnRzOiBWZWN0b3IyW10gPSBbXTtcbiAgICBsZXQgdGltZXM6IFZlY3RvcjI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aW1lcyA9IHRoaXMubGluZXNbaV0uaW50ZXJzZWN0aW9uVGltZXNXaXRoKGxpbmUpO1xuICAgICAgdGhpcy5pbnRlcnNlY3Rpb25UaW1lc1tpXS5wdXNoKHRpbWVzLngpO1xuICAgICAgdGhpcy5pbnRlcnNlY3Rpb25Qb2ludHNbaV0ucHVzaChcbiAgICAgICAgMCA8PSB0aW1lcy54ICYmIHRpbWVzLnggPD0gMSAmJiAwIDw9IHRpbWVzLnkgJiYgdGltZXMueSA8PSAxXG4gICAgICAgICAgPyB0aGlzLmxpbmVzW2ldLnYxLmFkZCh0aGlzLmxpbmVzW2ldLnYyLnN1Yih0aGlzLmxpbmVzW2ldLnYxKS5tdWwodGltZXMueCkpXG4gICAgICAgICAgOiBudWxsXG4gICAgICApO1xuICAgICAgaW50ZXJzZWN0aW9uVGltZXMucHVzaCh0aW1lcy55KTtcbiAgICAgIGludGVyc2VjdGlvblBvaW50cy5wdXNoKG51bGwpO1xuICAgIH1cbiAgICBpbnRlcnNlY3Rpb25UaW1lcy5wdXNoKE5hTik7XG4gICAgaW50ZXJzZWN0aW9uUG9pbnRzLnB1c2gobnVsbCk7XG4gICAgdGhpcy5pbnRlcnNlY3Rpb25UaW1lcy5wdXNoKGludGVyc2VjdGlvblRpbWVzKTtcbiAgICB0aGlzLmludGVyc2VjdGlvblBvaW50cy5wdXNoKGludGVyc2VjdGlvblBvaW50cyk7XG4gICAgdGhpcy5yZW5kZXJJbnRlcnNlY3Rpb25zKCk7XG4gIH1cbiAgdXBkYXRlSW50ZXJzZWN0aW9uVGltZXMobGluZTogTGluZSk6IHZvaWQge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saW5lcy5pbmRleE9mKGxpbmUpO1xuICAgIGxldCB0aW1lczogVmVjdG9yMjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChpICE9PSBpbmRleCkge1xuICAgICAgICB0aW1lcyA9IHRoaXMubGluZXNbaV0uaW50ZXJzZWN0aW9uVGltZXNXaXRoKGxpbmUpO1xuICAgICAgICB0aGlzLmludGVyc2VjdGlvblRpbWVzW2ldW2luZGV4XSA9IHRpbWVzLng7XG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uVGltZXNbaW5kZXhdW2ldID0gdGltZXMueTtcbiAgICAgICAgaWYgKGkgPCBpbmRleCkge1xuICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uUG9pbnRzW2ldW2luZGV4XSA9IDAgPD0gdGltZXMueCAmJiB0aW1lcy54IDw9IDEgJiYgMCA8PSB0aW1lcy55ICYmIHRpbWVzLnkgPD0gMVxuICAgICAgICAgICAgPyB0aGlzLmxpbmVzW2ldLnYxLmFkZCh0aGlzLmxpbmVzW2ldLnYyLnN1Yih0aGlzLmxpbmVzW2ldLnYxKS5tdWwodGltZXMueCkpXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25Qb2ludHNbaW5kZXhdW2ldID0gMCA8PSB0aW1lcy54ICYmIHRpbWVzLnggPD0gMSAmJiAwIDw9IHRpbWVzLnkgJiYgdGltZXMueSA8PSAxXG4gICAgICAgICAgICA/IHRoaXMubGluZXNbaV0udjEuYWRkKHRoaXMubGluZXNbaV0udjIuc3ViKHRoaXMubGluZXNbaV0udjEpLm11bCh0aW1lcy54KSlcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnJlbmRlckludGVyc2VjdGlvbnMoKTtcbiAgfVxuICByZW5kZXJJbnRlcnNlY3Rpb25zKCk6IHZvaWQge1xuICAgIHRoaXMucmVuZGVyZXIuY2xlYXJJbnRlcnNlY3Rpb25zKCk7XG4gICAgdGhpcy5pbnRlcnNlY3Rpb25Qb2ludHMuZm9yRWFjaChpbnRlcnNlY3Rpb25Qb2ludHMgPT4ge1xuICAgICAgaW50ZXJzZWN0aW9uUG9pbnRzLmZvckVhY2goaW50ZXJzZWN0aW9uUG9pbnQgPT4ge1xuICAgICAgICBpZiAoaW50ZXJzZWN0aW9uUG9pbnQpIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLmRyYXdQb2ludChpbnRlcnNlY3Rpb25Qb2ludCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMucmVuZGVyZXIuY2xlYXJQb2x5Z29ucygpO1xuICAgIHRoaXMuYnVpbGRQb2x5Z29uc0Zyb21JbnRlcnNlY3Rpb25UaW1lcygpXG4gICAgICAuZm9yRWFjaChwb2x5Z29uID0+IHRoaXMucmVuZGVyZXIuZHJhd1BvbHlnb24ocG9seWdvbikpO1xuICB9XG4gIHRlc3RTaWRlKHU6IFZlY3RvcjIsIHY6IFZlY3RvcjIsIHc6IFZlY3RvcjIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdi5zdWIodSkuY3Jvc3Mody5zdWIodSkpID4gMDtcbiAgfVxuICBidWlsZFBvbHlnb25zRnJvbUludGVyc2VjdGlvblRpbWVzKCk6IFBvbHlnb25bXSB7XG4gICAgY29uc3QgaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5ID0gdGhpcy5pbnRlcnNlY3Rpb25UaW1lc1xuICAgICAgLm1hcCgoaW50ZXJzZWN0aW9uVGltZXMsIGkpID0+IHtcbiAgICAgICAgcmV0dXJuIGludGVyc2VjdGlvblRpbWVzXG4gICAgICAgICAgLm1hcCgoXywgaikgPT4gailcbiAgICAgICAgICAuZmlsdGVyKGogPT4ge1xuICAgICAgICAgICAgcmV0dXJuICFpc05hTihpbnRlcnNlY3Rpb25UaW1lc1tqXSkgJiYgMCA8PSBpbnRlcnNlY3Rpb25UaW1lc1tqXSAmJiBpbnRlcnNlY3Rpb25UaW1lc1tqXSA8PSAxICYmXG4gICAgICAgICAgICAgICFpc05hTih0aGlzLmludGVyc2VjdGlvblRpbWVzW2pdW2ldKSAmJiAwIDw9IHRoaXMuaW50ZXJzZWN0aW9uVGltZXNbal1baV0gJiYgdGhpcy5pbnRlcnNlY3Rpb25UaW1lc1tqXVtpXSA8PSAxO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnNvcnQoKGksIGopID0+IGludGVyc2VjdGlvblRpbWVzW2ldIC0gaW50ZXJzZWN0aW9uVGltZXNbal0pO1xuICAgICAgfSk7XG4gICAgY29uc3QgcG9seWdvbnM6IFBvbHlnb25bXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtpXS5sZW5ndGggLSAxOyBqKyspIHtcbiAgICAgICAgbGV0IHBrOiBudW1iZXI7XG4gICAgICAgIGxldCBwbDogbnVtYmVyO1xuICAgICAgICBsZXQgayA9IGk7XG4gICAgICAgIGxldCBsID0gajtcbiAgICAgICAgY29uc3QgcG9seWdvbjogVmVjdG9yMltdID0gW1xuICAgICAgICAgIC8vIGZpcnN0IHBvaW50IG9uIG9yaWdpbmFsIGxpbmVcbiAgICAgICAgICB0aGlzLmxpbmVzW2tdLnBvaW50QXQodGhpcy5pbnRlcnNlY3Rpb25UaW1lc1trXVtpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlba11bbF1dKSxcbiAgICAgICAgICAvLyBzZWNvbmQgcG9pbnQgb24gb3JpZ2luYWwgbGluZSAodGhlIG5leHQgaW50ZXJzZWN0aW9uKVxuICAgICAgICAgIHRoaXMubGluZXNba10ucG9pbnRBdCh0aGlzLmludGVyc2VjdGlvblRpbWVzW2tdW2ludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtrXVtsICsgMV1dKSxcbiAgICAgICAgXTtcbiAgICAgICAgLy8gc2tpcCBpZiBjdXJyZW50IGVkZ2UgaXMgYWxyZWFkeSBvbiBhbiBvdGhlciBwb2x5Z29uXG4gICAgICAgIGlmIChwb2x5Z29ucy5zb21lKHAgPT4gcC5zaGFyZUVkZ2UocG9seWdvblswXSwgcG9seWdvblsxXSkpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbCArPSAxO1xuICAgICAgICBsZXQgSSA9IDA7XG4gICAgICAgIGxldCBjbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKHRydWUgJiYgSSsrIDwgMWUzKSB7XG4gICAgICAgICAgcGsgPSBrO1xuICAgICAgICAgIHBsID0gbDtcbiAgICAgICAgICAvLyBzd2l0Y2ggdG8gdGhlIGxpbmUgaW50ZXJzZWN0ZWQgYXQgcHJldmlvdXMgcG9pbnRcbiAgICAgICAgICBrID0gaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2tdW2xdO1xuICAgICAgICAgIGlmICh0eXBlb2YgayAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyByZXRyaWV2ZSB0aGUgaW5kZXggb2YgcHJldmlvdXMgaW50ZXJzZWN0aW9uIG9uIG5ldyBsaW5lXG4gICAgICAgICAgbCA9IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtrXS5maW5kSW5kZXgobSA9PiBtID09PSBwayk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBsICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIG9wdGlvbm5hbGx5XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgMCA8IGwgJiYgdGhpcy50ZXN0U2lkZShcbiAgICAgICAgICAgICAgcG9seWdvbltwb2x5Z29uLmxlbmd0aCAtIDJdLFxuICAgICAgICAgICAgICB0aGlzLmxpbmVzW2tdLnBvaW50QXQodGhpcy5pbnRlcnNlY3Rpb25UaW1lc1trXVtpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlba11bbCAtIDFdXSksXG4gICAgICAgICAgICAgIHBvbHlnb25bcG9seWdvbi5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGwgLT0gMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgbCA8IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtrXS5sZW5ndGggLSAxICYmIHRoaXMudGVzdFNpZGUoXG4gICAgICAgICAgICAgIHBvbHlnb25bcG9seWdvbi5sZW5ndGggLSAyXSxcbiAgICAgICAgICAgICAgdGhpcy5saW5lc1trXS5wb2ludEF0KHRoaXMuaW50ZXJzZWN0aW9uVGltZXNba11baW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2tdW2wgKyAxXV0pLFxuICAgICAgICAgICAgICBwb2x5Z29uW3BvbHlnb24ubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBsICs9IDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwb2x5Z29uLnB1c2godGhpcy5saW5lc1trXS5wb2ludEF0KHRoaXMuaW50ZXJzZWN0aW9uVGltZXNba11baW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2tdW2xdXSkpO1xuICAgICAgICAgIC8vIGlmIGxhc3QgcHVzaGVkIHBvaW50IGlzIGVxdWFscyB0byB0aGUgZmlyc3QsIGNsb3NlZCB0aGUgcG9seWdvblxuICAgICAgICAgIGlmIChwb2x5Z29uWzBdLmVxdWFscyhwb2x5Z29uW3BvbHlnb24ubGVuZ3RoIC0gMV0pKSB7XG4gICAgICAgICAgICBwb2x5Z29uLnBvcCgpO1xuICAgICAgICAgICAgY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gMWUzKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCd0b28gbWFueSBsb29wcycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbG9zZWQpIHtcbiAgICAgICAgICBwb2x5Z29ucy5wdXNoKG5ldyBQb2x5Z29uKHBvbHlnb24pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhwb2x5Z29ucyk7XG4gICAgcmV0dXJuIHBvbHlnb25zO1xuICB9XG59IiwiaW1wb3J0IHsgQ2xpY2tIYW5kbGVyLCBQb2xwbG90UmVuZGVyZXIgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3BvbHBsb3QtcmVuZGVyZXJcIjtcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9saW5lXCI7XG5pbXBvcnQgeyBQb2x5Z29uIH0gZnJvbSBcIi4vcG9seWdvblwiO1xuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuL3ZlY3RvcjJcIjtcblxuY29uc3QgZ1RlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyk7XG5nVGVtcGxhdGUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcbmdUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICcwLjRweCcpO1xuXG5jb25zdCBsaW5lVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2xpbmUnKTtcbmxpbmVUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAnMTAsIDQsIDEsIDQnKTtcblxuY29uc3QgYW5jaG9yVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcbmFuY2hvclRlbXBsYXRlLnNldEF0dHJpYnV0ZShcbiAgJ2QnLFxuICAnTSAwLCAwJyArXG4gICdBIDEwLCAxMCwgMCwgMCwgMCwgLTUsIC01JyArIFxuICAnQSAxMCwgMTAsIDAsIDEsIDEsIDUsIC01JyArXG4gICdBIDEwLCAxMCwgMCwgMCwgMCwgMCwgMCdcbik7XG5hbmNob3JUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnd2hpdGUnKTtcblxuZ1RlbXBsYXRlLmFwcGVuZENoaWxkKGxpbmVUZW1wbGF0ZSk7XG5nVGVtcGxhdGUuYXBwZW5kQ2hpbGQoYW5jaG9yVGVtcGxhdGUpO1xuZ1RlbXBsYXRlLmFwcGVuZENoaWxkKGFuY2hvclRlbXBsYXRlLmNsb25lTm9kZSgpKTtcblxuY29uc3QgcG9pbnRUZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnY2lyY2xlJyk7XG5wb2ludFRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdncmVlbicpO1xucG9pbnRUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3InLCAnMycpO1xuXG5jb25zdCBwb2x5Z29uVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcbnBvbHlnb25UZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnZ3JlZW4nKTtcbnBvbHlnb25UZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczJyk7XG5wb2x5Z29uVGVtcGxhdGUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnZ3JleScpO1xuXG5leHBvcnQgY2xhc3MgU3ZnUmVuZGVyZXIgaW1wbGVtZW50cyBQb2xwbG90UmVuZGVyZXIge1xuICByZWFkb25seSBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpO1xuICBwcml2YXRlIGludGVyc2VjdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xuICBwcml2YXRlIHBvbHlnb25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcbiAgcHJpdmF0ZSBzdmdHQnlMaW5lID0gbmV3IE1hcDxMaW5lLCBTVkdHRWxlbWVudD4oKTtcbiAgcHJpdmF0ZSBsaW5lQnlTdmdHID0gbmV3IE1hcDxTVkdHRWxlbWVudCwgTGluZT4oKTtcbiAgcHJpdmF0ZSBvbk1vdXNlRG93bjogKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiBhbnk7XG4gIHByaXZhdGUgb25Nb3VzZVVwOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IGFueTtcbiAgcHJpdmF0ZSBvbk1vdXNlTW92ZTogKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiBhbnk7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKHRoaXMuaW50ZXJzZWN0aW9uQ29udGFpbmVyKTtcbiAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZCh0aGlzLnBvbHlnb25Db250YWluZXIpO1xuICB9XG4gIGNsaWNrSGFuZGxlcldyYXBwZXIoY2xpY2tIYW5kbGVyOiBDbGlja0hhbmRsZXIpOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IGFueSB7XG4gICAgcmV0dXJuIGV2ZW50ID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRBdCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4gICAgICBjb25zdCBsaW5lID0gdGhpcy5saW5lQnlTdmdHLmdldChlbGVtZW50QXQucGFyZW50Tm9kZSBhcyBTVkdHRWxlbWVudCk7XG4gICAgICBpZiAoZWxlbWVudEF0IGluc3RhbmNlb2YgU1ZHUGF0aEVsZW1lbnQgJiYgZWxlbWVudEF0LnBhcmVudE5vZGUgIT09IHRoaXMucG9seWdvbkNvbnRhaW5lcikge1xuICAgICAgICBpZiAoZWxlbWVudEF0LnBhcmVudE5vZGUuY2hpbGRyZW5bMV0gPT09IGVsZW1lbnRBdCkge1xuICAgICAgICAgIGNsaWNrSGFuZGxlcihldmVudCwgbGluZSwgbGluZS52MSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xpY2tIYW5kbGVyKGV2ZW50LCBsaW5lLCBsaW5lLnYyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChlbGVtZW50QXQgaW5zdGFuY2VvZiBTVkdMaW5lRWxlbWVudCkge1xuICAgICAgICBjbGlja0hhbmRsZXIoZXZlbnQsIGxpbmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xpY2tIYW5kbGVyKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHNldE1vdXNlRG93bkhhbmRsZXIoY2xpY2tIYW5kbGVyOiBDbGlja0hhbmRsZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5vbk1vdXNlRG93bikge1xuICAgICAgdGhpcy5zdmcucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbk1vdXNlRG93bik7XG4gICAgfVxuICAgIHRoaXMub25Nb3VzZURvd24gPSB0aGlzLmNsaWNrSGFuZGxlcldyYXBwZXIoY2xpY2tIYW5kbGVyKTtcbiAgICB0aGlzLnN2Zy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duKTtcbiAgfVxuICBzZXRNb3VzZVVwSGFuZGxlcihjbGlja0hhbmRsZXI6IENsaWNrSGFuZGxlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLm9uTW91c2VVcCkge1xuICAgICAgdGhpcy5zdmcucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwKTtcbiAgICB9XG4gICAgdGhpcy5vbk1vdXNlVXAgPSB0aGlzLmNsaWNrSGFuZGxlcldyYXBwZXIoY2xpY2tIYW5kbGVyKTtcbiAgICB0aGlzLnN2Zy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXApO1xuICB9XG4gIHNldE1vdXNlTW92ZUhhbmRsZXIoY2xpY2tIYW5kbGVyOiBDbGlja0hhbmRsZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5vbk1vdXNlTW92ZSkge1xuICAgICAgdGhpcy5zdmcucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSk7XG4gICAgfVxuICAgIHRoaXMub25Nb3VzZU1vdmUgPSB0aGlzLmNsaWNrSGFuZGxlcldyYXBwZXIoY2xpY2tIYW5kbGVyKTtcbiAgICB0aGlzLnN2Zy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlKTtcbiAgfVxuICBkcmF3TGluZShsaW5lOiBMaW5lLCBpc0hvdmVyZWQgPSBmYWxzZSwgaXNTZWxlY3RlZCA9IGZhbHNlKTogdm9pZCB7XG4gICAgbGV0IHN2Z0c6IFNWR0dFbGVtZW50O1xuICAgIGlmICghdGhpcy5zdmdHQnlMaW5lLmhhcyhsaW5lKSkge1xuICAgICAgc3ZnRyA9IGdUZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSkgYXMgU1ZHR0VsZW1lbnQ7XG4gICAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZChzdmdHKTtcbiAgICAgIHRoaXMuc3ZnR0J5TGluZS5zZXQobGluZSwgc3ZnRyk7XG4gICAgICB0aGlzLmxpbmVCeVN2Z0cuc2V0KHN2Z0csIGxpbmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdmdHID0gdGhpcy5zdmdHQnlMaW5lLmdldChsaW5lKTtcbiAgICB9XG4gICAgY29uc3Qgc3ZnTGluZSA9IHN2Z0cuY2hpbGRyZW5bMF0gYXMgU1ZHTGluZUVsZW1lbnQ7XG4gICAgY29uc3Qgc3ZnUGF0aEFuY2hvclN0YXJ0ID0gc3ZnRy5jaGlsZHJlblsxXSBhcyBTVkdQYXRoRWxlbWVudDtcbiAgICBjb25zdCBzdmdQYXRoQW5jaG9yRW5kID0gc3ZnRy5jaGlsZHJlblsyXSBhcyBTVkdQYXRoRWxlbWVudDtcbiAgICBjb25zdCB4MSA9IGxpbmUueDEudG9GaXhlZCgpO1xuICAgIGNvbnN0IHkxID0gbGluZS55MS50b0ZpeGVkKCk7XG4gICAgY29uc3QgeDIgPSBsaW5lLngyLnRvRml4ZWQoKTtcbiAgICBjb25zdCB5MiA9IGxpbmUueTIudG9GaXhlZCgpO1xuICAgIHN2Z0xpbmUuc2V0QXR0cmlidXRlKCd4MScsIHgxKTtcbiAgICBzdmdMaW5lLnNldEF0dHJpYnV0ZSgneTEnLCB5MSk7XG4gICAgc3ZnTGluZS5zZXRBdHRyaWJ1dGUoJ3gyJywgeDIpO1xuICAgIHN2Z0xpbmUuc2V0QXR0cmlidXRlKCd5MicsIHkyKTtcbiAgICBpZiAoaXNIb3ZlcmVkKSB7XG4gICAgICBzdmdHLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzAuOHB4Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN2Z0cuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMC40cHgnKTtcbiAgICB9XG4gICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgIHN2Z0cuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnIzE5YTE5NCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdmdHLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2JsYWNrJyk7XG4gICAgfVxuICAgIGNvbnN0IGFuZ2xlID0gMTgwICogKGxpbmUudjIuc3ViKGxpbmUudjEpLmFuZ2xlKCkgLSBNYXRoLlBJIC8gMikgLyBNYXRoLlBJO1xuICAgIHN2Z1BhdGhBbmNob3JTdGFydC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt4MX0sICR7eTF9KSByb3RhdGUoJHtpc05hTihhbmdsZSkgPyAwIDogYW5nbGV9KWApO1xuICAgIHN2Z1BhdGhBbmNob3JFbmQuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7eDJ9LCAke3kyfSkgcm90YXRlKCR7aXNOYU4oYW5nbGUpID8gMCA6IDE4MCArIGFuZ2xlfSlgKTtcbiAgfVxuICBlcmFzZUxpbmUobGluZTogTGluZSk6IHZvaWQge1xuICAgIGNvbnN0IHN2Z0cgPSB0aGlzLnN2Z0dCeUxpbmUuZ2V0KGxpbmUpO1xuICAgIGlmIChzdmdHKSB7XG4gICAgICB0aGlzLnN2Zy5yZW1vdmVDaGlsZChzdmdHKTtcbiAgICAgIHRoaXMuc3ZnR0J5TGluZS5kZWxldGUobGluZSk7XG4gICAgfVxuICB9XG4gIGRyYXdQb2ludChwb2ludDogVmVjdG9yMik6IHZvaWQge1xuICAgIGNvbnN0IHN2Z0NpcmNsZSA9IHBvaW50VGVtcGxhdGUuY2xvbmVOb2RlKCkgYXMgU1ZHQ2lyY2xlRWxlbWVudDtcbiAgICBzdmdDaXJjbGUuc2V0QXR0cmlidXRlKCdjeCcsIHBvaW50LngudG9GaXhlZCgpKTtcbiAgICBzdmdDaXJjbGUuc2V0QXR0cmlidXRlKCdjeScsIHBvaW50LnkudG9GaXhlZCgpKTtcbiAgICB0aGlzLmludGVyc2VjdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChzdmdDaXJjbGUpO1xuICB9XG4gIGNsZWFySW50ZXJzZWN0aW9ucygpOiB2b2lkIHtcbiAgICB0aGlzLmludGVyc2VjdGlvbkNvbnRhaW5lci5jaGlsZE5vZGVzLmZvckVhY2goY2hpbGROb2RlID0+IHRoaXMuaW50ZXJzZWN0aW9uQ29udGFpbmVyLnJlbW92ZUNoaWxkKGNoaWxkTm9kZSkpO1xuICB9XG4gIGRyYXdQb2x5Z29uKHBvbHlnb246IFBvbHlnb24pOiB2b2lkIHtcbiAgICBjb25zdCBzdmdQYXRoID0gcG9seWdvblRlbXBsYXRlLmNsb25lTm9kZSgpIGFzIFNWR1BhdGhFbGVtZW50O1xuICAgIHN2Z1BhdGguc2V0QXR0cmlidXRlKCdkJywgJ00nICsgcG9seWdvbi52ZXJ0aWNlcy5tYXAodiA9PiBgJHt2Lnh9ICR7di55fWApLmpvaW4oJyBMICcpICsgJ1onKTtcbiAgICBzdmdQYXRoLnNldEF0dHJpYnV0ZSgnZmlsbCcsICcjJyArIChNYXRoLmZsb29yKDE2Nzc3MjE1ICogTWF0aC5yYW5kb20oKSkpLnRvU3RyaW5nKDE2KSk7XG4gICAgdGhpcy5wb2x5Z29uQ29udGFpbmVyLmFwcGVuZENoaWxkKHN2Z1BhdGgpO1xuICB9XG4gIGNsZWFyUG9seWdvbnMoKTogdm9pZCB7XG4gICAgdGhpcy5wb2x5Z29uQ29udGFpbmVyLmNoaWxkTm9kZXMuZm9yRWFjaChjaGlsZE5vZGUgPT4gdGhpcy5wb2x5Z29uQ29udGFpbmVyLnJlbW92ZUNoaWxkKGNoaWxkTm9kZSkpO1xuICB9XG59IiwiaW1wb3J0IHsgUG9sUGxvdCB9IGZyb20gXCIuL3BvbHBsb3RcIjtcbmltcG9ydCB7IFN2Z1JlbmRlcmVyIH0gZnJvbSBcIi4vc3ZnLXJlbmRlcmVyXCI7XG5cbmNvbnN0IHN2Z1JlbmRlcmVyID0gbmV3IFN2Z1JlbmRlcmVyKCk7XG5jb25zdCBwb2xwbG90ID0gbmV3IFBvbFBsb3Qoc3ZnUmVuZGVyZXIpO1xuY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcbmJvZHkuYXBwZW5kQ2hpbGQoc3ZnUmVuZGVyZXIuc3ZnKTsiXSwic291cmNlUm9vdCI6IiJ9