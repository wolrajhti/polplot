(()=>{"use strict";var t=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.dotRaw=function(t,e,n,i){return t*n+e*i},t.dot=function(t,e){return this.dotRaw(t.x,t.y,e.x,e.y)},t.prototype.dot=function(e){return t.dot(this,e)},t.crossRaw=function(t,e,n,i){return t*i-n*e},t.cross=function(t,e){return this.crossRaw(t.x,t.y,e.x,e.y)},t.prototype.cross=function(e){return t.cross(this,e)},t.len2Raw=function(t,e){return Math.pow(t,2)+Math.pow(e,2)},t.len2=function(t){return this.len2Raw(t.x,t.y)},t.prototype.len2=function(){return t.len2(this)},t.lenRaw=function(t,e){return Math.sqrt(this.len2Raw(t,e))},t.len=function(t){return this.lenRaw(t.x,t.y)},t.prototype.len=function(){return t.len(this)},t.normalizeRaw=function(t,e,n){void 0===n&&(n=1);var i=n/this.lenRaw(t,e);return this.mulRaw(t,e,i)},t.normalize=function(t,e){return void 0===e&&(e=1),this.normalizeRaw(t.x,t.y,e)},t.prototype.normalize=function(e){return void 0===e&&(e=1),t.normalize(this,e)},t.equalsRaw=function(t,e,n,i){return t===n&&e===i},t.equals=function(t,e){return this.equalsRaw(t.x,t.y,e.x,e.y)},t.prototype.equals=function(e){return t.equals(this,e)},t.addRaw=function(e,n,i,r){return new t(e+i,n+r)},t.add=function(t,e){return this.addRaw(t.x,t.y,e.x,e.y)},t.prototype.add=function(e){return t.add(this,e)},t.subRaw=function(e,n,i,r){return new t(e-i,n-r)},t.sub=function(t,e){return this.subRaw(t.x,t.y,e.x,e.y)},t.prototype.sub=function(e){return t.sub(this,e)},t.mulRaw=function(e,n,i){return new t(e*i,n*i)},t.mul=function(t,e){return this.mulRaw(t.x,t.y,e)},t.prototype.mul=function(e){return t.mul(this,e)},t.intersectionTimesRaw=function(e,n,i,r,o,s,u,a){var h=this.crossRaw(i-e,r-n,u-o,a-s);return new t(this.crossRaw(u-o,a-s,e-o,n-s)/h,this.crossRaw(i-e,r-n,e-o,n-s)/h)},t.intersectionTimes=function(t,e,n,i){return this.intersectionTimesRaw(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)},t.prototype.intersectionTimes=function(e,n,i){return t.intersectionTimes(this,e,n,i)},t.intersectionRaw=function(t,e,n,i,r,o,s,u){var a=this.intersectionTimesRaw(t,e,n,i,r,o,s,u);if(a)return a.y=e+(i-e)*a.x,a.x=t+(n-t)*a.x,a},t.intersection=function(t,e,n,i){return this.intersectionRaw(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)},t.prototype.intersection=function(e,n,i){return t.intersection(this,e,n,i)},t.prototype.angle=function(t){if(t){var e=this.angle(),n=t.angle();return n<e?n+2*Math.PI-e:n-e}return this.y>0?Math.acos(this.x/this.len()):2*Math.PI-Math.acos(this.x/this.len())},t}(),e=function(){function e(e,n,i,r){this.v1=new t(e,n),this.v2=new t(i,r)}return Object.defineProperty(e.prototype,"x1",{get:function(){return this.v1.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this.v1.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x2",{get:function(){return this.v2.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y2",{get:function(){return this.v2.y},enumerable:!1,configurable:!0}),e.prototype.len=function(){return this.v2.sub(this.v1).len()},e.prototype.pointAt=function(t){return this.v1.add(this.v2.sub(this.v1).mul(t))},e.prototype.before=function(t){return this.v1.add(this.v2.sub(this.v1).mul(-t/this.len()))},e.prototype.after=function(t){return this.v1.add(this.v2.sub(this.v1).mul((this.len()+t)/this.len()))},e.prototype.intersectionTimesWith=function(t){return this.v1.intersectionTimes(this.v2,t.v1,t.v2)},e.prototype.update=function(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.v1.x+=t,this.v1.y+=e,this.v2.x+=n,this.v2.y+=i},e.prototype.nearestTo=function(e){if(this.v1.equals(this.v2))return new t(this.v1.x,this.v1.y);var n=this.v2.sub(this.v1),i=n.dot(e.sub(this.v1))/n.len2();return this.pointAt(Math.max(0,Math.min(i,1)))},e}(),n=function(){function t(t){void 0===t&&(t=[]),this.vertices=t}return t.prototype.areaBetween=function(t,e){return(this.vertices[e].x-this.vertices[t].x)*(this.vertices[t].y+this.vertices[e].y)/2},t.prototype.area=function(){for(var t=0,e=this.vertices.length-1,n=0;n<this.vertices.length;n++)t+=this.areaBetween(e,n),e=n;return t},t.prototype.shareEdge=function(t,e){for(var n=this.vertices.length-1,i=0;i<this.vertices.length;i++){if(this.vertices[n].equals(t)&&this.vertices[i].equals(e))return!0;n=i}return!1},t.prototype.intersectionWith=function(t){},t.prototype.reverse=function(){this.vertices.reverse()},t.prototype.toString=function(){return this.vertices.length+" points: "+this.vertices.map((function(t){return"("+t.x.toFixed()+", "+t.y.toFixed()+")"})).join(", ")+" (area: "+this.area().toFixed()+")"},t}(),i=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,r++)i[r]=o[s];return i},r=function(){function r(n){var i=this;this.renderer=n,this.lines=[],this.intersectionTimes=[],this.intersections=[],this.intersectionIndex=[];var r,o=-1;this.renderer.setMouseDownHandler((function(n){var s=new t(n.clientX,n.clientY);-1===(o=i.nearestLineIndexFrom(s,20))?(i.addLine(new e(s.x,s.y,s.x,s.y)),o=i.lines.length-1,r=i.lines[o].v2):s.sub(i.lines[o].v1).len()<20?r=i.lines[o].v1:s.sub(i.lines[o].v2).len()<20&&(r=i.lines[o].v2)})),this.renderer.setMouseUpHandler((function(t){o=-1,r=null})),this.renderer.setMouseMoveHandler((function(t){r?(r.x+=t.movementX,r.y+=t.movementY,i.updateIntersectionTimes(i.lines[o]),i.renderer.drawLine(i.lines[o],o.toString())):-1!==o&&(i.lines[o].update(t.movementX,t.movementY,t.movementX,t.movementY),i.updateIntersectionTimes(i.lines[o]),i.renderer.drawLine(i.lines[o],o.toString()))}))}return r.prototype.nearestLineIndexFrom=function(t,e){void 0===e&&(e=1/0);for(var n,i=-1,r=1/0,o=0;o<this.lines.length;o++)(n=this.lines[o].nearestTo(t).sub(t).len())<e&&n<r&&(r=n,i=o);return i},r.prototype.addLine=function(t){this.addIntersectionTimes(t),this.lines.push(t),this.renderer.drawLine(t,(this.lines.length-1).toString())},r.prototype.addIntersectionTimes=function(t,e,n,i,r){void 0===e&&(e=this.lines),void 0===n&&(n=this.intersectionTimes),void 0===i&&(i=this.intersections),void 0===r&&(r=this.intersectionIndex);for(var o,s=[],u=[],a=0;a<e.length;a++)o=e[a].intersectionTimesWith(t),n[a].push(o.x),i.push(e[a].pointAt(o.x)),r[a].push(i.length-1),s.push(o.y),u.push(i.length-1);s.push(NaN),u.push(null),n.push(s),r.push(u),this.renderIntersections()},r.prototype.updateIntersectionTimes=function(t,e,n,i,r){void 0===e&&(e=this.lines),void 0===n&&(n=this.intersectionTimes),void 0===i&&(i=this.intersections),void 0===r&&(r=this.intersectionIndex);for(var o,s=e.indexOf(t),u=0;u<e.length;u++)u!==s&&(o=e[u].intersectionTimesWith(t),n[u][s]=o.x,n[s][u]=o.y,u<s?i[r[u][s]]=e[u].pointAt(o.x):i[r[s][u]]=e[u].pointAt(o.x));this.renderIntersections()},r.prototype.renderIntersections=function(){var t=this;this.renderer.clearPolygons();var e=this.buildPartialsFromIntersectionTimes();this.buildPolygonIndexesFromPartials(e).map((function(e){return new n(e.map((function(e){return t.intersections[e]})))})).forEach((function(e){e.area()>0&&t.renderer.drawPolygon(e)}))},r.prototype.testSide=function(t,e,n){return e.sub(t).cross(n.sub(t))>0},r.prototype.partialsOverlaps=function(t,e){return t[t.length-2]===e[0]&&t[t.length-1]===e[1]?2:0},r.prototype.partialsMeet=function(t,e){return t[t.length-1]===e[0]?1:0},r.prototype.buildPartialsFromIntersectionIndexes=function(t,e){for(var n=[],i=0;i<e.length;i++)if("number"==typeof e[i]){var r=i+1;for(r===e.length&&(r=0);"number"!=typeof e[r];)++r===e.length&&(r=0);i!==r&&n.push([e[i],t,e[r]])}return n},r.prototype.buildPartialsFromIntersectionTimes=function(t,e,n){void 0===t&&(t=this.lines),void 0===e&&(e=this.intersectionTimes),void 0===n&&(n=this.intersectionIndex);for(var i=e.map((function(t,n){return t.map((function(t,e){return e})).filter((function(i){return!isNaN(t[i])&&0<=t[i]&&t[i]<=1&&!isNaN(e[i][n])&&0<=e[i][n]&&e[i][n]<=1})).sort((function(e,n){return t[e]-t[n]}))})),r=[],o=function(e){for(var o=0;o<i[e].length;o++){var u=i[e][o];if(e<u){var a=n[e][i[e][o]],h=o-1,l=o+1,c=i[u].findIndex((function(t){return t===e})),p=s.testSide(t[e].v1,t[e].v2,t[u].v1),d=p?c-1:c+1,v=p?c+1:c-1,f=0<o?n[e][i[e][h]]:null,y=o<i[e].length-1?n[e][i[e][l]]:null,m=-1<d&&d<i[u].length?n[u][i[u][d]]:null,g=-1<v&&v<i[u].length?n[u][i[u][v]]:null,w=s.buildPartialsFromIntersectionIndexes(a,[f,g,y,m]);r.push.apply(r,w)}}},s=this,u=0;u<i.length;u++)o(u);return r},r.prototype.buildPolygonIndexesFromPartials=function(t){for(var e,n,r=[],o=0;o<t.length;){for(var s=0;s<t.length;s++)if(o!==s&&this.partialsOverlaps(t[o],t[s])){(e=t[o]).splice.apply(e,i([-2,2],t[s])),t.splice(s,1),s<o&&o--,(n=this.partialsOverlaps(t[o],t[o])||this.partialsMeet(t[o],t[o]))>0&&(t[o].splice(0,n),r.push(t[o]),t.splice(o,1)),o=-1;break}o++}return r},r}(),o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("stroke","black"),o.setAttribute("stroke-width","0.4px");var s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("stroke-dasharray","10, 4, 1, 4");var u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d","M 0, 0A 10, 10, 0, 0, 0, -5, -5A 10, 10, 0, 1, 1, 5, -5A 10, 10, 0, 0, 0, 0, 0"),u.setAttribute("fill","white");var a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("text-anchor","middle"),a.setAttribute("alignment-baseline","central"),a.setAttribute("font-family",'consolas, "Liberation Mono", courier, monospace'),a.setAttribute("font-weight","100"),a.setAttribute("font-size","14px"),o.appendChild(s),o.appendChild(u),o.appendChild(u.cloneNode()),o.appendChild(a),o.appendChild(a.cloneNode());var h=document.createElementNS("http://www.w3.org/2000/svg","circle");h.setAttribute("fill","green"),h.setAttribute("r","3");var l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("fill","green"),l.setAttribute("fill-opacity","0.7"),l.setAttribute("stroke-width","3"),l.setAttribute("stroke","grey");var c=new(function(){function t(){this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.intersectionContainer=document.createElementNS("http://www.w3.org/2000/svg","g"),this.polygonContainer=document.createElementNS("http://www.w3.org/2000/svg","g"),this.svgGByLine=new Map,this.lineBySvgG=new Map,this.handlers={},this.svg.appendChild(this.intersectionContainer),this.svg.appendChild(this.polygonContainer)}return t.prototype._setEventHandler=function(t,e){this.handlers[t]&&this.svg.removeEventListener(t,this.handlers[t]),this.handlers[t]=e,this.svg.addEventListener(t,this.handlers[t])},t.prototype.setMouseDownHandler=function(t){this._setEventHandler("mousedown",t)},t.prototype.setMouseUpHandler=function(t){this._setEventHandler("mouseup",t)},t.prototype.setMouseMoveHandler=function(t){this._setEventHandler("mousemove",t)},t.prototype.drawLine=function(t,e){var n;this.svgGByLine.has(t)?n=this.svgGByLine.get(t):(n=o.cloneNode(!0),this.svg.appendChild(n),this.svgGByLine.set(t,n),this.lineBySvgG.set(n,t));var i=n.children[0],r=n.children[1],s=n.children[2],u=n.children[3],a=n.children[4],h=t.x1.toFixed(),l=t.y1.toFixed(),c=t.x2.toFixed(),p=t.y2.toFixed();i.setAttribute("x1",h),i.setAttribute("y1",l),i.setAttribute("x2",c),i.setAttribute("y2",p),u.innerHTML=e,a.innerHTML=e;var d=180*(t.v2.sub(t.v1).angle()-Math.PI/2)/Math.PI,v=t.before(14),f=t.after(14);r.setAttribute("transform","translate("+h+", "+l+") rotate("+(isNaN(d)?0:d)+")"),s.setAttribute("transform","translate("+c+", "+p+") rotate("+(isNaN(d)?0:180+d)+")"),u.setAttribute("transform","translate("+(v?v.x.toFixed():h)+", "+(v?v.y.toFixed():l)+")"),a.setAttribute("transform","translate("+(f?f.x.toFixed():c)+", "+(f?f.y.toFixed():p)+")")},t.prototype.eraseLine=function(t){var e=this.svgGByLine.get(t);e&&(this.svg.removeChild(e),this.svgGByLine.delete(t))},t.prototype.drawPoint=function(t){var e=h.cloneNode();e.setAttribute("cx",t.x.toFixed()),e.setAttribute("cy",t.y.toFixed()),this.intersectionContainer.appendChild(e)},t.prototype.clearContainer=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.prototype.clearIntersections=function(){this.clearContainer(this.intersectionContainer)},t.prototype.drawPolygon=function(t){var e=l.cloneNode();e.setAttribute("d","M "+t.vertices.map((function(t){return t.x.toFixed()+" "+t.y.toFixed()})).join(" L ")+"Z"),e.setAttribute("fill","#"+(Math.floor(16677215*Math.random())+1e5).toString(16)),this.polygonContainer.appendChild(e)},t.prototype.clearPolygons=function(){this.clearContainer(this.polygonContainer)},t}());new r(c),document.querySelector("body").appendChild(c.svg)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xwbG90Ly4vc3JjL3ZlY3RvcjIudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9saW5lLnRzIiwid2VicGFjazovL3BvbHBsb3QvLi9zcmMvcG9seWdvbi50cyIsIndlYnBhY2s6Ly9wb2xwbG90Ly4vc3JjL3BvbHBsb3QudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9zdmctcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJ4IiwieSIsImRvdFJhdyIsIngxIiwieTEiLCJ4MiIsInkyIiwiZG90IiwidSIsInYiLCJ0aGlzIiwib3RoZXIiLCJWZWN0b3IyIiwiY3Jvc3NSYXciLCJjcm9zcyIsImxlbjJSYXciLCJNYXRoIiwicG93IiwibGVuMiIsImxlblJhdyIsInNxcnQiLCJsZW4iLCJub3JtYWxpemVSYXciLCJieSIsImNvZWYiLCJtdWxSYXciLCJub3JtYWxpemUiLCJlcXVhbHNSYXciLCJlcXVhbHMiLCJhZGRSYXciLCJhZGQiLCJzdWJSYXciLCJzdWIiLCJtdWwiLCJpbnRlcnNlY3Rpb25UaW1lc1JhdyIsImZ4IiwiZnkiLCJ0eCIsInR5Iiwic3giLCJzeSIsImV4IiwiZXkiLCJkZXQiLCJpbnRlcnNlY3Rpb25UaW1lcyIsImZyb20iLCJ0byIsInN0YXJ0IiwiZW5kIiwiaW50ZXJzZWN0aW9uUmF3IiwidGltZXMiLCJpbnRlcnNlY3Rpb24iLCJhbmdsZSIsImExIiwiYTIiLCJQSSIsImFjb3MiLCJ2MSIsInYyIiwicG9pbnRBdCIsInQiLCJiZWZvcmUiLCJhZnRlciIsImludGVyc2VjdGlvblRpbWVzV2l0aCIsInVwZGF0ZSIsImR4MSIsImR5MSIsImR4MiIsImR5MiIsIm5lYXJlc3RUbyIsInAiLCJtYXgiLCJtaW4iLCJ2ZXJ0aWNlcyIsImFyZWFCZXR3ZWVuIiwiaSIsImoiLCJhcmVhIiwiYSIsImxlbmd0aCIsInNoYXJlRWRnZSIsImludGVyc2VjdGlvbldpdGgiLCJsaW5lIiwicmV2ZXJzZSIsInRvU3RyaW5nIiwibWFwIiwidG9GaXhlZCIsImpvaW4iLCJyZW5kZXJlciIsImxpbmVzIiwiaW50ZXJzZWN0aW9ucyIsImludGVyc2VjdGlvbkluZGV4IiwiZHJhZ2dlZFZlY3RvcjIiLCJkcmFnZ2VkTGluZUluZGV4Iiwic2V0TW91c2VEb3duSGFuZGxlciIsImV2ZW50IiwibW91c2UiLCJjbGllbnRYIiwiY2xpZW50WSIsIm5lYXJlc3RMaW5lSW5kZXhGcm9tIiwiYWRkTGluZSIsIkxpbmUiLCJzZXRNb3VzZVVwSGFuZGxlciIsInNldE1vdXNlTW92ZUhhbmRsZXIiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJ1cGRhdGVJbnRlcnNlY3Rpb25UaW1lcyIsImRyYXdMaW5lIiwidGhyZXNob2xkIiwiZGlzdCIsIm5lYXJlc3RMaW5lSW5kZXgiLCJuZWFyZXN0RGlzdCIsImFkZEludGVyc2VjdGlvblRpbWVzIiwicHVzaCIsIm5ld0ludGVyc2VjdGlvblRpbWVzIiwibmV3SW50ZXJzZWN0aW9uSW5kZXgiLCJOYU4iLCJyZW5kZXJJbnRlcnNlY3Rpb25zIiwiaW5kZXgiLCJpbmRleE9mIiwiY2xlYXJQb2x5Z29ucyIsInBhcnRpYWxzIiwiYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25UaW1lcyIsImJ1aWxkUG9seWdvbkluZGV4ZXNGcm9tUGFydGlhbHMiLCJwb2x5Z29uSW5kZXgiLCJQb2x5Z29uIiwiZm9yRWFjaCIsInBvbHlnb24iLCJkcmF3UG9seWdvbiIsInRlc3RTaWRlIiwidyIsInBhcnRpYWxzT3ZlcmxhcHMiLCJwMSIsInAyIiwicGFydGlhbHNNZWV0IiwiYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25JbmRleGVzIiwiY2VudGVyIiwiaW5kZXhlcyIsInBhcnRzIiwiaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5IiwiaW50ZXJzZWN0aW9uVGltZXNBdEkiLCJfIiwiZmlsdGVyIiwiaXNOYU4iLCJzb3J0IiwibG9jYWxJbmRleCIsImxvY2FsSW50ZXJJbmRleCIsImZvcmVpZ25JbmRleCIsImludGVyIiwicHJldkxvY2FsSW50ZXJJbmRleCIsIm5leHRMb2NhbEludGVySW5kZXgiLCJmb3JlaWduSW50ZXJJbmRleCIsImZpbmRJbmRleCIsImZvcmVpZ25pc1JpZ2h0U2lkZWQiLCJwcmV2Rm9yZWlnbkludGVySW5kZXgiLCJuZXh0Rm9yZWlnbkludGVySW5kZXgiLCJwcmV2TG9jYWxJbnRlciIsIm5leHRMb2NhbEludGVyIiwicHJldkZvcmVpZ25JbnRlciIsIm5leHRGb3JlaWduSW50ZXIiLCJvdmVybGFwIiwicG9seWdvbkluZGV4ZXMiLCJzcGxpY2UiLCJnVGVtcGxhdGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnROUyIsInNldEF0dHJpYnV0ZSIsImxpbmVUZW1wbGF0ZSIsImFuY2hvclRlbXBsYXRlIiwidGV4dFRlbXBsYXRlIiwiYXBwZW5kQ2hpbGQiLCJjbG9uZU5vZGUiLCJwb2ludFRlbXBsYXRlIiwicG9seWdvblRlbXBsYXRlIiwic3ZnUmVuZGVyZXIiLCJzdmciLCJpbnRlcnNlY3Rpb25Db250YWluZXIiLCJwb2x5Z29uQ29udGFpbmVyIiwic3ZnR0J5TGluZSIsIk1hcCIsImxpbmVCeVN2Z0ciLCJoYW5kbGVycyIsIl9zZXRFdmVudEhhbmRsZXIiLCJoYW5kbGVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJuYW1lIiwic3ZnRyIsImhhcyIsImdldCIsInNldCIsInN2Z0xpbmUiLCJjaGlsZHJlbiIsInN2Z1BhdGhBbmNob3JTdGFydCIsInN2Z1BhdGhBbmNob3JFbmQiLCJzdmdUZXh0U3RhcnQiLCJzdmdUZXh0RW5kIiwiaW5uZXJIVE1MIiwiZXJhc2VMaW5lIiwicmVtb3ZlQ2hpbGQiLCJkZWxldGUiLCJkcmF3UG9pbnQiLCJwb2ludCIsInN2Z0NpcmNsZSIsImNsZWFyQ29udGFpbmVyIiwiY29udGFpbmVyIiwiZmlyc3RDaGlsZCIsImNsZWFySW50ZXJzZWN0aW9ucyIs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ckJqTCxLQUFLd0ssV0FBV3NCLE9BQU90SCxLQUczQixZQUFBdUgsVUFBQSxTQUFVQyxHQUNSLElBQU1DLEVBQVkvQixFQUFjRCxZQUNoQ2dDLEVBQVVyQyxhQUFhLEtBQU1vQyxFQUFNMU0sRUFBRXNGLFdBQ3JDcUgsRUFBVXJDLGFBQWEsS0FBTW9DLEVBQU16TSxFQUFFcUYsV0FDckM1RSxLQUFLc0ssc0JBQXNCTixZQUFZaUMsSUFFakMsWUFBQUMsZUFBUixTQUF1QkMsR0FDckIsS0FBT0EsRUFBVUMsWUFDZkQsRUFBVU4sWUFBWU0sRUFBVUMsYUFHcEMsWUFBQUMsbUJBQUEsV0FDRXJNLEtBQUtrTSxlQUFlbE0sS0FBS3NLLHdCQUUzQixZQUFBaEQsWUFBQSxTQUFZRCxHQUNWLElBQU1pRixFQUFVbkMsRUFBZ0JGLFlBQ2hDcUMsRUFBUTFDLGFBQWEsSUFBSyxLQUFPdkMsRUFBUXRELFNBQVNZLEtBQUksU0FBQTVFLEdBQUssT0FBR0EsRUFBRVQsRUFBRXNGLFVBQVMsSUFBSTdFLEVBQUVSLEVBQUVxRixhQUFhQyxLQUFLLE9BQVMsS0FDOUd5SCxFQUFRMUMsYUFBYSxPQUFRLEtBQU90SixLQUFLaU0sTUFBTSxTQUFtQmpNLEtBQUtrTSxVQUFZLEtBQUs5SCxTQUFTLEtBQ2pHMUUsS0FBS3VLLGlCQUFpQlAsWUFBWXNDLElBRXBDLFlBQUF4RixjQUFBLFdBQ0U5RyxLQUFLa00sZUFBZWxNLEtBQUt1SyxtQkFFN0IsRUExRkEsSUN6Q2dCLElBQUlrQyxFQUFRckMsR0FDZlYsU0FBU2dELGNBQWMsUUFDL0IxQyxZQUFZSSxFQUFZQyxNIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmVjdG9yMiB7XHJcbiAgY29uc3RydWN0b3IocHVibGljIHggPSAwLCBwdWJsaWMgeSA9IDApIHt9XHJcbiAgc3RhdGljIGRvdFJhdyh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB4MSAqIHgyICsgeTEgKiB5MjtcclxuICB9XHJcbiAgc3RhdGljIGRvdCh1OiBWZWN0b3IyLCB2OiBWZWN0b3IyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmRvdFJhdyh1LngsIHUueSwgdi54LCB2LnkpO1xyXG4gIH1cclxuICBkb3Qob3RoZXI6IFZlY3RvcjIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuZG90KHRoaXMsIG90aGVyKTtcclxuICB9XHJcbiAgc3RhdGljIGNyb3NzUmF3KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHgxICogeTIgLSB4MiAqIHkxO1xyXG4gIH1cclxuICBzdGF0aWMgY3Jvc3ModTogVmVjdG9yMiwgdjogVmVjdG9yMik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5jcm9zc1Jhdyh1LngsIHUueSwgdi54LCB2LnkpO1xyXG4gIH1cclxuICBjcm9zcyhvdGhlcjogVmVjdG9yMik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gVmVjdG9yMi5jcm9zcyh0aGlzLCBvdGhlcik7XHJcbiAgfVxyXG4gIHN0YXRpYyBsZW4yUmF3KHg6IG51bWJlciwgeTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLnBvdyh4LCAyKSArIE1hdGgucG93KHksIDIpO1xyXG4gIH1cclxuICBzdGF0aWMgbGVuMih1OiBWZWN0b3IyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmxlbjJSYXcodS54LCB1LnkpO1xyXG4gIH1cclxuICBsZW4yKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gVmVjdG9yMi5sZW4yKHRoaXMpO1xyXG4gIH1cclxuICBzdGF0aWMgbGVuUmF3KHg6IG51bWJlciwgeTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5sZW4yUmF3KHgsIHkpKTtcclxuICB9XHJcbiAgc3RhdGljIGxlbih1OiBWZWN0b3IyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmxlblJhdyh1LngsIHUueSk7XHJcbiAgfVxyXG4gIGxlbigpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIubGVuKHRoaXMpO1xyXG4gIH1cclxuICBzdGF0aWMgbm9ybWFsaXplUmF3KHg6IG51bWJlciwgeTogbnVtYmVyLCBieTogbnVtYmVyID0gMSk6IFZlY3RvcjIge1xyXG4gICAgY29uc3QgY29lZiA9IGJ5IC8gdGhpcy5sZW5SYXcoeCwgeSk7XHJcbiAgICByZXR1cm4gdGhpcy5tdWxSYXcoeCwgeSwgY29lZik7XHJcbiAgfVxyXG4gIHN0YXRpYyBub3JtYWxpemUodTogVmVjdG9yMiwgYnk6IG51bWJlciA9IDEpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZVJhdyh1LngsIHUueSwgYnkpO1xyXG4gIH1cclxuICBub3JtYWxpemUoYnk6IG51bWJlciA9IDEpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBWZWN0b3IyLm5vcm1hbGl6ZSh0aGlzLCBieSk7XHJcbiAgfVxyXG4gIHN0YXRpYyBlcXVhbHNSYXcoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHgxID09PSB4MiAmJiB5MSA9PT0geTI7XHJcbiAgfVxyXG4gIHN0YXRpYyBlcXVhbHModTogVmVjdG9yMiwgdjogVmVjdG9yMik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZXF1YWxzUmF3KHUueCwgdS55LCB2LngsIHYueSk7XHJcbiAgfVxyXG4gIGVxdWFscyhvdGhlcjogVmVjdG9yMik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuZXF1YWxzKHRoaXMsIG90aGVyKTtcclxuICB9XHJcbiAgc3RhdGljIGFkZFJhdyh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIoeDEgKyB4MiwgeTEgKyB5Mik7XHJcbiAgfVxyXG4gIHN0YXRpYyBhZGQodTogVmVjdG9yMiwgdjogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHRoaXMuYWRkUmF3KHUueCwgdS55LCB2LngsIHYueSk7XHJcbiAgfVxyXG4gIGFkZChvdGhlcjogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuYWRkKHRoaXMsIG90aGVyKTtcclxuICB9XHJcbiAgc3RhdGljIHN1YlJhdyh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIoeDEgLSB4MiwgeTEgLSB5Mik7XHJcbiAgfVxyXG4gIHN0YXRpYyBzdWIodTogVmVjdG9yMiwgdjogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHRoaXMuc3ViUmF3KHUueCwgdS55LCB2LngsIHYueSk7XHJcbiAgfVxyXG4gIHN1YihvdGhlcjogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuc3ViKHRoaXMsIG90aGVyKTtcclxuICB9XHJcbiAgc3RhdGljIG11bFJhdyh4OiBudW1iZXIsIHk6IG51bWJlciwgYnk6IG51bWJlcik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHggKiBieSwgeSAqIGJ5KTtcclxuICB9XHJcbiAgc3RhdGljIG11bCh1OiBWZWN0b3IyLCBieTogbnVtYmVyKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gdGhpcy5tdWxSYXcodS54LCB1LnksIGJ5KTtcclxuICB9XHJcbiAgbXVsKGJ5OiBudW1iZXIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBWZWN0b3IyLm11bCh0aGlzLCBieSk7XHJcbiAgfVxyXG4gIHN0YXRpYyBpbnRlcnNlY3Rpb25UaW1lc1JhdyhcclxuICAgIGZ4OiBudW1iZXIsIGZ5OiBudW1iZXIsIHR4OiBudW1iZXIsIHR5OiBudW1iZXIsXHJcbiAgICBzeDogbnVtYmVyLCBzeTogbnVtYmVyLCBleDogbnVtYmVyLCBleTogbnVtYmVyXHJcbiAgKTogVmVjdG9yMiB8IHVuZGVmaW5lZCB7XHJcbiAgICBjb25zdCBkZXQgPSB0aGlzLmNyb3NzUmF3KHR4IC0gZngsIHR5IC0gZnksIGV4IC0gc3gsIGV5IC0gc3kpO1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKFxyXG4gICAgICB0aGlzLmNyb3NzUmF3KGV4IC0gc3gsIGV5IC0gc3ksIGZ4IC0gc3gsIGZ5IC0gc3kpIC8gZGV0LFxyXG4gICAgICB0aGlzLmNyb3NzUmF3KHR4IC0gZngsIHR5IC0gZnksIGZ4IC0gc3gsIGZ5IC0gc3kpIC8gZGV0XHJcbiAgICApO1xyXG4gIH1cclxuICBzdGF0aWMgaW50ZXJzZWN0aW9uVGltZXMoXHJcbiAgICBmcm9tOiBWZWN0b3IyLCB0bzogVmVjdG9yMiwgc3RhcnQ6IFZlY3RvcjIsIGVuZDogVmVjdG9yMlxyXG4gICk6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xyXG4gICAgcmV0dXJuIHRoaXMuaW50ZXJzZWN0aW9uVGltZXNSYXcoZnJvbS54LCBmcm9tLnksIHRvLngsIHRvLnksIHN0YXJ0LngsIHN0YXJ0LnksIGVuZC54LCBlbmQueSk7XHJcbiAgfVxyXG4gIGludGVyc2VjdGlvblRpbWVzKHRvOiBWZWN0b3IyLCBzdGFydDogVmVjdG9yMiwgZW5kOiBWZWN0b3IyKTogVmVjdG9yMiB8IHVuZGVmaW5lZCB7XHJcbiAgICByZXR1cm4gVmVjdG9yMi5pbnRlcnNlY3Rpb25UaW1lcyh0aGlzLCB0bywgc3RhcnQsIGVuZCk7XHJcbiAgfVxyXG4gIHN0YXRpYyBpbnRlcnNlY3Rpb25SYXcoXHJcbiAgICBmeDogbnVtYmVyLCBmeTogbnVtYmVyLCB0eDogbnVtYmVyLCB0eTogbnVtYmVyLFxyXG4gICAgc3g6IG51bWJlciwgc3k6IG51bWJlciwgZXg6IG51bWJlciwgZXk6IG51bWJlclxyXG4gICk6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xyXG4gICAgY29uc3QgdGltZXMgPSB0aGlzLmludGVyc2VjdGlvblRpbWVzUmF3KGZ4LCBmeSwgdHgsIHR5LCBzeCwgc3ksIGV4LCBleSk7XHJcbiAgICBpZiAodGltZXMpIHtcclxuICAgICAgdGltZXMueSA9IGZ5ICsgKHR5IC0gZnkpICogdGltZXMueDtcclxuICAgICAgdGltZXMueCA9IGZ4ICsgKHR4IC0gZngpICogdGltZXMueDtcclxuICAgICAgcmV0dXJuIHRpbWVzO1xyXG4gICAgfVxyXG4gIH1cclxuICBzdGF0aWMgaW50ZXJzZWN0aW9uKGZyb206IFZlY3RvcjIsIHRvOiBWZWN0b3IyLCBzdGFydDogVmVjdG9yMiwgZW5kOiBWZWN0b3IyKTogVmVjdG9yMiB8IHVuZGVmaW5lZCB7XHJcbiAgICByZXR1cm4gdGhpcy5pbnRlcnNlY3Rpb25SYXcoZnJvbS54LCBmcm9tLnksIHRvLngsIHRvLnksIHN0YXJ0LngsIHN0YXJ0LnksIGVuZC54LCBlbmQueSk7XHJcbiAgfVxyXG4gIGludGVyc2VjdGlvbih0bzogVmVjdG9yMiwgc3RhcnQ6IFZlY3RvcjIsIGVuZDogVmVjdG9yMik6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuaW50ZXJzZWN0aW9uKHRoaXMsIHRvLCBzdGFydCwgZW5kKTtcclxuICB9XHJcbiAgYW5nbGUob3RoZXI/OiBWZWN0b3IyKTogbnVtYmVyIHtcclxuICAgIGlmIChvdGhlcikge1xyXG4gICAgICAgY29uc3QgYTEgPSB0aGlzLmFuZ2xlKCk7XHJcbiAgICAgICBjb25zdCBhMiA9IG90aGVyLmFuZ2xlKCk7XHJcbiAgICAgICBpZiAoYTIgPCBhMSkge1xyXG4gICAgICAgIHJldHVybiBhMiArIDIgKiBNYXRoLlBJIC0gYTE7XHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBhMiAtIGExO1xyXG4gICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnkgPiAwKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmFjb3ModGhpcy54IC8gdGhpcy5sZW4oKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gMiAqIE1hdGguUEkgLSBNYXRoLmFjb3ModGhpcy54IC8gdGhpcy5sZW4oKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuL3ZlY3RvcjJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMaW5lIHtcclxuICB2MTogVmVjdG9yMjtcclxuICB2MjogVmVjdG9yMjtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHgxPzogbnVtYmVyLFxyXG4gICAgeTE/OiBudW1iZXIsXHJcbiAgICB4Mj86IG51bWJlcixcclxuICAgIHkyPzogbnVtYmVyXHJcbiAgKSB7XHJcbiAgICB0aGlzLnYxID0gbmV3IFZlY3RvcjIoeDEsIHkxKTtcclxuICAgIHRoaXMudjIgPSBuZXcgVmVjdG9yMih4MiwgeTIpO1xyXG4gIH1cclxuICBnZXQgeDEoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnYxLng7XHJcbiAgfVxyXG4gIGdldCB5MSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMudjEueTtcclxuICB9XHJcbiAgZ2V0IHgyKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy52Mi54O1xyXG4gIH1cclxuICBnZXQgeTIoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnYyLnk7XHJcbiAgfVxyXG4gIGxlbigpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMudjIuc3ViKHRoaXMudjEpLmxlbigpO1xyXG4gIH1cclxuICBwb2ludEF0KHQ6IG51bWJlcik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHRoaXMudjEuYWRkKHRoaXMudjIuc3ViKHRoaXMudjEpLm11bCh0KSk7XHJcbiAgfVxyXG4gIGJlZm9yZSh0OiBudW1iZXIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiB0aGlzLnYxLmFkZCh0aGlzLnYyLnN1Yih0aGlzLnYxKS5tdWwoLXQgLyB0aGlzLmxlbigpKSk7XHJcbiAgfVxyXG4gIGFmdGVyKHQ6IG51bWJlcik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHRoaXMudjEuYWRkKHRoaXMudjIuc3ViKHRoaXMudjEpLm11bCgodGhpcy5sZW4oKSArIHQpIC8gdGhpcy5sZW4oKSkpO1xyXG4gIH1cclxuICBpbnRlcnNlY3Rpb25UaW1lc1dpdGgob3RoZXI6IExpbmUpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiB0aGlzLnYxLmludGVyc2VjdGlvblRpbWVzKHRoaXMudjIsIG90aGVyLnYxLCBvdGhlci52Mik7XHJcbiAgfVxyXG4gIHVwZGF0ZShkeDEgPSAwLCBkeTEgPSAwLCBkeDIgPSAwLCBkeTIgPSAwKTogdm9pZCB7XHJcbiAgICB0aGlzLnYxLnggKz0gZHgxO1xyXG4gICAgdGhpcy52MS55ICs9IGR5MTtcclxuICAgIHRoaXMudjIueCArPSBkeDI7XHJcbiAgICB0aGlzLnYyLnkgKz0gZHkyO1xyXG4gIH1cclxuICBuZWFyZXN0VG8ocDogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgaWYgKHRoaXMudjEuZXF1YWxzKHRoaXMudjIpKSB7XHJcbiAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLnYxLngsIHRoaXMudjEueSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB1ID0gdGhpcy52Mi5zdWIodGhpcy52MSk7XHJcbiAgICBjb25zdCB0ID0gdS5kb3QocC5zdWIodGhpcy52MSkpIC8gdS5sZW4yKCk7XHJcbiAgICByZXR1cm4gdGhpcy5wb2ludEF0KE1hdGgubWF4KDAsIE1hdGgubWluKHQsIDEpKSk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL2xpbmVcIjtcclxuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuL3ZlY3RvcjJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb2x5Z29uIHtcclxuICBjb25zdHJ1Y3RvcihyZWFkb25seSB2ZXJ0aWNlczogVmVjdG9yMltdID0gW10pIHtcclxuXHJcbiAgfVxyXG4gIHByaXZhdGUgYXJlYUJldHdlZW4oaTogbnVtYmVyLCBqOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuICh0aGlzLnZlcnRpY2VzW2pdLnggLSB0aGlzLnZlcnRpY2VzW2ldLngpICogKHRoaXMudmVydGljZXNbaV0ueSArIHRoaXMudmVydGljZXNbal0ueSkgLyAyO1xyXG4gIH1cclxuICBhcmVhKCk6IG51bWJlciB7XHJcbiAgICBsZXQgYSA9IDA7XHJcbiAgICBsZXQgaSA9IHRoaXMudmVydGljZXMubGVuZ3RoIC0gMTtcclxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy52ZXJ0aWNlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICBhICs9IHRoaXMuYXJlYUJldHdlZW4oaSwgaik7XHJcbiAgICAgIGkgPSBqO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGE7XHJcbiAgfVxyXG4gIHNoYXJlRWRnZSh1OiBWZWN0b3IyLCB2OiBWZWN0b3IyKTogYm9vbGVhbiB7XHJcbiAgICBsZXQgaSA9IHRoaXMudmVydGljZXMubGVuZ3RoIC0gMTtcclxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy52ZXJ0aWNlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICBpZiAodGhpcy52ZXJ0aWNlc1tpXS5lcXVhbHModSkgJiYgdGhpcy52ZXJ0aWNlc1tqXS5lcXVhbHModikpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBpID0gajtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgaW50ZXJzZWN0aW9uV2l0aChsaW5lOiBMaW5lKSB7XHJcbiAgICBcclxuICB9XHJcbiAgcmV2ZXJzZSgpOiB2b2lkIHtcclxuICAgIHRoaXMudmVydGljZXMucmV2ZXJzZSgpO1xyXG4gIH1cclxuICB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGAke3RoaXMudmVydGljZXMubGVuZ3RofSBwb2ludHM6IGAgKyB0aGlzLnZlcnRpY2VzLm1hcCh2ID0+IGAoJHt2LngudG9GaXhlZCgpfSwgJHt2LnkudG9GaXhlZCgpfSlgKS5qb2luKCcsICcpICsgYCAoYXJlYTogJHt0aGlzLmFyZWEoKS50b0ZpeGVkKCl9KWA7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgUG9scGxvdFJlbmRlcmVyIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9wb2xwbG90LXJlbmRlcmVyXCI7XHJcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9saW5lXCI7XHJcbmltcG9ydCB7IFBvbHlnb24gfSBmcm9tIFwiLi9wb2x5Z29uXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi92ZWN0b3IyXCI7XHJcblxyXG5jb25zdCBDTElDS19USFJFU0hPTEQgPSAyMDtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb2xwbG90IHtcclxuICBsaW5lczogTGluZVtdID0gW107XHJcbiAgaW50ZXJzZWN0aW9uVGltZXM6IG51bWJlcltdW10gPSBbXTtcclxuICBpbnRlcnNlY3Rpb25zOiBWZWN0b3IyW10gPSBbXTtcclxuICBpbnRlcnNlY3Rpb25JbmRleDogbnVtYmVyW11bXSA9IFtdO1xyXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHJlbmRlcmVyOiBQb2xwbG90UmVuZGVyZXIpIHtcclxuICAgIGxldCBkcmFnZ2VkTGluZUluZGV4ID0gLTE7XHJcbiAgICBsZXQgZHJhZ2dlZFZlY3RvcjI6IFZlY3RvcjI7XHJcbiAgICB0aGlzLnJlbmRlcmVyLnNldE1vdXNlRG93bkhhbmRsZXIoZXZlbnQgPT4ge1xyXG4gICAgICBjb25zdCBtb3VzZSA9IG5ldyBWZWN0b3IyKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xyXG4gICAgICBkcmFnZ2VkTGluZUluZGV4ID0gdGhpcy5uZWFyZXN0TGluZUluZGV4RnJvbShtb3VzZSwgQ0xJQ0tfVEhSRVNIT0xEKTtcclxuICAgICAgaWYgKGRyYWdnZWRMaW5lSW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgdGhpcy5hZGRMaW5lKG5ldyBMaW5lKG1vdXNlLngsIG1vdXNlLnksIG1vdXNlLngsIG1vdXNlLnkpKTtcclxuICAgICAgICBkcmFnZ2VkTGluZUluZGV4ID0gdGhpcy5saW5lcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIGRyYWdnZWRWZWN0b3IyID0gdGhpcy5saW5lc1tkcmFnZ2VkTGluZUluZGV4XS52MjtcclxuICAgICAgfSBlbHNlIGlmIChtb3VzZS5zdWIodGhpcy5saW5lc1tkcmFnZ2VkTGluZUluZGV4XS52MSkubGVuKCkgPCBDTElDS19USFJFU0hPTEQpIHtcclxuICAgICAgICBkcmFnZ2VkVmVjdG9yMiA9IHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0udjE7XHJcbiAgICAgIH0gZWxzZSBpZiAobW91c2Uuc3ViKHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0udjIpLmxlbigpIDwgQ0xJQ0tfVEhSRVNIT0xEKSB7XHJcbiAgICAgICAgZHJhZ2dlZFZlY3RvcjIgPSB0aGlzLmxpbmVzW2RyYWdnZWRMaW5lSW5kZXhdLnYyO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJlbmRlcmVyLnNldE1vdXNlVXBIYW5kbGVyKGV2ZW50ID0+IHtcclxuICAgICAgZHJhZ2dlZExpbmVJbmRleCA9IC0xO1xyXG4gICAgICBkcmFnZ2VkVmVjdG9yMiA9IG51bGw7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJlbmRlcmVyLnNldE1vdXNlTW92ZUhhbmRsZXIoZXZlbnQgPT4ge1xyXG4gICAgICBpZiAoZHJhZ2dlZFZlY3RvcjIpIHtcclxuICAgICAgICBkcmFnZ2VkVmVjdG9yMi54ICs9IGV2ZW50Lm1vdmVtZW50WDtcclxuICAgICAgICBkcmFnZ2VkVmVjdG9yMi55ICs9IGV2ZW50Lm1vdmVtZW50WTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUludGVyc2VjdGlvblRpbWVzKHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0pO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd0xpbmUodGhpcy5saW5lc1tkcmFnZ2VkTGluZUluZGV4XSwgZHJhZ2dlZExpbmVJbmRleC50b1N0cmluZygpKTtcclxuICAgICAgfSBlbHNlIGlmIChkcmFnZ2VkTGluZUluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgIHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0udXBkYXRlKGV2ZW50Lm1vdmVtZW50WCwgZXZlbnQubW92ZW1lbnRZLCBldmVudC5tb3ZlbWVudFgsIGV2ZW50Lm1vdmVtZW50WSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVJbnRlcnNlY3Rpb25UaW1lcyh0aGlzLmxpbmVzW2RyYWdnZWRMaW5lSW5kZXhdKTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLmRyYXdMaW5lKHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0sIGRyYWdnZWRMaW5lSW5kZXgudG9TdHJpbmcoKSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBuZWFyZXN0TGluZUluZGV4RnJvbSh2OiBWZWN0b3IyLCB0aHJlc2hvbGQgPSArSW5maW5pdHkpOiBudW1iZXIge1xyXG4gICAgbGV0IG5lYXJlc3RMaW5lSW5kZXggPSAtMTtcclxuICAgIGxldCBuZWFyZXN0RGlzdCA9ICtJbmZpbml0eTtcclxuICAgIGxldCBkaXN0OiBudW1iZXI7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgZGlzdCA9IHRoaXMubGluZXNbaV0ubmVhcmVzdFRvKHYpLnN1Yih2KS5sZW4oKTtcclxuICAgICAgaWYgKGRpc3QgPCB0aHJlc2hvbGQgJiYgZGlzdCA8IG5lYXJlc3REaXN0KSB7XHJcbiAgICAgICAgbmVhcmVzdERpc3QgPSBkaXN0O1xyXG4gICAgICAgIG5lYXJlc3RMaW5lSW5kZXggPSBpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmVhcmVzdExpbmVJbmRleDtcclxuICB9XHJcbiAgYWRkTGluZShsaW5lOiBMaW5lKTogdm9pZCB7XHJcbiAgICB0aGlzLmFkZEludGVyc2VjdGlvblRpbWVzKGxpbmUpO1xyXG4gICAgdGhpcy5saW5lcy5wdXNoKGxpbmUpO1xyXG4gICAgdGhpcy5yZW5kZXJlci5kcmF3TGluZShsaW5lLCAodGhpcy5saW5lcy5sZW5ndGggLSAxKS50b1N0cmluZygpKTtcclxuICB9XHJcbiAgYWRkSW50ZXJzZWN0aW9uVGltZXMoXHJcbiAgICBsaW5lOiBMaW5lLFxyXG4gICAgbGluZXMgPSB0aGlzLmxpbmVzLFxyXG4gICAgaW50ZXJzZWN0aW9uVGltZXMgPSB0aGlzLmludGVyc2VjdGlvblRpbWVzLFxyXG4gICAgaW50ZXJzZWN0aW9ucyA9IHRoaXMuaW50ZXJzZWN0aW9ucyxcclxuICAgIGludGVyc2VjdGlvbkluZGV4ID0gdGhpcy5pbnRlcnNlY3Rpb25JbmRleCxcclxuICApOiB2b2lkIHtcclxuICAgIGNvbnN0IG5ld0ludGVyc2VjdGlvblRpbWVzOiBudW1iZXJbXSA9IFtdO1xyXG4gICAgY29uc3QgbmV3SW50ZXJzZWN0aW9uSW5kZXg6IG51bWJlcltdID0gW107XHJcbiAgICBsZXQgdGltZXM6IFZlY3RvcjI7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHRpbWVzID0gbGluZXNbaV0uaW50ZXJzZWN0aW9uVGltZXNXaXRoKGxpbmUpO1xyXG4gICAgICBpbnRlcnNlY3Rpb25UaW1lc1tpXS5wdXNoKHRpbWVzLngpO1xyXG4gICAgICBpbnRlcnNlY3Rpb25zLnB1c2gobGluZXNbaV0ucG9pbnRBdCh0aW1lcy54KSk7XHJcbiAgICAgIGludGVyc2VjdGlvbkluZGV4W2ldLnB1c2goaW50ZXJzZWN0aW9ucy5sZW5ndGggLSAxKTtcclxuICAgICAgbmV3SW50ZXJzZWN0aW9uVGltZXMucHVzaCh0aW1lcy55KTtcclxuICAgICAgbmV3SW50ZXJzZWN0aW9uSW5kZXgucHVzaChpbnRlcnNlY3Rpb25zLmxlbmd0aCAtIDEpO1xyXG4gICAgfVxyXG4gICAgbmV3SW50ZXJzZWN0aW9uVGltZXMucHVzaChOYU4pO1xyXG4gICAgbmV3SW50ZXJzZWN0aW9uSW5kZXgucHVzaChudWxsKTtcclxuICAgIGludGVyc2VjdGlvblRpbWVzLnB1c2gobmV3SW50ZXJzZWN0aW9uVGltZXMpO1xyXG4gICAgaW50ZXJzZWN0aW9uSW5kZXgucHVzaChuZXdJbnRlcnNlY3Rpb25JbmRleCk7XHJcbiAgICB0aGlzLnJlbmRlckludGVyc2VjdGlvbnMoKTtcclxuICB9XHJcbiAgdXBkYXRlSW50ZXJzZWN0aW9uVGltZXMoXHJcbiAgICBsaW5lOiBMaW5lLFxyXG4gICAgbGluZXMgPSB0aGlzLmxpbmVzLFxyXG4gICAgaW50ZXJzZWN0aW9uVGltZXMgPSB0aGlzLmludGVyc2VjdGlvblRpbWVzLFxyXG4gICAgaW50ZXJzZWN0aW9ucyA9IHRoaXMuaW50ZXJzZWN0aW9ucyxcclxuICAgIGludGVyc2VjdGlvbkluZGV4ID0gdGhpcy5pbnRlcnNlY3Rpb25JbmRleCxcclxuICApOiB2b2lkIHtcclxuICAgIGNvbnN0IGluZGV4ID0gbGluZXMuaW5kZXhPZihsaW5lKTtcclxuICAgIGxldCB0aW1lczogVmVjdG9yMjtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKGkgIT09IGluZGV4KSB7XHJcbiAgICAgICAgdGltZXMgPSBsaW5lc1tpXS5pbnRlcnNlY3Rpb25UaW1lc1dpdGgobGluZSk7XHJcbiAgICAgICAgaW50ZXJzZWN0aW9uVGltZXNbaV1baW5kZXhdID0gdGltZXMueDtcclxuICAgICAgICBpbnRlcnNlY3Rpb25UaW1lc1tpbmRleF1baV0gPSB0aW1lcy55O1xyXG4gICAgICAgIGlmIChpIDwgaW5kZXgpIHtcclxuICAgICAgICAgIGludGVyc2VjdGlvbnNbaW50ZXJzZWN0aW9uSW5kZXhbaV1baW5kZXhdXSA9IGxpbmVzW2ldLnBvaW50QXQodGltZXMueCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGludGVyc2VjdGlvbnNbaW50ZXJzZWN0aW9uSW5kZXhbaW5kZXhdW2ldXSA9IGxpbmVzW2ldLnBvaW50QXQodGltZXMueCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlbmRlckludGVyc2VjdGlvbnMoKTtcclxuICB9XHJcbiAgcmVuZGVySW50ZXJzZWN0aW9ucygpOiB2b2lkIHtcclxuICAgIC8vIHRoaXMucmVuZGVyZXIuY2xlYXJJbnRlcnNlY3Rpb25zKCk7XHJcbiAgICAvLyB0aGlzLmludGVyc2VjdGlvbnMuZm9yRWFjaChpbnRlcnNlY3Rpb24gPT4ge1xyXG4gICAgLy8gICB0aGlzLnJlbmRlcmVyLmRyYXdQb2ludChpbnRlcnNlY3Rpb24pO1xyXG4gICAgLy8gfSk7XHJcbiAgICB0aGlzLnJlbmRlcmVyLmNsZWFyUG9seWdvbnMoKTtcclxuICAgIGNvbnN0IHBhcnRpYWxzID0gdGhpcy5idWlsZFBhcnRpYWxzRnJvbUludGVyc2VjdGlvblRpbWVzKCk7XHJcbiAgICBjb25zdCBwb2x5Z29uSW5kZXhlcyA9IHRoaXMuYnVpbGRQb2x5Z29uSW5kZXhlc0Zyb21QYXJ0aWFscyhwYXJ0aWFscyk7XHJcbiAgICBjb25zdCBwb2x5Z29ucyA9IHBvbHlnb25JbmRleGVzLm1hcChwb2x5Z29uSW5kZXggPT4gbmV3IFBvbHlnb24ocG9seWdvbkluZGV4Lm1hcChpID0+IHRoaXMuaW50ZXJzZWN0aW9uc1tpXSkpKTtcclxuICAgIHBvbHlnb25zLmZvckVhY2gocG9seWdvbiA9PiB7XHJcbiAgICAgIGlmIChwb2x5Z29uLmFyZWEoKSA+IDApIHtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLmRyYXdQb2x5Z29uKHBvbHlnb24pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgdGVzdFNpZGUodTogVmVjdG9yMiwgdjogVmVjdG9yMiwgdzogVmVjdG9yMik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHYuc3ViKHUpLmNyb3NzKHcuc3ViKHUpKSA+IDA7XHJcbiAgfVxyXG4gIHBhcnRpYWxzT3ZlcmxhcHMocDE6IG51bWJlcltdLCBwMjogbnVtYmVyW10pOiAyIHwgMCB7XHJcbiAgICByZXR1cm4gcDFbcDEubGVuZ3RoIC0gMl0gPT09IHAyWzBdICYmIHAxW3AxLmxlbmd0aCAtIDFdID09PSBwMlsxXSA/IDIgOiAwO1xyXG4gIH1cclxuICBwYXJ0aWFsc01lZXQocDE6IG51bWJlcltdLCBwMjogbnVtYmVyW10pOiAxIHwgMCB7XHJcbiAgICByZXR1cm4gcDFbcDEubGVuZ3RoIC0gMV0gPT09IHAyWzBdID8gMSA6IDA7XHJcbiAgfVxyXG4gIGJ1aWxkUGFydGlhbHNGcm9tSW50ZXJzZWN0aW9uSW5kZXhlcyhcclxuICAgIGNlbnRlcjogbnVtYmVyLFxyXG4gICAgaW5kZXhlczogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXHJcbiAgKTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdW10ge1xyXG4gICAgY29uc3QgcGFydHM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXVtdID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHR5cGVvZiBpbmRleGVzW2ldID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIGxldCBqID0gaSArIDE7XHJcbiAgICAgICAgaWYgKGogPT09IGluZGV4ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICBqID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKHR5cGVvZiBpbmRleGVzW2pdICE9PSAnbnVtYmVyJynCoHtcclxuICAgICAgICAgIGorKztcclxuICAgICAgICAgIGlmIChqID09PSBpbmRleGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBqID0gMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGkgIT09IGopIHtcclxuICAgICAgICAgIHBhcnRzLnB1c2goW2luZGV4ZXNbaV0sIGNlbnRlciwgaW5kZXhlc1tqXV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhcnRzO1xyXG4gIH1cclxuICBidWlsZFBhcnRpYWxzRnJvbUludGVyc2VjdGlvblRpbWVzKFxyXG4gICAgbGluZXMgPSB0aGlzLmxpbmVzLFxyXG4gICAgaW50ZXJzZWN0aW9uVGltZXMgPSB0aGlzLmludGVyc2VjdGlvblRpbWVzLFxyXG4gICAgaW50ZXJzZWN0aW9uSW5kZXggPSB0aGlzLmludGVyc2VjdGlvbkluZGV4XHJcbiAgKTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdW10ge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2J1aWxkUGFydGlhbHNGcm9tSW50ZXJzZWN0aW9uVGltZXMnKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnbGluZXMubGVuZ3RoID0gJywgbGluZXMubGVuZ3RoKTtcclxuICAgIGNvbnN0IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheSA9IGludGVyc2VjdGlvblRpbWVzXHJcbiAgICAgIC5tYXAoKGludGVyc2VjdGlvblRpbWVzQXRJLCBpKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGludGVyc2VjdGlvblRpbWVzQXRJXHJcbiAgICAgICAgICAubWFwKChfLCBqKSA9PiBqKVxyXG4gICAgICAgICAgLmZpbHRlcihqID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuICFpc05hTihpbnRlcnNlY3Rpb25UaW1lc0F0SVtqXSkgJiYgMCA8PSBpbnRlcnNlY3Rpb25UaW1lc0F0SVtqXSAmJiBpbnRlcnNlY3Rpb25UaW1lc0F0SVtqXSA8PSAxICYmXHJcbiAgICAgICAgICAgICAgIWlzTmFOKGludGVyc2VjdGlvblRpbWVzW2pdW2ldKSAmJiAwIDw9IGludGVyc2VjdGlvblRpbWVzW2pdW2ldICYmIGludGVyc2VjdGlvblRpbWVzW2pdW2ldIDw9IDE7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnNvcnQoKGksIGopID0+IGludGVyc2VjdGlvblRpbWVzQXRJW2ldIC0gaW50ZXJzZWN0aW9uVGltZXNBdElbal0pO1xyXG4gICAgICB9KTtcclxuICAgIC8vIGNvbnNvbGUubG9nKGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheSk7XHJcbiAgICBjb25zdCBwYXJ0aWFsczogW251bWJlciwgbnVtYmVyLCBudW1iZXJdW10gPSBbXTtcclxuICAgIGZvciAobGV0IGxvY2FsSW5kZXggPSAwOyBsb2NhbEluZGV4IDwgaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5Lmxlbmd0aDsgbG9jYWxJbmRleCsrKSB7XHJcbiAgICAgIGZvciAobGV0IGxvY2FsSW50ZXJJbmRleCA9IDA7IGxvY2FsSW50ZXJJbmRleCA8IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtsb2NhbEluZGV4XS5sZW5ndGg7IGxvY2FsSW50ZXJJbmRleCsrKSB7XHJcbiAgICAgICAgY29uc3QgZm9yZWlnbkluZGV4ID0gaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2xvY2FsSW5kZXhdW2xvY2FsSW50ZXJJbmRleF07XHJcbiAgICAgICAgaWYgKGxvY2FsSW5kZXggPCBmb3JlaWduSW5kZXgpIHtcclxuICAgICAgICAgIGNvbnN0IGludGVyID0gaW50ZXJzZWN0aW9uSW5kZXhbbG9jYWxJbmRleF1baW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2xvY2FsSW5kZXhdW2xvY2FsSW50ZXJJbmRleF1dO1xyXG5cclxuICAgICAgICAgIGNvbnN0IHByZXZMb2NhbEludGVySW5kZXggPSBsb2NhbEludGVySW5kZXggLSAxO1xyXG4gICAgICAgICAgY29uc3QgbmV4dExvY2FsSW50ZXJJbmRleCA9IGxvY2FsSW50ZXJJbmRleCArIDE7XHJcblxyXG4gICAgICAgICAgY29uc3QgZm9yZWlnbkludGVySW5kZXggPSBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbZm9yZWlnbkluZGV4XS5maW5kSW5kZXgoaSA9PiBpID09PSBsb2NhbEluZGV4KTtcclxuICAgICAgICAgIGNvbnN0IGZvcmVpZ25pc1JpZ2h0U2lkZWQgPSB0aGlzLnRlc3RTaWRlKGxpbmVzW2xvY2FsSW5kZXhdLnYxLCBsaW5lc1tsb2NhbEluZGV4XS52MiwgbGluZXNbZm9yZWlnbkluZGV4XS52MSk7XHJcbiAgICAgICAgICBjb25zdCBwcmV2Rm9yZWlnbkludGVySW5kZXggPSBmb3JlaWduaXNSaWdodFNpZGVkID8gZm9yZWlnbkludGVySW5kZXggLSAxIDogZm9yZWlnbkludGVySW5kZXggKyAxO1xyXG4gICAgICAgICAgY29uc3QgbmV4dEZvcmVpZ25JbnRlckluZGV4ID0gZm9yZWlnbmlzUmlnaHRTaWRlZCA/IGZvcmVpZ25JbnRlckluZGV4ICsgMSA6IGZvcmVpZ25JbnRlckluZGV4IC0gMTtcclxuXHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgXHJcbiAgICAgICAgICAvLyAgIGxvY2FsSW5kZXg6ICR7bG9jYWxJbmRleH1cclxuICAgICAgICAgIC8vICAgbG9jYWxJbnRlcnNlY3Rpb25zICR7aW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2xvY2FsSW5kZXhdXHJcbiAgICAgICAgICAvLyAgICAgLm1hcCgoXywgaSkgPT4gaSA9PT0gbG9jYWxJbnRlckluZGV4ID8gYFske199XWAgOiBfKVxyXG4gICAgICAgICAgLy8gICAgIC5qb2luKCcsICcpfVxyXG4gICAgICAgICAgLy8gICBmb3JlaWduSW5kZXg6ICR7Zm9yZWlnbkluZGV4fVxyXG4gICAgICAgICAgLy8gICBmb3JlaWduSW50ZXJzZWN0aW9ucyAke2ludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtmb3JlaWduSW5kZXhdXHJcbiAgICAgICAgICAvLyAgICAgLm1hcCgoXywgaSkgPT4gaSA9PT0gZm9yZWlnbkludGVySW5kZXggPyBgWyR7X31dYCA6IF8pXHJcbiAgICAgICAgICAvLyAgICAgLmpvaW4oJywgJyl9XHJcbiAgICAgICAgICAvLyBgKTtcclxuXHJcbiAgICAgICAgICBjb25zdCBwcmV2TG9jYWxJbnRlciA9IDAgPCBsb2NhbEludGVySW5kZXhcclxuICAgICAgICAgICAgPyBpbnRlcnNlY3Rpb25JbmRleFtsb2NhbEluZGV4XVtpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbbG9jYWxJbmRleF1bcHJldkxvY2FsSW50ZXJJbmRleF1dXHJcbiAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICAgIGNvbnN0IG5leHRMb2NhbEludGVyID0gbG9jYWxJbnRlckluZGV4IDwgaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2xvY2FsSW5kZXhdLmxlbmd0aCAtIDFcclxuICAgICAgICAgICAgPyBpbnRlcnNlY3Rpb25JbmRleFtsb2NhbEluZGV4XVtpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbbG9jYWxJbmRleF1bbmV4dExvY2FsSW50ZXJJbmRleF1dXHJcbiAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICAgIGNvbnN0IHByZXZGb3JlaWduSW50ZXIgPSAtMSA8IHByZXZGb3JlaWduSW50ZXJJbmRleCAmJiBwcmV2Rm9yZWlnbkludGVySW5kZXggPCBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbZm9yZWlnbkluZGV4XS5sZW5ndGhcclxuICAgICAgICAgICAgPyBpbnRlcnNlY3Rpb25JbmRleFtmb3JlaWduSW5kZXhdW2ludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtmb3JlaWduSW5kZXhdW3ByZXZGb3JlaWduSW50ZXJJbmRleF1dXHJcbiAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICAgIGNvbnN0IG5leHRGb3JlaWduSW50ZXIgPSAtMSA8IG5leHRGb3JlaWduSW50ZXJJbmRleCAmJiBuZXh0Rm9yZWlnbkludGVySW5kZXggPCBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbZm9yZWlnbkluZGV4XS5sZW5ndGhcclxuICAgICAgICAgICAgPyBpbnRlcnNlY3Rpb25JbmRleFtmb3JlaWduSW5kZXhdW2ludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtmb3JlaWduSW5kZXhdW25leHRGb3JlaWduSW50ZXJJbmRleF1dXHJcbiAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgXlxyXG4gICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAgICAgICAgICAvLyAgICAgICAgICAgICAgICBuZXh0Rm9yZWlnbkludGVyXHJcbiAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICAgICAgICAgIC8vICAtLS1wcmV2TG9jYWxJbnRlci0tLWludGVyLS0tbmV4dExvY2FsSW50ZXItLS0+XHJcbiAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHByZXZGb3JlaWduSW50ZXJcclxuICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gICAgICAgICAgY29uc3QgcGFydHMgPSB0aGlzLmJ1aWxkUGFydGlhbHNGcm9tSW50ZXJzZWN0aW9uSW5kZXhlcyhcclxuICAgICAgICAgICAgaW50ZXIsXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICBwcmV2TG9jYWxJbnRlcixcclxuICAgICAgICAgICAgICBuZXh0Rm9yZWlnbkludGVyLFxyXG4gICAgICAgICAgICAgIG5leHRMb2NhbEludGVyLFxyXG4gICAgICAgICAgICAgIHByZXZGb3JlaWduSW50ZXJcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHBhcnRpYWxzLnB1c2goLi4ucGFydHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gY29uc29sZS5sb2coJ3BhcnRpYWxzJywgcGFydGlhbHMpO1xyXG4gICAgcmV0dXJuIHBhcnRpYWxzO1xyXG4gIH1cclxuICBidWlsZFBvbHlnb25JbmRleGVzRnJvbVBhcnRpYWxzKHBhcnRpYWxzOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl1bXSk6IG51bWJlcltdW10ge1xyXG4gICAgY29uc3QgcG9seWdvbkluZGV4ZXM6IG51bWJlcltdW10gPSBbXTtcclxuICAgIGxldCBpID0gMDtcclxuICAgIGxldCBvdmVybGFwOiBudW1iZXI7XHJcbiAgICB3aGlsZSAoaSA8IHBhcnRpYWxzLmxlbmd0aCkge1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHBhcnRpYWxzLmxlbmd0aDsgaisrKcKge1xyXG4gICAgICAgIGlmIChpICE9PSBqKSB7XHJcbiAgICAgICAgICBpZiAodGhpcy5wYXJ0aWFsc092ZXJsYXBzKHBhcnRpYWxzW2ldLCBwYXJ0aWFsc1tqXSkpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYFxyXG4gICAgICAgICAgICAvLyAgIHBhcnRpYWxzW2ldOiAke3BhcnRpYWxzW2ldLnRvU3RyaW5nKCl9LFxyXG4gICAgICAgICAgICAvLyAgIHBhcnRpYWxzW2pdOiAke3BhcnRpYWxzW2pdLnRvU3RyaW5nKCl9LFxyXG4gICAgICAgICAgICAvLyBgKTtcclxuICAgICAgICAgICAgcGFydGlhbHNbaV0uc3BsaWNlKC0yLCAyLCAuLi5wYXJ0aWFsc1tqXSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBcclxuICAgICAgICAgICAgLy8gICBwYXJ0aWFsc1tpXTogJHtwYXJ0aWFsc1tpXS50b1N0cmluZygpfSBbTkVXXSxcclxuICAgICAgICAgICAgLy8gYCk7XHJcbiAgICAgICAgICAgIHBhcnRpYWxzLnNwbGljZShqLCAxKTtcclxuICAgICAgICAgICAgaWYgKGogPCBpKSB7XHJcbiAgICAgICAgICAgICAgaS0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG92ZXJsYXAgPSB0aGlzLnBhcnRpYWxzT3ZlcmxhcHMocGFydGlhbHNbaV0sIHBhcnRpYWxzW2ldKSB8fCB0aGlzLnBhcnRpYWxzTWVldChwYXJ0aWFsc1tpXSwgcGFydGlhbHNbaV0pO1xyXG4gICAgICAgICAgICBpZiAob3ZlcmxhcCA+IDApIHtcclxuICAgICAgICAgICAgICBwYXJ0aWFsc1tpXS5zcGxpY2UoMCwgb3ZlcmxhcCk7XHJcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYFxyXG4gICAgICAgICAgICAgIC8vICAgcGFydGlhbHNbaV06ICR7cGFydGlhbHNbaV0udG9TdHJpbmcoKX0gW0NMT1NFRF0sXHJcbiAgICAgICAgICAgICAgLy8gYCk7XHJcbiAgICAgICAgICAgICAgcG9seWdvbkluZGV4ZXMucHVzaChwYXJ0aWFsc1tpXSk7XHJcbiAgICAgICAgICAgICAgcGFydGlhbHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkgPSAtMTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGkrKztcclxuICAgIH1cclxuICAgIC8vIGNvbnNvbGUubG9nKCdpbmNvbXBsZXRlIHBvbHlnb25zJyk7XHJcbiAgICAvLyBwYXJ0aWFscy5tYXAocCA9PiBjb25zb2xlLmxvZyhwLnRvU3RyaW5nKCkpKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdwb2x5Z29ucycsIHBvbHlnb25zKTtcclxuICAgIC8vIHBvbHlnb25zLm1hcChwID0+IGNvbnNvbGUubG9nKHAudG9TdHJpbmcoKSkpO1xyXG4gICAgcmV0dXJuIHBvbHlnb25JbmRleGVzO1xyXG4gIH1cclxufVxyXG5cclxuLy8gY29uc3QgbGluZXM6IExpbmVbXSA9IFtdO1xyXG4vLyBjb25zdCBpVGltZXM6IG51bWJlcltdW10gPSBbXTtcclxuLy8gY29uc3QgaVBvaW50czogVmVjdG9yMltdW10gPSBbXTtcclxuLy8gW1xyXG4vLyAgIFszMDAsIDMwMCwgNjAwLCA2MDBdLFxyXG4vLyAgIFszMDAsIDYwMCwgNjAwLCAzMDBdLFxyXG4vLyAgIFs0MDAsIDMwMCwgMzAwLCA0MDBdLFxyXG4vLyAgIFs1MDAsIDYwMCwgNjAwLCA0MDBdLFxyXG4vLyAgIFszMDAsIDUwMCwgNDAwLCA2MDBdLFxyXG4vLyAgIFs1MDAsIDYwMCwgNjAwLCA0MDBdLFxyXG4vLyBdLmZvckVhY2goKFt4MSwgeTEsIHgyLCB5Ml0pID0+IHtcclxuLy8gICB0aGlzLmFkZEludGVyc2VjdGlvblRpbWVzKGwxLCBsaW5lcywgaVRpbWVzLCBpUG9pbnRzKTtcclxuLy8gICBsaW5lcy5wdXNoKGwxKTtcclxuLy8gfSk7XHJcbi8vIGNvbnN0IHBhcnRpYWxzID0gdGhpcy5idWlsZFBhcnRpYWxzRnJvbUludGVyc2VjdGlvblRpbWVzKGxpbmVzLCBpVGltZXMpO1xyXG4vLyBjb25zb2xlLmxvZyhwYXJ0aWFscyk7IiwiaW1wb3J0IHsgUG9scGxvdFJlbmRlcmVyIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9wb2xwbG90LXJlbmRlcmVyXCI7XHJcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9saW5lXCI7XHJcbmltcG9ydCB7IFBvbHlnb24gfSBmcm9tIFwiLi9wb2x5Z29uXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi92ZWN0b3IyXCI7XHJcblxyXG5jb25zdCBnVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcclxuZ1RlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2JsYWNrJyk7XHJcbmdUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICcwLjRweCcpO1xyXG5cclxuY29uc3QgbGluZVRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdsaW5lJyk7XHJcbmxpbmVUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAnMTAsIDQsIDEsIDQnKTtcclxuXHJcbmNvbnN0IGFuY2hvclRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XHJcbmFuY2hvclRlbXBsYXRlLnNldEF0dHJpYnV0ZShcclxuICAnZCcsXHJcbiAgJ00gMCwgMCcgK1xyXG4gICdBIDEwLCAxMCwgMCwgMCwgMCwgLTUsIC01JyArIFxyXG4gICdBIDEwLCAxMCwgMCwgMSwgMSwgNSwgLTUnICtcclxuICAnQSAxMCwgMTAsIDAsIDAsIDAsIDAsIDAnXHJcbik7XHJcbmFuY2hvclRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnZmlsbCcsICd3aGl0ZScpO1xyXG5cclxuY29uc3QgdGV4dFRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICd0ZXh0Jyk7XHJcbnRleHRUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpO1xyXG50ZXh0VGVtcGxhdGUuc2V0QXR0cmlidXRlKCdhbGlnbm1lbnQtYmFzZWxpbmUnLCAnY2VudHJhbCcpO1xyXG50ZXh0VGVtcGxhdGUuc2V0QXR0cmlidXRlKCdmb250LWZhbWlseScsICdjb25zb2xhcywgXCJMaWJlcmF0aW9uIE1vbm9cIiwgY291cmllciwgbW9ub3NwYWNlJyk7XHJcbnRleHRUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ2ZvbnQtd2VpZ2h0JywgJzEwMCcpO1xyXG50ZXh0VGVtcGxhdGUuc2V0QXR0cmlidXRlKCdmb250LXNpemUnLCAnMTRweCcpO1xyXG5cclxuZ1RlbXBsYXRlLmFwcGVuZENoaWxkKGxpbmVUZW1wbGF0ZSk7XHJcbmdUZW1wbGF0ZS5hcHBlbmRDaGlsZChhbmNob3JUZW1wbGF0ZSk7XHJcbmdUZW1wbGF0ZS5hcHBlbmRDaGlsZChhbmNob3JUZW1wbGF0ZS5jbG9uZU5vZGUoKSk7XHJcbmdUZW1wbGF0ZS5hcHBlbmRDaGlsZCh0ZXh0VGVtcGxhdGUpO1xyXG5nVGVtcGxhdGUuYXBwZW5kQ2hpbGQodGV4dFRlbXBsYXRlLmNsb25lTm9kZSgpKTtcclxuXHJcbmNvbnN0IHBvaW50VGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2NpcmNsZScpO1xyXG5wb2ludFRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdncmVlbicpO1xyXG5wb2ludFRlbXBsYXRlLnNldEF0dHJpYnV0ZSgncicsICczJyk7XHJcblxyXG5jb25zdCBwb2x5Z29uVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcclxucG9seWdvblRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdncmVlbicpO1xyXG5wb2x5Z29uVGVtcGxhdGUuc2V0QXR0cmlidXRlKCdmaWxsLW9wYWNpdHknLCAnMC43Jyk7XHJcbnBvbHlnb25UZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczJyk7XHJcbnBvbHlnb25UZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdncmV5Jyk7XHJcblxyXG5leHBvcnQgY2xhc3MgU3ZnUmVuZGVyZXIgaW1wbGVtZW50cyBQb2xwbG90UmVuZGVyZXIge1xyXG4gIHJlYWRvbmx5IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XHJcbiAgcHJpdmF0ZSBpbnRlcnNlY3Rpb25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcclxuICBwcml2YXRlIHBvbHlnb25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcclxuICBwcml2YXRlIHN2Z0dCeUxpbmUgPSBuZXcgTWFwPExpbmUsIFNWR0dFbGVtZW50PigpO1xyXG4gIHByaXZhdGUgbGluZUJ5U3ZnRyA9IG5ldyBNYXA8U1ZHR0VsZW1lbnQsIExpbmU+KCk7XHJcbiAgcHJpdmF0ZSBoYW5kbGVyczogUmVjb3JkPHN0cmluZywgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB2b2lkPiA9IHt9O1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQodGhpcy5pbnRlcnNlY3Rpb25Db250YWluZXIpO1xyXG4gICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQodGhpcy5wb2x5Z29uQ29udGFpbmVyKTtcclxuICB9XHJcbiAgcHJpdmF0ZSBfc2V0RXZlbnRIYW5kbGVyKGV2ZW50OiBzdHJpbmcsIGhhbmRsZXI6IChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuaGFuZGxlcnNbZXZlbnRdKSB7XHJcbiAgICAgIHRoaXMuc3ZnLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuaGFuZGxlcnNbZXZlbnRdKTtcclxuICAgIH1cclxuICAgIHRoaXMuaGFuZGxlcnNbZXZlbnRdID0gaGFuZGxlcjtcclxuICAgIHRoaXMuc3ZnLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuaGFuZGxlcnNbZXZlbnRdKTtcclxuICB9XHJcbiAgc2V0TW91c2VEb3duSGFuZGxlcihoYW5kbGVyOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgIHRoaXMuX3NldEV2ZW50SGFuZGxlcignbW91c2Vkb3duJywgaGFuZGxlcik7XHJcbiAgfVxyXG4gIHNldE1vdXNlVXBIYW5kbGVyKGhhbmRsZXI6IChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRIYW5kbGVyKCdtb3VzZXVwJywgaGFuZGxlcik7XHJcbiAgfVxyXG4gIHNldE1vdXNlTW92ZUhhbmRsZXIoaGFuZGxlcjogKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICB0aGlzLl9zZXRFdmVudEhhbmRsZXIoJ21vdXNlbW92ZScsIGhhbmRsZXIpO1xyXG4gIH1cclxuICBkcmF3TGluZShsaW5lOiBMaW5lLCBuYW1lOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGxldCBzdmdHOiBTVkdHRWxlbWVudDtcclxuICAgIGlmICghdGhpcy5zdmdHQnlMaW5lLmhhcyhsaW5lKSkge1xyXG4gICAgICBzdmdHID0gZ1RlbXBsYXRlLmNsb25lTm9kZSh0cnVlKSBhcyBTVkdHRWxlbWVudDtcclxuICAgICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQoc3ZnRyk7XHJcbiAgICAgIHRoaXMuc3ZnR0J5TGluZS5zZXQobGluZSwgc3ZnRyk7XHJcbiAgICAgIHRoaXMubGluZUJ5U3ZnRy5zZXQoc3ZnRywgbGluZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdmdHID0gdGhpcy5zdmdHQnlMaW5lLmdldChsaW5lKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHN2Z0xpbmUgPSBzdmdHLmNoaWxkcmVuWzBdIGFzIFNWR0xpbmVFbGVtZW50O1xyXG4gICAgY29uc3Qgc3ZnUGF0aEFuY2hvclN0YXJ0ID0gc3ZnRy5jaGlsZHJlblsxXSBhcyBTVkdQYXRoRWxlbWVudDtcclxuICAgIGNvbnN0IHN2Z1BhdGhBbmNob3JFbmQgPSBzdmdHLmNoaWxkcmVuWzJdIGFzIFNWR1BhdGhFbGVtZW50O1xyXG4gICAgY29uc3Qgc3ZnVGV4dFN0YXJ0ID0gc3ZnRy5jaGlsZHJlblszXSBhcyBTVkdUZXh0RWxlbWVudDtcclxuICAgIGNvbnN0IHN2Z1RleHRFbmQgPSBzdmdHLmNoaWxkcmVuWzRdIGFzIFNWR1RleHRFbGVtZW50O1xyXG4gICAgY29uc3QgeDEgPSBsaW5lLngxLnRvRml4ZWQoKTtcclxuICAgIGNvbnN0IHkxID0gbGluZS55MS50b0ZpeGVkKCk7XHJcbiAgICBjb25zdCB4MiA9IGxpbmUueDIudG9GaXhlZCgpO1xyXG4gICAgY29uc3QgeTIgPSBsaW5lLnkyLnRvRml4ZWQoKTtcclxuICAgIHN2Z0xpbmUuc2V0QXR0cmlidXRlKCd4MScsIHgxKTtcclxuICAgIHN2Z0xpbmUuc2V0QXR0cmlidXRlKCd5MScsIHkxKTtcclxuICAgIHN2Z0xpbmUuc2V0QXR0cmlidXRlKCd4MicsIHgyKTtcclxuICAgIHN2Z0xpbmUuc2V0QXR0cmlidXRlKCd5MicsIHkyKTtcclxuICAgIHN2Z1RleHRTdGFydC5pbm5lckhUTUwgPSBuYW1lO1xyXG4gICAgc3ZnVGV4dEVuZC5pbm5lckhUTUwgPSBuYW1lO1xyXG4gICAgY29uc3QgYW5nbGUgPSAxODAgKiAobGluZS52Mi5zdWIobGluZS52MSkuYW5nbGUoKSAtIE1hdGguUEkgLyAyKSAvIE1hdGguUEk7XHJcbiAgICBjb25zdCBiZWZvcmUgPSBsaW5lLmJlZm9yZSgxNCk7XHJcbiAgICBjb25zdCBhZnRlciA9IGxpbmUuYWZ0ZXIoMTQpO1xyXG4gICAgc3ZnUGF0aEFuY2hvclN0YXJ0LnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3gxfSwgJHt5MX0pIHJvdGF0ZSgke2lzTmFOKGFuZ2xlKSA/IDAgOiBhbmdsZX0pYCk7XHJcbiAgICBzdmdQYXRoQW5jaG9yRW5kLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3gyfSwgJHt5Mn0pIHJvdGF0ZSgke2lzTmFOKGFuZ2xlKSA/IDAgOiAxODAgKyBhbmdsZX0pYCk7XHJcbiAgICBzdmdUZXh0U3RhcnQuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7YmVmb3JlID8gYmVmb3JlLngudG9GaXhlZCgpIDogeDF9LCAke2JlZm9yZSA/IGJlZm9yZS55LnRvRml4ZWQoKSA6IHkxfSlgKTtcclxuICAgIHN2Z1RleHRFbmQuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7YWZ0ZXIgPyBhZnRlci54LnRvRml4ZWQoKSA6IHgyfSwgJHthZnRlciA/IGFmdGVyLnkudG9GaXhlZCgpIDogeTJ9KWApO1xyXG4gIH1cclxuICBlcmFzZUxpbmUobGluZTogTGluZSk6IHZvaWQge1xyXG4gICAgY29uc3Qgc3ZnRyA9IHRoaXMuc3ZnR0J5TGluZS5nZXQobGluZSk7XHJcbiAgICBpZiAoc3ZnRykge1xyXG4gICAgICB0aGlzLnN2Zy5yZW1vdmVDaGlsZChzdmdHKTtcclxuICAgICAgdGhpcy5zdmdHQnlMaW5lLmRlbGV0ZShsaW5lKTtcclxuICAgIH1cclxuICB9XHJcbiAgZHJhd1BvaW50KHBvaW50OiBWZWN0b3IyKTogdm9pZCB7XHJcbiAgICBjb25zdCBzdmdDaXJjbGUgPSBwb2ludFRlbXBsYXRlLmNsb25lTm9kZSgpIGFzIFNWR0NpcmNsZUVsZW1lbnQ7XHJcbiAgICBzdmdDaXJjbGUuc2V0QXR0cmlidXRlKCdjeCcsIHBvaW50LngudG9GaXhlZCgpKTtcclxuICAgIHN2Z0NpcmNsZS5zZXRBdHRyaWJ1dGUoJ2N5JywgcG9pbnQueS50b0ZpeGVkKCkpO1xyXG4gICAgdGhpcy5pbnRlcnNlY3Rpb25Db250YWluZXIuYXBwZW5kQ2hpbGQoc3ZnQ2lyY2xlKTtcclxuICB9XHJcbiAgcHJpdmF0ZSBjbGVhckNvbnRhaW5lcihjb250YWluZXI6IFNWR0dFbGVtZW50KTogdm9pZCB7XHJcbiAgICB3aGlsZSAoY29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbnRhaW5lci5maXJzdENoaWxkKTtcclxuICAgIH1cclxuICB9XHJcbiAgY2xlYXJJbnRlcnNlY3Rpb25zKCk6IHZvaWQge1xyXG4gICAgdGhpcy5jbGVhckNvbnRhaW5lcih0aGlzLmludGVyc2VjdGlvbkNvbnRhaW5lcik7XHJcbiAgfVxyXG4gIGRyYXdQb2x5Z29uKHBvbHlnb246IFBvbHlnb24pOiB2b2lkIHtcclxuICAgIGNvbnN0IHN2Z1BhdGggPSBwb2x5Z29uVGVtcGxhdGUuY2xvbmVOb2RlKCkgYXMgU1ZHUGF0aEVsZW1lbnQ7XHJcbiAgICBzdmdQYXRoLnNldEF0dHJpYnV0ZSgnZCcsICdNICcgKyBwb2x5Z29uLnZlcnRpY2VzLm1hcCh2ID0+IGAke3YueC50b0ZpeGVkKCl9ICR7di55LnRvRml4ZWQoKX1gKS5qb2luKCcgTCAnKSArICdaJyk7XHJcbiAgICBzdmdQYXRoLnNldEF0dHJpYnV0ZSgnZmlsbCcsICcjJyArIChNYXRoLmZsb29yKCgxNjc3NzIxNSAtIDFlNSkgKiBNYXRoLnJhbmRvbSgpKSArIDFlNSkudG9TdHJpbmcoMTYpKTtcclxuICAgIHRoaXMucG9seWdvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChzdmdQYXRoKTtcclxuICB9XHJcbiAgY2xlYXJQb2x5Z29ucygpOiB2b2lkIHtcclxuICAgIHRoaXMuY2xlYXJDb250YWluZXIodGhpcy5wb2x5Z29uQ29udGFpbmVyKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBQb2xwbG90IH0gZnJvbSBcIi4vcG9scGxvdFwiO1xyXG5pbXBvcnQgeyBTdmdSZW5kZXJlciB9IGZyb20gXCIuL3N2Zy1yZW5kZXJlclwiO1xyXG5cclxuY29uc3Qgc3ZnUmVuZGVyZXIgPSBuZXcgU3ZnUmVuZGVyZXIoKTtcclxuY29uc3QgcG9scGxvdCA9IG5ldyBQb2xwbG90KHN2Z1JlbmRlcmVyKTtcclxuY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcclxuYm9keS5hcHBlbmRDaGlsZChzdmdSZW5kZXJlci5zdmcpOyJdLCJzb3VyY2VSb290IjoiIn0=