(()=>{"use strict";var t=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.dotRaw=function(t,e,n,i){return t*n+e*i},t.dot=function(t,e){return this.dotRaw(t.x,t.y,e.x,e.y)},t.prototype.dot=function(e){return t.dot(this,e)},t.crossRaw=function(t,e,n,i){return t*i-n*e},t.cross=function(t,e){return this.crossRaw(t.x,t.y,e.x,e.y)},t.prototype.cross=function(e){return t.cross(this,e)},t.len2Raw=function(t,e){return Math.pow(t,2)+Math.pow(e,2)},t.len2=function(t){return this.len2Raw(t.x,t.y)},t.prototype.len2=function(){return t.len2(this)},t.lenRaw=function(t,e){return Math.sqrt(this.len2Raw(t,e))},t.len=function(t){return this.lenRaw(t.x,t.y)},t.prototype.len=function(){return t.len(this)},t.normalizeRaw=function(t,e,n){void 0===n&&(n=1);var i=n/this.lenRaw(t,e);return this.mulRaw(t,e,i)},t.normalize=function(t,e){return void 0===e&&(e=1),this.normalizeRaw(t.x,t.y,e)},t.prototype.normalize=function(e){return void 0===e&&(e=1),t.normalize(this,e)},t.equalsRaw=function(t,e,n,i){return t===n&&e===i},t.equals=function(t,e){return this.equalsRaw(t.x,t.y,e.x,e.y)},t.prototype.equals=function(e){return t.equals(this,e)},t.addRaw=function(e,n,i,r){return new t(e+i,n+r)},t.add=function(t,e){return this.addRaw(t.x,t.y,e.x,e.y)},t.prototype.add=function(e){return t.add(this,e)},t.subRaw=function(e,n,i,r){return new t(e-i,n-r)},t.sub=function(t,e){return this.subRaw(t.x,t.y,e.x,e.y)},t.prototype.sub=function(e){return t.sub(this,e)},t.mulRaw=function(e,n,i){return new t(e*i,n*i)},t.mul=function(t,e){return this.mulRaw(t.x,t.y,e)},t.prototype.mul=function(e){return t.mul(this,e)},t.intersectionTimesRaw=function(e,n,i,r,o,s,a,u){var c=this.crossRaw(i-e,r-n,a-o,u-s);return new t(this.crossRaw(a-o,u-s,e-o,n-s)/c,this.crossRaw(i-e,r-n,e-o,n-s)/c)},t.intersectionTimes=function(t,e,n,i){return this.intersectionTimesRaw(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)},t.prototype.intersectionTimes=function(e,n,i){return t.intersectionTimes(this,e,n,i)},t.intersectionRaw=function(t,e,n,i,r,o,s,a){var u=this.intersectionTimesRaw(t,e,n,i,r,o,s,a);if(u)return u.y=e+(i-e)*u.x,u.x=t+(n-t)*u.x,u},t.intersection=function(t,e,n,i){return this.intersectionRaw(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)},t.prototype.intersection=function(e,n,i){return t.intersection(this,e,n,i)},t.prototype.angle=function(t){if(t){var e=this.angle(),n=t.angle();return n<e?n+2*Math.PI-e:n-e}return this.y>0?Math.acos(this.x/this.len()):2*Math.PI-Math.acos(this.x/this.len())},t}(),e=function(){function e(e,n,i,r){this.v1=new t(e,n),this.v2=new t(i,r)}return e.fromVectors=function(t,n){var i=new e;return i.v1=t,i.v2=n,i},Object.defineProperty(e.prototype,"x1",{get:function(){return this.v1.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this.v1.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x2",{get:function(){return this.v2.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y2",{get:function(){return this.v2.y},enumerable:!1,configurable:!0}),e.prototype.len=function(){return this.v2.sub(this.v1).len()},e.prototype.pointAt=function(t){return this.v1.add(this.v2.sub(this.v1).mul(t))},e.prototype.before=function(t){return this.v1.add(this.v2.sub(this.v1).mul(-t/this.len()))},e.prototype.after=function(t){return this.v1.add(this.v2.sub(this.v1).mul((this.len()+t)/this.len()))},e.prototype.intersectionTimesWith=function(t){return this.v1.intersectionTimes(this.v2,t.v1,t.v2)},e.prototype.update=function(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.v1.x+=t,this.v1.y+=e,this.v2.x+=n,this.v2.y+=i},e.prototype.nearestTo=function(e){if(this.v1.equals(this.v2))return new t(this.v1.x,this.v1.y);var n=this.v2.sub(this.v1),i=n.dot(e.sub(this.v1))/n.len2();return this.pointAt(Math.max(0,Math.min(i,1)))},e}(),n=function(t,e){this.type=t,this.depth=e},i=function(){function t(t){void 0===t&&(t=[]),this.vertices=t}return t.prototype.areaBetween=function(t,e){return(this.vertices[e].x-this.vertices[t].x)*(this.vertices[t].y+this.vertices[e].y)/2},t.prototype.area=function(){for(var t=0,e=this.vertices.length-1,n=0;n<this.vertices.length;n++)t+=this.areaBetween(e,n),e=n;return t},t.prototype.contains=function(t){for(var e=!1,n=0,i=this.vertices.length-1;n<this.vertices.length;i=n++)this.vertices[n].y>t.y!=this.vertices[i].y>t.y&&t.x<(this.vertices[i].x-this.vertices[n].x)*(t.y-this.vertices[n].y)/(this.vertices[i].y-this.vertices[n].y)+this.vertices[n].x&&(e=!e);return e},t.prototype.reverse=function(){this.vertices.reverse()},t.prototype.edgeCount=function(){return this.vertices.length>1?this.vertices.length:0},t.prototype.edges=function(){var t=this;return this.vertices.length>1?this.vertices.map((function(n,i){return e.fromVectors(t.vertices[i],t.vertices[i<t.vertices.length-1?i+1:0])})):[]},t.prototype.toString=function(){return this.vertices.length+" points: "+this.vertices.map((function(t){return"("+t.x.toFixed()+", "+t.y.toFixed()+")"})).join(", ")+" (area: "+this.area().toFixed()+")"},t}(),r=function(){function t(t,e,n){this.coordinates=t,this.lithology=e,this.polygon=n}return t.prototype.depth=function(){return this.lithology.reduce((function(t,e){return t+e.depth}),0)},t.prototype.quantities=function(){var t=new Map;if(this.polygon){var e=this.polygon.area();this.lithology.forEach((function(n){var i=t.get(n.type)||0;t.set(n.type,i+Math.round(e*n.depth))}))}return t},t}(),o=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},s=20,a=function(){function a(n){var r=this;this.renderer=n,this.axes=[],this.kutch=new e(50,200,150,200),this.contour=new i,this.intersectionTimes=[],this.intersections=[],this.intersectionIndex=[],this.polygons=[],this.surveys=[],this.quantities=new Map,this.mode=0,document.addEventListener("keyup",(function(t){"s"===t.key?(r.mode=3,document.querySelectorAll(".button").forEach((function(t){return t.classList.remove("selected")})),document.querySelector("#edit-surveys").classList.add("selected")):"c"===t.key?(r.mode=0,r.renderer.clearSurvey(),document.querySelectorAll(".button").forEach((function(t){return t.classList.remove("selected")})),document.querySelector("#edit-contour").classList.add("selected")):"k"===t.key?(r.mode=1,r.renderer.clearSurvey(),document.querySelectorAll(".button").forEach((function(t){return t.classList.remove("selected")})),document.querySelector("#edit-kutch").classList.add("selected")):"a"===t.key?(r.mode=2,r.renderer.clearSurvey(),document.querySelectorAll(".button").forEach((function(t){return t.classList.remove("selected")})),document.querySelector("#edit-axes").classList.add("selected")):"Escape"===t.key&&r.renderer.clearSurvey()})),document.querySelector("#edit-contour").addEventListener("click",(function(t){document.querySelectorAll(".button").forEach((function(t){return t.classList.remove("selected")})),t.target.classList.add("selected"),r.mode=0,r.renderer.clearSurvey()})),document.querySelector("#edit-axes").addEventListener("click",(function(t){document.querySelectorAll(".button").forEach((function(t){return t.classList.remove("selected")})),t.target.classList.add("selected"),r.mode=2,r.renderer.clearSurvey()})),document.querySelector("#edit-surveys").addEventListener("click",(function(t){document.querySelectorAll(".button").forEach((function(t){return t.classList.remove("selected")})),t.target.classList.add("selected"),r.mode=3})),document.querySelector("#edit-kutch").addEventListener("click",(function(t){document.querySelectorAll(".button").forEach((function(t){return t.classList.remove("selected")})),t.target.classList.add("selected"),r.mode=1})),this.updateQuantities(),this.renderer.drawKutch(this.kutch);var o,a,u,c,l=-1,d=-1;this.renderer.setMouseDownHandler((function(n){if(!n.button){var i=new t(n.clientX,n.clientY);2===r.mode||0===r.mode?-1===(l=r.nearestLineIndexFrom(i,s,2===r.mode?r.axes:r.contour.edges()))?2===r.mode?(r.addLine(new e(i.x,i.y,i.x,i.y)),l=r.lines.length-1,o=r.lines[l].v2):0===r.mode&&(r.addContour(new e(i.x,i.y,i.x,i.y)),l=0,o=r.lines[l].v1):(2===r.mode&&(l+=r.contour.edgeCount()),i.sub(r.lines[l].v1).len()<s?o=r.lines[l].v1:i.sub(r.lines[l].v2).len()<s&&(o=r.lines[l].v2)):1===r.mode?i.sub(r.kutch.v1).len()<s?o=r.kutch.v1:i.sub(r.kutch.v2).len()<s&&(o=r.kutch.v2):3===r.mode&&-1===(d=r.nearestSurveyIndexFrom(i,s))&&(r.addSurvey(i),d=r.surveys.length-1)}})),this.renderer.setMouseUpHandler((function(t){t.button||(2===r.mode||0===r.mode||1===r.mode?(l=-1,o=null):3===r.mode&&(-1!==d?(a=r.surveys[d],r.renderer.drawSurvey(a)):a=null,d=-1))})),this.renderer.setMouseMoveHandler((function(e){if(!e.button)if(2===r.mode||0===r.mode)(o||-1!==l)&&(o?(o.x+=e.movementX,o.y+=e.movementY):r.lines[l].update(e.movementX,e.movementY,e.movementX,e.movementY),r.updateIntersectionTimes(l),2===r.mode?r.renderer.drawLine(r.axes[l-r.contour.edgeCount()],(l-r.contour.edgeCount()).toString()):(l===r.contour.edgeCount()-1?(r.updateIntersectionTimes(l-1),r.updateIntersectionTimes(0)):0===l?(r.updateIntersectionTimes(r.contour.edgeCount()-1),r.updateIntersectionTimes(1)):(r.updateIntersectionTimes(l-1),r.updateIntersectionTimes(l+1)),r.renderer.drawContour(r.contour)));else if(1===r.mode)o&&(o.x+=e.movementX,o.y+=e.movementY,r.renderer.drawKutch(r.kutch),r.updateQuantities(),r.surveys.forEach((function(t){return r.updateSurvey(t)})));else if(3===r.mode){-1!==d&&(r.surveys[d].coordinates.x+=e.movementX,r.surveys[d].coordinates.y+=e.movementY,r.updateSurvey(r.surveys[d]));for(var n=new t(e.clientX,e.clientY),i=!1,s=u,a=0,c=r.polygons;a<c.length;a++){var h=c[a];if(h.contains(n)){h!==u&&(r.renderer.drawPolygon(h,"red"),u=h),i=!0;break}}i||(u=null),s&&s!==u&&r.renderer.drawPolygon(s,"white")}})),this.renderer.setSidebarMouseDownHandler((function(e){if(!e.button&&a)for(var n=new t(e.offsetX,e.offsetY),r=new t(300,100),o=0,s=a.lithology;o<s.length;o++){var u=s[o],l=new i([r.add(new t(-25,0)),r.add(new t(25,0)),r.add(new t(25,u.depth)),r.add(new t(-25,u.depth))]);if(r.y+=u.depth,l.contains(n)){c=u;break}}})),this.renderer.setSidebarMouseUpHandler((function(t){t.button||(c=null)})),this.renderer.setSidebarMouseMoveHandler((function(t){t.button||c&&(c.depth+=t.movementY,r.renderer.drawSurvey(a),r.updateQuantities())})),this.renderer.lithoChangeHandler=function(){r.updateQuantities()}}return Object.defineProperty(a.prototype,"lines",{get:function(){return this.contour.edges().concat(this.axes)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"scale",{get:function(){return this.kutch.len()/10},enumerable:!1,configurable:!0}),a.prototype.nearestLineIndexFrom=function(t,e,n){void 0===e&&(e=1/0),void 0===n&&(n=this.lines);for(var i,r=-1,o=1/0,s=0;s<n.length;s++)(i=n[s].nearestTo(t).sub(t).len())<e&&i<o&&(o=i,r=s);return r},a.prototype.nearestSurveyIndexFrom=function(t,e){void 0===e&&(e=1/0);for(var n,i=-1,r=1/0,o=0;o<this.surveys.length;o++)(n=this.surveys[o].coordinates.sub(t).len())<e&&n<r&&(r=n,i=o);return i},a.prototype.addSurvey=function(t){for(var e,i=0,o=this.polygons;i<o.length;i++){var s=o[i];if(s.contains(t)){e=s;break}}var a=new r(t,[new n("non identifié",50),new n("non identifié",50),new n("non identifié",50)],e);this.surveys.push(a),this.renderer.drawPoint(t,e?(e.area()/Math.pow(this.scale,2)).toFixed(2)+" m2":""),this.updateQuantities()},a.prototype.updateSurvey=function(t){t.polygon=null;for(var e=0,n=this.polygons;e<n.length;e++){var i=n[e];if(i.contains(t.coordinates)){t.polygon=i;break}}this.renderer.drawPoint(t.coordinates,t.polygon?(t.polygon.area()/Math.pow(this.scale,2)).toFixed(2)+" m2":""),this.updateQuantities()},a.prototype.updateQuantities=function(){var t=this;this.quantities.clear(),this.surveys.forEach((function(e){e.quantities().forEach((function(e,n){t.quantities.set(n,(t.quantities.get(n)||0)+e)}))})),this.renderer.drawQuantities(this.quantities,this.scale)},a.prototype.initIntersectionData=function(e,n,i,r,o){void 0===e&&(e=this.lines.length),void 0===n&&(n=this.lines.length),void 0===i&&(i=this.intersectionTimes),void 0===r&&(r=this.intersections),void 0===o&&(o=this.intersectionIndex);for(var s=[],a=[],u=0;u<n;u++)i[u].splice(e,0,NaN),r.push(new t),o[u].splice(e,0,r.length-1),s.push(NaN),a.push(r.length-1);s.splice(e,0,NaN),a.splice(e,0,-1),i.splice(e,0,s),o.splice(e,0,a)},a.prototype.addLine=function(t){var e=this.lines.length;this.initIntersectionData(e,e),this.axes.push(t),this.renderer.drawLine(t,e.toString()),this.updateIntersectionTimes(e)},a.prototype.addContour=function(t){var e=this.contour.edgeCount(),n=e+this.axes.length;this.initIntersectionData(0,n++),this.initIntersectionData(0,n++),this.contour.vertices.splice(0,0,t.v1,t.v2),this.renderer.drawContour(this.contour);var i=this.lines;0===e?(this.updateIntersectionTimes(0,i,!0),this.updateIntersectionTimes(1,i)):(this.updateIntersectionTimes(0,i,!0),this.updateIntersectionTimes(1,i,!0),this.updateIntersectionTimes(n-1,i))},a.prototype.updateIntersectionTimes=function(t,e,n,i,r,o){void 0===e&&(e=this.lines),void 0===n&&(n=!1),void 0===i&&(i=this.intersectionTimes),void 0===r&&(r=this.intersections),void 0===o&&(o=this.intersectionIndex);for(var s,a=e[t],u=0;u<e.length;u++)u!==t&&(s=e[u].intersectionTimesWith(a),i[u][t]=s.x,i[t][u]=s.y,u<t?r[o[u][t]]=e[u].pointAt(s.x):r[o[t][u]]=e[u].pointAt(s.x));n||this.renderIntersections()},a.prototype.renderIntersections=function(){var t=this;this.renderer.clearPolygons(),this.polygons=[];var e=this.buildPartialsFromIntersectionTimes();this.buildPolygonIndexesFromPartials(e).map((function(e){return new i(e.map((function(e){return t.intersections[e]})))})).forEach((function(e){e.area()>0&&(t.polygons.push(e),t.renderer.drawPolygon(e,"white"))})),this.surveys.forEach((function(e){return t.updateSurvey(e)}))},a.prototype.testSide=function(t,e,n){return e.sub(t).cross(n.sub(t))>0},a.prototype.partialsOverlaps=function(t,e){return t[t.length-2]===e[0]&&t[t.length-1]===e[1]?2:0},a.prototype.partialsMeet=function(t,e){return t[t.length-1]===e[0]?1:0},a.prototype.buildPartialsFromIntersectionIndexes=function(t,e){for(var n=[],i=0;i<e.length;i++)if("number"==typeof e[i]){var r=i+1;for(r===e.length&&(r=0);"number"!=typeof e[r];)++r===e.length&&(r=0);i!==r&&n.push([e[i],t,e[r]])}return n},a.prototype.buildPartialsFromIntersectionTimes=function(t,e,n){var i=this;void 0===t&&(t=this.lines),void 0===e&&(e=this.intersectionTimes),void 0===n&&(n=this.intersectionIndex);for(var r=this.contour.edgeCount(),o=e.map((function(t,o){return t.map((function(t,e){return e})).filter((function(s){return!isNaN(t[s])&&0<=t[s]&&t[s]<=1&&!isNaN(e[s][o])&&0<=e[s][o]&&e[s][o]<=1&&(o<r||s<r||i.contour.contains(i.intersections[n[o][s]]))})).sort((function(e,n){return t[e]-t[n]}))})),s=[],a=function(e){for(var i=0;i<o[e].length;i++){var r=o[e][i];if(e<r){var a=n[e][o[e][i]],c=i-1,l=i+1,d=o[r].findIndex((function(t){return t===e})),h=u.testSide(t[e].v1,t[e].v2,t[r].v1),p=h?d-1:d+1,v=h?d+1:d-1,y=0<i?n[e][o[e][c]]:null,f=i<o[e].length-1?n[e][o[e][l]]:null,m=-1<p&&p<o[r].length?n[r][o[r][p]]:null,g=-1<v&&v<o[r].length?n[r][o[r][v]]:null,w=u.buildPartialsFromIntersectionIndexes(a,[y,g,f,m]);s.push.apply(s,w)}}},u=this,c=0;c<o.length;c++)a(c);return s},a.prototype.buildPolygonIndexesFromPartials=function(t){for(var e,n,i=[],r=0;r<t.length;){for(var s=0;s<t.length;s++)if(r!==s&&this.partialsOverlaps(t[r],t[s])){(e=t[r]).splice.apply(e,o([-2,2],t[s])),t.splice(s,1),s<r&&r--,(n=this.partialsOverlaps(t[r],t[r])||this.partialsMeet(t[r],t[r]))>0&&(t[r].splice(0,n),i.push(t[r]),t.splice(r,1)),r=-1;break}r++}return i},a}(),u=document.createElementNS("http://www.w3.org/2000/svg","g");u.setAttribute("stroke","black"),u.setAttribute("stroke-width","0.4px");var c=document.createElementNS("http://www.w3.org/2000/svg","line");c.setAttribute("stroke-dasharray","10, 4, 1, 4");var l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("d","M 0, 0 A 10, 10, 0, 0, 0, -5, -5 A 10, 10, 0, 1, 1, 5, -5 A 10, 10, 0, 0, 0, 0, 0"),l.setAttribute("fill","white");var d=document.createElementNS("http://www.w3.org/2000/svg","text");d.setAttribute("text-anchor","middle"),d.setAttribute("alignment-baseline","central"),d.setAttribute("font-family",'consolas, "Liberation Mono", courier, monospace'),d.setAttribute("font-weight","100"),d.setAttribute("font-size","14px"),u.appendChild(c),u.appendChild(l),u.appendChild(l.cloneNode()),u.appendChild(d),u.appendChild(d.cloneNode());var h=document.createElementNS("http://www.w3.org/2000/svg","g");h.setAttribute("stroke","black"),h.setAttribute("stroke-width","0.4px");var p=document.createElementNS("http://www.w3.org/2000/svg","circle");p.setAttribute("fill","green"),p.setAttribute("r","3");var v=document.createElementNS("http://www.w3.org/2000/svg","text");v.setAttribute("transform","translate(0, 10)"),v.setAttribute("text-anchor","middle"),v.setAttribute("alignment-baseline","hanging"),v.setAttribute("font-family",'consolas, "Liberation Mono", courier, monospace'),v.setAttribute("font-weight","100"),v.setAttribute("font-size","14px"),v.setAttribute("font-style","italic"),h.appendChild(p),h.appendChild(v);var y=document.createElementNS("http://www.w3.org/2000/svg","path");y.setAttribute("fill","green"),y.setAttribute("fill-opacity","0.7"),y.setAttribute("stroke-width","0.8px"),y.setAttribute("stroke-dasharray","5, 2"),y.setAttribute("stroke","black");var f=document.createElementNS("http://www.w3.org/2000/svg","g");f.setAttribute("transform","translate(300, 100)");var m=document.createElementNS("http://www.w3.org/2000/svg","path");m.setAttribute("fill","url(#earth-hatch)"),m.setAttribute("stroke-width","0");var g=document.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("fill-opacity","0"),g.setAttribute("stroke","black"),g.setAttribute("stroke-width","0.8px");var w=document.createElementNS("http://www.w3.org/2000/svg","g");f.appendChild(w),f.appendChild(m),f.appendChild(g);var b=document.createElementNS("http://www.w3.org/2000/svg","rect"),x=document.createElementNS("http://www.w3.org/2000/svg","pattern");x.id="earth-hatch",x.setAttribute("patternUnits","userSpaceOnUse"),x.setAttribute("width","25"),x.setAttribute("height","25"),x.setAttribute("stroke","#222d32"),x.setAttribute("stroke-width","0.4px");for(var A=document.createElementNS("http://www.w3.org/2000/svg","path"),C=0,S=["M-1,1 l2,-2","M-1,9 l10,-10","M-1,18 l4,-4","M-1,26 l8,-8","M7,26 l4,-4","M16,26 l10,-10","M24,26 l2,-2","M14,3 l4,-4","M18,7 l8,-8","M22,11 l4,-4","M2,11 l13,13","M6,7 l13,13","M10,3 l13,13"];C<S.length;C++){var M=S[C];A.setAttribute("d",M),x.appendChild(A),A=A.cloneNode()}var N=document.createElement("select");N.style.position="absolute",N.style.transform="translateY(-49%)",N.style.left="24px";for(var E=document.createElement("option"),F=["non identifié","argile","calcaire"],L=new Map([[F[0],"#fde312"],[F[1],"#289fde"],[F[2],"#abfe12"]]),k=0,I=F;k<I.length;k++){var P=I[k];E.innerHTML=P,E.setAttribute("value",P),N.appendChild(E),E=E.cloneNode()}var q=document.createElement("p");q.style.borderLeftWidth="14px",q.style.fontFamily='consolas, "Liberation Mono", courier, monospace',q.style.fontWeight="100",q.style.fontSize="14px",q.style.height="14px",q.style.paddingLeft="8px";var T=document.createElementNS("http://www.w3.org/2000/svg","path");T.setAttribute("fill","#0005");var R=document.createElementNS("http://www.w3.org/2000/svg","g"),H=document.createElementNS("http://www.w3.org/2000/svg","rect");H.setAttribute("stroke","black"),H.setAttribute("stroke-width","0.8px");for(var B=0,D=[[0,0,10,4,"black"],[10,0,10,4,"white"],[20,0,10,4,"black"],[30,0,10,4,"white"],[40,0,10,4,"black"],[50,0,50,4,"white"],[0,5,10,4,"white"],[10,5,10,4,"black"],[20,5,10,4,"white"],[30,5,10,4,"black"],[40,5,10,4,"white"],[50,5,50,4,"black"]];B<D.length;B++){var G=D[B],O=G[0],Y=G[1],j=G[2],Q=G[3],z=G[4];H.setAttribute("x",O.toFixed()),H.setAttribute("y",Y.toFixed()),H.setAttribute("width",j.toFixed()),H.setAttribute("height",Q.toFixed()),H.setAttribute("fill",z),R.appendChild(H),H=H.cloneNode()}new a(new(function(){function t(){this.selectContainer=document.createElement("div"),this.pointContainer=document.createElementNS("http://www.w3.org/2000/svg","g"),this.polygonContainer=document.createElementNS("http://www.w3.org/2000/svg","g"),this.lineContainer=document.createElementNS("http://www.w3.org/2000/svg","g"),this.surveyContainer=document.createElementNS("http://www.w3.org/2000/svg","g"),this.svgGByLine=new Map,this.svgPathByPolygon=new Map,this.svgGByPoint=new Map,this.handlers={},this.svgContourPath=T.cloneNode(),this.svgKutchG=R.cloneNode(!0),this.svg=document.querySelector(".content"),this.sidebarDiv=document.querySelector(".sidebar"),this.sidebarSvg=document.querySelector(".sidebar > svg"),this.svg.prepend(this.svgContourPath),this.svg.appendChild(x),this.svg.appendChild(this.polygonContainer),this.svg.appendChild(this.lineContainer),this.svg.appendChild(this.pointContainer),this.svg.appendChild(this.svgKutchG),this.quantitiesContainer=document.querySelector(".quantities"),this.sidebarSvg.appendChild(this.surveyContainer),this.sidebarDiv.appendChild(this.selectContainer)}return t.prototype._setEventHandler=function(t,e,n){this.handlers[e]&&t.removeEventListener(e,this.handlers[e]),this.handlers[e]=n,t.addEventListener(e,this.handlers[e])},t.prototype.setMouseDownHandler=function(t){this._setEventHandler(this.svg,"mousedown",t)},t.prototype.setMouseUpHandler=function(t){this._setEventHandler(this.svg,"mouseup",t)},t.prototype.setMouseMoveHandler=function(t){this._setEventHandler(this.svg,"mousemove",t)},t.prototype.setSidebarMouseDownHandler=function(t){this._setEventHandler(this.sidebarSvg,"mousedown",t)},t.prototype.setSidebarMouseUpHandler=function(t){this._setEventHandler(this.sidebarSvg,"mouseup",t)},t.prototype.setSidebarMouseMoveHandler=function(t){this._setEventHandler(this.sidebarSvg,"mousemove",t)},t.prototype.drawLine=function(t,e){var n;this.svgGByLine.has(t)?n=this.svgGByLine.get(t):(n=u.cloneNode(!0),this.lineContainer.appendChild(n),this.svgGByLine.set(t,n));var i=n.children[0],r=n.children[1],o=n.children[2],s=n.children[3],a=n.children[4],c=t.x1.toFixed(),l=t.y1.toFixed(),d=t.x2.toFixed(),h=t.y2.toFixed();i.setAttribute("x1",c),i.setAttribute("y1",l),i.setAttribute("x2",d),i.setAttribute("y2",h),s.innerHTML=e,a.innerHTML=e;var p=180*(t.v2.sub(t.v1).angle()-Math.PI/2)/Math.PI,v=t.before(14),y=t.after(14);r.setAttribute("transform","translate("+c+", "+l+") rotate("+(isNaN(p)?0:p)+")"),o.setAttribute("transform","translate("+d+", "+h+") rotate("+(isNaN(p)?0:180+p)+")"),s.setAttribute("transform","translate("+(isNaN(v.x)?c:v.x.toFixed())+", "+(isNaN(v.y)?l:v.y.toFixed())+")"),a.setAttribute("transform","translate("+(isNaN(y.x)?d:y.x.toFixed())+", "+(isNaN(y.y)?h:y.y.toFixed())+")")},t.prototype.eraseLine=function(t){var e=this.svgGByLine.get(t);e&&(this.lineContainer.removeChild(e),this.svgGByLine.delete(t))},t.prototype.drawPoint=function(t,e){var n;this.svgGByPoint.has(t)?n=this.svgGByPoint.get(t):(n=h.cloneNode(!0),this.pointContainer.appendChild(n),this.svgGByPoint.set(t,n));var i=n.children[1];n.setAttribute("transform","translate("+t.x.toFixed()+", "+t.y.toFixed()+")"),i.innerHTML=e},t.prototype.clearContainer=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.prototype.clearIntersections=function(){this.clearContainer(this.pointContainer)},t.prototype.drawPolygon=function(t,e){var n;void 0===e&&(e="#"+(Math.floor(16677215*Math.random())+1e5).toString(16)),this.svgPathByPolygon.has(t)?n=this.svgPathByPolygon.get(t):(n=y.cloneNode(),this.polygonContainer.appendChild(n),this.svgPathByPolygon.set(t,n)),n.setAttribute("d","M "+t.vertices.map((function(t){return t.x.toFixed()+" "+t.y.toFixed()})).join(" L ")+" Z"),n.setAttribute("fill",e)},t.prototype.drawContour=function(t){this.svgContourPath.setAttribute("d","M "+t.vertices.map((function(t){return t.x.toFixed()+" "+t.y.toFixed()})).join(" L ")+" Z")},t.prototype.clearPolygons=function(){this.clearContainer(this.polygonContainer)},t.prototype.drawSurvey=function(t){var e=this;this.clearContainer(this.surveyContainer),this.clearContainer(this.selectContainer);var n="M "+(-100).toFixed()+", 0 h "+75..toFixed()+" v "+t.depth().toFixed()+" h "+50..toFixed()+" v "+-t.depth().toFixed()+" h "+75..toFixed(),i=n+" v "+10..toFixed()+" h "+(-65).toFixed()+" v "+t.depth().toFixed()+" h "+(-70).toFixed()+" v "+-t.depth().toFixed()+" h "+(-65).toFixed()+" Z",r=f.cloneNode(!0),o=r.children[0],s=r.children[1],a=r.children[2];s.setAttribute("d",i),a.setAttribute("d",n);for(var u=0,c=function(n){var i=b.cloneNode();i.setAttribute("x",(-25).toFixed()),i.setAttribute("y",u.toFixed()),i.setAttribute("width",50..toFixed()),i.setAttribute("height",t.lithology[n].depth.toFixed()),i.setAttribute("fill",L.get(t.lithology[n].type)),o.appendChild(i);var r=N.cloneNode(!0);r.querySelector('option[value="'+t.lithology[n].type+'"]').setAttribute("selected","selected"),r.addEventListener("change",(function(o){t.lithology[n].type=r.value,i.setAttribute("fill",L.get(r.value)),e.lithoChangeHandler()})),r.style.top=(u+100+t.lithology[n].depth/2).toFixed()+"px",l.selectContainer.appendChild(r),u+=t.lithology[n].depth},l=this,d=0;d<t.lithology.length;d++)c(d);this.surveyContainer.appendChild(r),this.sidebarDiv.classList.add("visible")},t.prototype.clearSurvey=function(){this.sidebarDiv.classList.remove("visible"),this.clearContainer(this.surveyContainer),this.clearContainer(this.selectContainer)},t.prototype.drawQuantities=function(t,e){var n=this;this.clearContainer(this.quantitiesContainer);var i=q.cloneNode();i.innerHTML="Volumes :",i.style.fontStyle="bold",i.style.textDecoration="underline",this.quantitiesContainer.appendChild(i),t.forEach((function(t,i){var r=q.cloneNode();r.innerHTML=i+" ("+(t/(50*Math.pow(e,2))).toFixed(2)+" m³)",r.style.borderLeft="8px solid "+L.get(i),n.quantitiesContainer.appendChild(r)}))},t.prototype.drawKutch=function(t){var e=180*t.v2.sub(t.v1).angle()/Math.PI;this.svgKutchG.setAttribute("transform","translate("+t.v1.x.toFixed()+", "+t.v1.y.toFixed()+") rotate("+(isNaN(e)?0:e)+") scale("+t.len()/100+", 1)")},t}()))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xwbG90Ly4vc3JjL3ZlY3RvcjIudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9saW5lLnRzIiwid2VicGFjazovL3BvbHBsb3QvLi9zcmMvbGl0aG9sb2dpY2FsLWxheWVyLnRzIiwid2VicGFjazovL3BvbHBsb3QvLi9zcmMvcG9seWdvbi50cyIsIndlYnBhY2s6Ly9wb2xwbG90Ly4vc3JjL3N1cnZleS50cyIsIndlYnBhY2s6Ly9wb2xwbG90Ly4vc3JjL3BvbHBsb3QudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9zdmctcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJ4IiwieSIsImRvdFJhdyIsIngxIiwieTEiLCJ4MiIsInkyIiwiZG90IiwidSIsInYiLCJ0aGlzIiwib3RoZXIiLCJWZWN0b3IyIiwiY3Jvc3NSYXciLCJjcm9zcyIsImxlbjJSYXciLCJNYXRoIiwicG93IiwibGVuMiIsImxlblJhdyIsInNxcnQiLCJsZW4iLCJub3JtYWxpemVSYXciLCJieSIsImNvZWYiLCJtdWxSYXciLCJub3JtYWxpemUiLCJlcXVhbHNSYXciLCJlcXVhbHMiLCJhZGRSYXciLCJhZGQiLCJzdWJSYXciLCJzdWIiLCJtdWwiLCJpbnRlcnNlY3Rpb25UaW1lc1JhdyIsImZ4IiwiZnkiLCJ0eCIsInR5Iiwic3giLCJzeSIsImV4IiwiZXkiLCJkZXQiLCJpbnRlcnNlY3Rpb25UaW1lcyIsImZyb20iLCJ0byIsInN0YXJ0IiwiZW5kIiwiaW50ZXJzZWN0aW9uUmF3IiwidGltZXMiLCJpbnRlcnNlY3Rpb24iLCJhbmdsZSIsImExIiwiYTIiLCJQSSIsImFjb3MiLCJ2MSIsInYyIiwiZnJvbVZlY3RvcnMiLCJsaW5lIiwiTGluZSIsInBvaW50QXQiLCJ0IiwiYmVmb3JlIiwiYWZ0ZXIiLCJpbnRlcnNlY3Rpb25UaW1lc1dpdGgiLCJ1cGRhdGUiLCJkeDEiLCJkeTEiLCJkeDIiLCJkeTIiLCJuZWFyZXN0VG8iLCJwIiwibWF4IiwibWluIiwidHlwZSIsImRlcHRoIiwidmVydGljZXMiLCJhcmVhQmV0d2VlbiIsImkiLCJqIiwiYXJlYSIsImEiLCJsZW5ndGgiLCJjb250YWlucyIsImMiLCJyZXZlcnNlIiwiZWRnZUNvdW50IiwiZWRnZXMiLCJtYXAiLCJ0b1N0cmluZyIsInRvRml4ZWQiLCJqb2luIiwiY29vcmRpbmF0ZXMiLCJsaXRob2xvZ3kiLCJwb2x5Z29uIiwicmVkdWNlIiwibGF5ZXIiLCJxdWFudGl0aWVzIiwiTWFwIiwiZm9yRWFjaCIsImxpdGhvbG9naWNhbExheWVyIiwicXVhbnRpdHkiLCJnZXQiLCJzZXQiLCJyb3VuZCIsIkNMSUNLX1RIUkVTSE9MRCIsInJlbmRlcmVyIiwiYXhlcyIsImt1dGNoIiwiY29udG91ciIsIlBvbHlnb24iLCJpbnRlcnNlY3Rpb25zIiwiaW50ZXJzZWN0aW9uSW5kZXgiLCJwb2x5Z29ucyIsInN1cnZleXMiLCJtb2RlIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJrZXkiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZGl2IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwicXVlcnlTZWxlY3RvciIsImNsZWFyU3VydmV5IiwidGFyZ2V0IiwidXBkYXRlUXVhbnRpdGllcyIsImRyYXdLdXRjaCIsImRyYWdnZWRWZWN0b3IyIiwiYWN0aXZlU3VydmV5IiwicG9seWdvbkNvbnRhaW5lciIsImRyYWdnZWRMaXRob2xvZ3lMYXllciIsImRyYWdnZWRMaW5lSW5kZXgiLCJkcmFnZ2VkU3VydmV5SW5kZXgiLCJzZXRNb3VzZURvd25IYW5kbGVyIiwiYnV0dG9uIiwibW91c2UiLCJjbGllbnRYIiwiY2xpZW50WSIsIm5lYXJlc3RMaW5lSW5kZXhGcm9tIiwiYWRkTGluZSIsImxpbmVzIiwiYWRkQ29udG91ciIsIm5lYXJlc3RTdXJ2ZXlJbmRleEZyb20iLCJhZGRTdXJ2ZXkiLCJzZXRNb3VzZVVwSGFuZGxlciIsImRyYXdTdXJ2ZXkiLCJzZXRNb3VzZU1vdmVIYW5kbGVyIiwibW92ZW1lbnRYIiwibW92ZW1lbnRZIiwidXBkYXRlSW50ZXJzZWN0aW9uVGltZXMiLCJkcmF3TGluZSIsImRyYXdDb250b3VyIiwic3VydmV5IiwidXBkYXRlU3VydmV5IiwiaXNJbnNpZGUiLCJvbGRQb2x5Z29uQ29udGFpbmVyIiwiZHJhd1BvbHlnb24iLCJzZXRTaWRlYmFyTW91c2VEb3duSGFuZGxlciIsIm9mZnNldFgiLCJvZmZzZXRZIiwib2Zmc2V0Iiwic2V0U2lkZWJhck1vdXNlVXBIYW5kbGVyIiwic2V0U2lkZWJhck1vdXNlTW92ZUhhbmRsZXIiLCJsaXRob0NoYW5nZUhhbmRsZXIiLCJjb25jYXQiLCJ0aHJlc2hvbGQiLCJkaXN0IiwibmVhcmVzdExpbmVJbmRleCIsIm5lYXJlc3REaXN0IiwibmVhcmVzdFN1cnZleUluZGV4IiwiY29udGFpbmVyIiwiU3VydmV5IiwiTGl0aG9sb2dpY2FsTGF5ZXIiLCJwdXNoIiwiZHJhd1BvaW50Iiwic2NhbGUiLCJjbGVhciIsImRyYXdRdWFudGl0aWVzIiwiaW5pdEludGVyc2VjdGlvbkRhdGEiLCJhdCIsImxpbmVDb3VudCIsIm5ld0ludGVyc2VjdGlvblRpbWVzIiwibmV3SW50ZXJzZWN0aW9uSW5kZXgiLCJzcGxpY2UiLCJOYU4iLCJza2lwUmVuZGVyIiwicmVuZGVySW50ZXJzZWN0aW9ucyIsImNsZWFyUG9seWdvbnMiLCJwYXJ0aWFscyIsImJ1aWxkUGFydGlhbHNGcm9tSW50ZXJzZWN0aW9uVGltZXMiLCJidWlsZFBvbHlnb25JbmRleGVzRnJvbVBhcnRpYWxzIiwicG9seWdvbkluZGV4IiwidGVzdFNpZGUiLCJ3IiwicGFydGlhbHNPdmVybGFwcyIsInAxIiwicDIiLCJwYXJ0aWFsc01lZXQiLCJidWlsZFBhcnRpYWxzRnJvbUludGVyc2VjdGlvbkluZGV4ZXMiLCJjZW50ZXIiLCJpbmRleGVzIiwicGFydHMiLCJpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXkiLCJpbnRlcnNlY3Rpb25UaW1lc0F0SSIsIl8iLCJmaWx0ZXIiLCJpc05hTiIsInNvcnQiLCJsb2NhbEluZGV4IiwibG9jYWxJbnRlckluZGV4IiwiZm9yZWlnbkluZGV4IiwiaW50ZXIiLCJwcmV2TG9jYWxJbnRlckluZGV4IiwibmV4dExvY2FsSW50ZXJJbmRleCIsImZvcmVpZ25JbnRlckluZGV4IiwiZmluZEluZGV4IiwiZm9yZWlnbmlzUmlnaHRTaWRlZCIsInByZXZGb3JlaWduSW50ZXJJbmRleCIsIm5leHRGb3JlaWduSW50ZXJJbmRleCIsInByZXZMb2NhbEludGVyIiwibmV4dExvY2FsSW50ZXIiLCJwcmV2Rm9yZWlnbkludGVyIiwibmV4dEZvcmVpZ25JbnRlciIsIm92ZXJsYXAiLCJwb2x5Z29uSW5kZXhlcyIsImdUZW1wbGF0ZSIsImNyZWF0ZUVsZW1lbnROUyIsInNldEF0dHJpYnV0ZSIsImxpbmVUZW1wbGF0ZSIsImFuY2hvclRlbXBsYXRlIiwidGV4dFRlbXBsYXRlIiwiYXBwZW5kQ2hpbGQiLCJjbG9uZU5vZGUiLCJnUG9pbnRUZW1wbGF0ZSIsInBvaW50VGVtcGxhdGUiLCJ0ZXh0UG9pbnRUZW1wbGF0ZSIsInBvbHlnb25UZW1wbGF0ZSIsImdTdXJ2ZXlUZW1wbGF0ZSIsInN1cnZleUJvdHRvbVBvbHlnb25UZW1wbGF0ZSIsInN1cnZleVRvcFBvbHlnb25UZW1wbGF0ZSIsInN1cnZleUxpdGhvbG9neVRlbXBsYXRlIiwibGl0aG9sb2dpY2FsTGF5ZXJSZWN0VGVtcGxhdGUiLCJoYXRjaFBhdHRlcm4iLCJpZCIsImhhdGNoUGF0aCIsImQiLCJzZWxlY3RUZW1wbGF0ZSIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsInBvc2l0aW9uIiwidHJhbnNmb3JtIiwibGVmdCIsIm9wdGlvblRlbXBsYXRlIiwidmFsdWVzIiwiY29sb3JzIiwidmFsdWUiLCJpbm5lckhUTUwiLCJwVGVtcGxhdGUiLCJib3JkZXJMZWZ0V2lkdGgiLCJmb250RmFtaWx5IiwiZm9udFdlaWdodCIsImZvbnRTaXplIiwiaGVpZ2h0IiwicGFkZGluZ0xlZnQiLCJjb250b3VyVGVtcGxhdGUiLCJnS3V0Y2hUZW1wbGF0ZSIsImt1dGNoUmVjdCIsIndpZHRoIiwiZmlsbCIsIlBvbHBsb3QiLCJzZWxlY3RDb250YWluZXIiLCJwb2ludENvbnRhaW5lciIsImxpbmVDb250YWluZXIiLCJzdXJ2ZXlDb250YWluZXIiLCJzdmdHQnlMaW5lIiwic3ZnUGF0aEJ5UG9seWdvbiIsInN2Z0dCeVBvaW50IiwiaGFuZGxlcnMiLCJzdmdDb250b3VyUGF0aCIsInN2Z0t1dGNoRyIsInN2ZyIsInNpZGViYXJEaXYiLCJzaWRlYmFyU3ZnIiwicHJlcGVuZCIsInF1YW50aXRpZXNDb250YWluZXIiLCJfc2V0RXZlbnRIYW5kbGVyIiwiaGFuZGxlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJuYW1lIiwic3ZnRyIsImhhcyIsInN2Z0xpbmUiLCJjaGlsZHJlbiIsInN2Z1BhdGhBbmNob3JTdGFydCIsInN2Z1BhdGhBbmNob3JFbmQiLCJzdmdUZXh0U3RhcnQiLCJzdmdUZXh0RW5kIiwiZXJhc2VMaW5lIiwicmVtb3ZlQ2hpbGQiLCJkZWxldGUiLCJwb2ludCIsInN2Z1RleHQiLCJjbGVhckNvbnRhaW5lciIsImZpcnN0Q2hpbGQiLCJjbGVhckludGVyc2VjdGlvbnMiLCJzdmdQYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJkQm90dG9tIiwiYm90dG9tUG9seWdvbiIsInRvcFBvbHlnb24iLCJ0b3AiLCJzZWxlY3QiLCJmb250U3R5bGUiLCJ0ZXh0RGVjb3JhdGlvbiIsImJvcmRlckxlZnQiXSwibWFwcGluZ3MiOiJtQkFBQSxpQkFDRSxXQUFtQkEsRUFBY0MsUUFBZCxJQUFBRCxNQUFBLFFBQWMsSUFBQUMsTUFBQSxHQUFkLEtBQUFELElBQWMsS0FBQUMsSUFxSW5DLE9BcElTLEVBQUFDLE9BQVAsU0FBY0MsRUFBWUMsRUFBWUMsRUFBWUMsR0FDaEQsT0FBT0gsRUFBS0UsRUFBS0QsRUFBS0UsR0FFakIsRUFBQUMsSUFBUCxTQUFXQyxFQUFZQyxHQUNyQixPQUFPQyxL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QUFJLFlBRWhDLFlBQUFpRyxZQUFBLFdBQ0VySCxLQUFLbVIsV0FBV2pLLFVBQVVDLE9BQU8sV0FDakNuSCxLQUFLd1MsZUFBZXhTLEtBQUsyUSxpQkFDekIzUSxLQUFLd1MsZUFBZXhTLEtBQUt3USxrQkFFM0IsWUFBQTdGLGVBQUEsU0FBZWxGLEVBQWlDZ0YsR0FBaEQsV0FDRXpLLEtBQUt3UyxlQUFleFMsS0FBS3NSLHFCQUN6QixJQUFNdk4sRUFBSTRMLEVBQVV6QixZQUNwQm5LLEVBQUUyTCxVQUFZLFlBQ2QzTCxFQUFFbUwsTUFBTWlFLFVBQVksT0FDcEJwUCxFQUFFbUwsTUFBTWtFLGVBQWlCLFlBQ3pCcFQsS0FBS3NSLG9CQUFvQnJELFlBQVlsSyxHQUNyQzBCLEVBQVdFLFNBQVEsU0FBQ0UsRUFBVTNCLEdBQzVCLElBQU1ILEVBQUk0TCxFQUFVekIsWUFDcEJuSyxFQUFFMkwsVUFBZXhMLEVBQUksTUFBTTJCLEdBQWlDLEdBQXJCdkYsS0FBS0MsSUFBSWtLLEVBQU8sS0FBVXZGLFFBQVEsR0FBRSxPQUMzRW5CLEVBQUVtTCxNQUFNbUUsV0FBYSxhQUFhN0QsRUFBTzFKLElBQUk1QixHQUM3QyxFQUFLb04sb0JBQW9CckQsWUFBWWxLLE9BR3pDLFlBQUF5RCxVQUFBLFNBQVVwQixHQUNSLElBQU0xRCxFQUFRLElBQU0wRCxFQUFNcEQsR0FBRzFCLElBQUk4RSxFQUFNckQsSUFBSUwsUUFBVXBDLEtBQUt1QyxHQUMxRDdDLEtBQUtpUixVQUFVcEQsYUFDYixZQUNBLGFBQWF6SCxFQUFNckQsR0FBR3pELEVBQUU0RixVQUFTLEtBQUtrQixFQUFNckQsR0FBR3hELEVBQUUyRixVQUFqRCxhQUNVc0gsTUFBTTlKLEdBQVMsRUFBSUEsR0FEN0IsV0FFUzBELEVBQU16RixNQUFRLElBQUcsU0FHaEMsRUEzTkEsTSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFZlY3RvcjIge1xyXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB4ID0gMCwgcHVibGljIHkgPSAwKSB7fVxyXG4gIHN0YXRpYyBkb3RSYXcoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4geDEgKiB4MiArIHkxICogeTI7XHJcbiAgfVxyXG4gIHN0YXRpYyBkb3QodTogVmVjdG9yMiwgdjogVmVjdG9yMik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5kb3RSYXcodS54LCB1LnksIHYueCwgdi55KTtcclxuICB9XHJcbiAgZG90KG90aGVyOiBWZWN0b3IyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBWZWN0b3IyLmRvdCh0aGlzLCBvdGhlcik7XHJcbiAgfVxyXG4gIHN0YXRpYyBjcm9zc1Jhdyh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB4MSAqIHkyIC0geDIgKiB5MTtcclxuICB9XHJcbiAgc3RhdGljIGNyb3NzKHU6IFZlY3RvcjIsIHY6IFZlY3RvcjIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuY3Jvc3NSYXcodS54LCB1LnksIHYueCwgdi55KTtcclxuICB9XHJcbiAgY3Jvc3Mob3RoZXI6IFZlY3RvcjIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuY3Jvc3ModGhpcywgb3RoZXIpO1xyXG4gIH1cclxuICBzdGF0aWMgbGVuMlJhdyh4OiBudW1iZXIsIHk6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gTWF0aC5wb3coeCwgMikgKyBNYXRoLnBvdyh5LCAyKTtcclxuICB9XHJcbiAgc3RhdGljIGxlbjIodTogVmVjdG9yMik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5sZW4yUmF3KHUueCwgdS55KTtcclxuICB9XHJcbiAgbGVuMigpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIubGVuMih0aGlzKTtcclxuICB9XHJcbiAgc3RhdGljIGxlblJhdyh4OiBudW1iZXIsIHk6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMubGVuMlJhdyh4LCB5KSk7XHJcbiAgfVxyXG4gIHN0YXRpYyBsZW4odTogVmVjdG9yMik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5sZW5SYXcodS54LCB1LnkpO1xyXG4gIH1cclxuICBsZW4oKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBWZWN0b3IyLmxlbih0aGlzKTtcclxuICB9XHJcbiAgc3RhdGljIG5vcm1hbGl6ZVJhdyh4OiBudW1iZXIsIHk6IG51bWJlciwgYnk6IG51bWJlciA9IDEpOiBWZWN0b3IyIHtcclxuICAgIGNvbnN0IGNvZWYgPSBieSAvIHRoaXMubGVuUmF3KHgsIHkpO1xyXG4gICAgcmV0dXJuIHRoaXMubXVsUmF3KHgsIHksIGNvZWYpO1xyXG4gIH1cclxuICBzdGF0aWMgbm9ybWFsaXplKHU6IFZlY3RvcjIsIGJ5OiBudW1iZXIgPSAxKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gdGhpcy5ub3JtYWxpemVSYXcodS54LCB1LnksIGJ5KTtcclxuICB9XHJcbiAgbm9ybWFsaXplKGJ5OiBudW1iZXIgPSAxKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gVmVjdG9yMi5ub3JtYWxpemUodGhpcywgYnkpO1xyXG4gIH1cclxuICBzdGF0aWMgZXF1YWxzUmF3KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB4MSA9PT0geDIgJiYgeTEgPT09IHkyO1xyXG4gIH1cclxuICBzdGF0aWMgZXF1YWxzKHU6IFZlY3RvcjIsIHY6IFZlY3RvcjIpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmVxdWFsc1Jhdyh1LngsIHUueSwgdi54LCB2LnkpO1xyXG4gIH1cclxuICBlcXVhbHMob3RoZXI6IFZlY3RvcjIpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBWZWN0b3IyLmVxdWFscyh0aGlzLCBvdGhlcik7XHJcbiAgfVxyXG4gIHN0YXRpYyBhZGRSYXcoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHgxICsgeDIsIHkxICsgeTIpO1xyXG4gIH1cclxuICBzdGF0aWMgYWRkKHU6IFZlY3RvcjIsIHY6IFZlY3RvcjIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiB0aGlzLmFkZFJhdyh1LngsIHUueSwgdi54LCB2LnkpO1xyXG4gIH1cclxuICBhZGQob3RoZXI6IFZlY3RvcjIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBWZWN0b3IyLmFkZCh0aGlzLCBvdGhlcik7XHJcbiAgfVxyXG4gIHN0YXRpYyBzdWJSYXcoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHgxIC0geDIsIHkxIC0geTIpO1xyXG4gIH1cclxuICBzdGF0aWMgc3ViKHU6IFZlY3RvcjIsIHY6IFZlY3RvcjIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiB0aGlzLnN1YlJhdyh1LngsIHUueSwgdi54LCB2LnkpO1xyXG4gIH1cclxuICBzdWIob3RoZXI6IFZlY3RvcjIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBWZWN0b3IyLnN1Yih0aGlzLCBvdGhlcik7XHJcbiAgfVxyXG4gIHN0YXRpYyBtdWxSYXcoeDogbnVtYmVyLCB5OiBudW1iZXIsIGJ5OiBudW1iZXIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMih4ICogYnksIHkgKiBieSk7XHJcbiAgfVxyXG4gIHN0YXRpYyBtdWwodTogVmVjdG9yMiwgYnk6IG51bWJlcik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHRoaXMubXVsUmF3KHUueCwgdS55LCBieSk7XHJcbiAgfVxyXG4gIG11bChieTogbnVtYmVyKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gVmVjdG9yMi5tdWwodGhpcywgYnkpO1xyXG4gIH1cclxuICBzdGF0aWMgaW50ZXJzZWN0aW9uVGltZXNSYXcoXHJcbiAgICBmeDogbnVtYmVyLCBmeTogbnVtYmVyLCB0eDogbnVtYmVyLCB0eTogbnVtYmVyLFxyXG4gICAgc3g6IG51bWJlciwgc3k6IG51bWJlciwgZXg6IG51bWJlciwgZXk6IG51bWJlclxyXG4gICk6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xyXG4gICAgY29uc3QgZGV0ID0gdGhpcy5jcm9zc1Jhdyh0eCAtIGZ4LCB0eSAtIGZ5LCBleCAtIHN4LCBleSAtIHN5KTtcclxuICAgIHJldHVybiBuZXcgVmVjdG9yMihcclxuICAgICAgdGhpcy5jcm9zc1JhdyhleCAtIHN4LCBleSAtIHN5LCBmeCAtIHN4LCBmeSAtIHN5KSAvIGRldCxcclxuICAgICAgdGhpcy5jcm9zc1Jhdyh0eCAtIGZ4LCB0eSAtIGZ5LCBmeCAtIHN4LCBmeSAtIHN5KSAvIGRldFxyXG4gICAgKTtcclxuICB9XHJcbiAgc3RhdGljIGludGVyc2VjdGlvblRpbWVzKFxyXG4gICAgZnJvbTogVmVjdG9yMiwgdG86IFZlY3RvcjIsIHN0YXJ0OiBWZWN0b3IyLCBlbmQ6IFZlY3RvcjJcclxuICApOiBWZWN0b3IyIHwgdW5kZWZpbmVkIHtcclxuICAgIHJldHVybiB0aGlzLmludGVyc2VjdGlvblRpbWVzUmF3KGZyb20ueCwgZnJvbS55LCB0by54LCB0by55LCBzdGFydC54LCBzdGFydC55LCBlbmQueCwgZW5kLnkpO1xyXG4gIH1cclxuICBpbnRlcnNlY3Rpb25UaW1lcyh0bzogVmVjdG9yMiwgc3RhcnQ6IFZlY3RvcjIsIGVuZDogVmVjdG9yMik6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuaW50ZXJzZWN0aW9uVGltZXModGhpcywgdG8sIHN0YXJ0LCBlbmQpO1xyXG4gIH1cclxuICBzdGF0aWMgaW50ZXJzZWN0aW9uUmF3KFxyXG4gICAgZng6IG51bWJlciwgZnk6IG51bWJlciwgdHg6IG51bWJlciwgdHk6IG51bWJlcixcclxuICAgIHN4OiBudW1iZXIsIHN5OiBudW1iZXIsIGV4OiBudW1iZXIsIGV5OiBudW1iZXJcclxuICApOiBWZWN0b3IyIHwgdW5kZWZpbmVkIHtcclxuICAgIGNvbnN0IHRpbWVzID0gdGhpcy5pbnRlcnNlY3Rpb25UaW1lc1JhdyhmeCwgZnksIHR4LCB0eSwgc3gsIHN5LCBleCwgZXkpO1xyXG4gICAgaWYgKHRpbWVzKSB7XHJcbiAgICAgIHRpbWVzLnkgPSBmeSArICh0eSAtIGZ5KSAqIHRpbWVzLng7XHJcbiAgICAgIHRpbWVzLnggPSBmeCArICh0eCAtIGZ4KSAqIHRpbWVzLng7XHJcbiAgICAgIHJldHVybiB0aW1lcztcclxuICAgIH1cclxuICB9XHJcbiAgc3RhdGljIGludGVyc2VjdGlvbihmcm9tOiBWZWN0b3IyLCB0bzogVmVjdG9yMiwgc3RhcnQ6IFZlY3RvcjIsIGVuZDogVmVjdG9yMik6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xyXG4gICAgcmV0dXJuIHRoaXMuaW50ZXJzZWN0aW9uUmF3KGZyb20ueCwgZnJvbS55LCB0by54LCB0by55LCBzdGFydC54LCBzdGFydC55LCBlbmQueCwgZW5kLnkpO1xyXG4gIH1cclxuICBpbnRlcnNlY3Rpb24odG86IFZlY3RvcjIsIHN0YXJ0OiBWZWN0b3IyLCBlbmQ6IFZlY3RvcjIpOiBWZWN0b3IyIHwgdW5kZWZpbmVkIHtcclxuICAgIHJldHVybiBWZWN0b3IyLmludGVyc2VjdGlvbih0aGlzLCB0bywgc3RhcnQsIGVuZCk7XHJcbiAgfVxyXG4gIGFuZ2xlKG90aGVyPzogVmVjdG9yMik6IG51bWJlciB7XHJcbiAgICBpZiAob3RoZXIpIHtcclxuICAgICAgIGNvbnN0IGExID0gdGhpcy5hbmdsZSgpO1xyXG4gICAgICAgY29uc3QgYTIgPSBvdGhlci5hbmdsZSgpO1xyXG4gICAgICAgaWYgKGEyIDwgYTEpIHtcclxuICAgICAgICByZXR1cm4gYTIgKyAyICogTWF0aC5QSSAtIGExO1xyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gYTIgLSBhMTtcclxuICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAodGhpcy55ID4gMCkge1xyXG4gICAgICByZXR1cm4gTWF0aC5hY29zKHRoaXMueCAvIHRoaXMubGVuKCkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIDIgKiBNYXRoLlBJIC0gTWF0aC5hY29zKHRoaXMueCAvIHRoaXMubGVuKCkpO1xyXG4gICAgfVxyXG4gIH1cclxufSIsImltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi92ZWN0b3IyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTGluZSB7XHJcbiAgc3RhdGljIGZyb21WZWN0b3JzKHYxOiBWZWN0b3IyLCB2MjogVmVjdG9yMik6IExpbmUge1xyXG4gICAgY29uc3QgbGluZSA9IG5ldyBMaW5lKCk7XHJcbiAgICBsaW5lLnYxID0gdjE7XHJcbiAgICBsaW5lLnYyID0gdjI7XHJcbiAgICByZXR1cm4gbGluZTtcclxuICB9XHJcbiAgdjE6IFZlY3RvcjI7XHJcbiAgdjI6IFZlY3RvcjI7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICB4MT86IG51bWJlcixcclxuICAgIHkxPzogbnVtYmVyLFxyXG4gICAgeDI/OiBudW1iZXIsXHJcbiAgICB5Mj86IG51bWJlclxyXG4gICkge1xyXG4gICAgdGhpcy52MSA9IG5ldyBWZWN0b3IyKHgxLCB5MSk7XHJcbiAgICB0aGlzLnYyID0gbmV3IFZlY3RvcjIoeDIsIHkyKTtcclxuICB9XHJcbiAgZ2V0IHgxKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy52MS54O1xyXG4gIH1cclxuICBnZXQgeTEoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnYxLnk7XHJcbiAgfVxyXG4gIGdldCB4MigpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMudjIueDtcclxuICB9XHJcbiAgZ2V0IHkyKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy52Mi55O1xyXG4gIH1cclxuICBsZW4oKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnYyLnN1Yih0aGlzLnYxKS5sZW4oKTtcclxuICB9XHJcbiAgcG9pbnRBdCh0OiBudW1iZXIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiB0aGlzLnYxLmFkZCh0aGlzLnYyLnN1Yih0aGlzLnYxKS5tdWwodCkpO1xyXG4gIH1cclxuICBiZWZvcmUodDogbnVtYmVyKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gdGhpcy52MS5hZGQodGhpcy52Mi5zdWIodGhpcy52MSkubXVsKC10IC8gdGhpcy5sZW4oKSkpO1xyXG4gIH1cclxuICBhZnRlcih0OiBudW1iZXIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiB0aGlzLnYxLmFkZCh0aGlzLnYyLnN1Yih0aGlzLnYxKS5tdWwoKHRoaXMubGVuKCkgKyB0KSAvIHRoaXMubGVuKCkpKTtcclxuICB9XHJcbiAgaW50ZXJzZWN0aW9uVGltZXNXaXRoKG90aGVyOiBMaW5lKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gdGhpcy52MS5pbnRlcnNlY3Rpb25UaW1lcyh0aGlzLnYyLCBvdGhlci52MSwgb3RoZXIudjIpO1xyXG4gIH1cclxuICB1cGRhdGUoZHgxID0gMCwgZHkxID0gMCwgZHgyID0gMCwgZHkyID0gMCk6IHZvaWQge1xyXG4gICAgdGhpcy52MS54ICs9IGR4MTtcclxuICAgIHRoaXMudjEueSArPSBkeTE7XHJcbiAgICB0aGlzLnYyLnggKz0gZHgyO1xyXG4gICAgdGhpcy52Mi55ICs9IGR5MjtcclxuICB9XHJcbiAgbmVhcmVzdFRvKHA6IFZlY3RvcjIpOiBWZWN0b3IyIHtcclxuICAgIGlmICh0aGlzLnYxLmVxdWFscyh0aGlzLnYyKSkge1xyXG4gICAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy52MS54LCB0aGlzLnYxLnkpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdSA9IHRoaXMudjIuc3ViKHRoaXMudjEpO1xyXG4gICAgY29uc3QgdCA9IHUuZG90KHAuc3ViKHRoaXMudjEpKSAvIHUubGVuMigpO1xyXG4gICAgcmV0dXJuIHRoaXMucG9pbnRBdChNYXRoLm1heCgwLCBNYXRoLm1pbih0LCAxKSkpO1xyXG4gIH1cclxufSIsImV4cG9ydCBjbGFzcyBMaXRob2xvZ2ljYWxMYXllciB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwdWJsaWMgdHlwZTogc3RyaW5nLFxyXG4gICAgcHVibGljIGRlcHRoOiBudW1iZXIsXHJcbiAgKSB7XHJcblxyXG4gIH1cclxufSIsImltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9saW5lXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi92ZWN0b3IyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9seWdvbiB7XHJcbiAgY29uc3RydWN0b3IocmVhZG9ubHkgdmVydGljZXM6IFZlY3RvcjJbXSA9IFtdKSB7XHJcblxyXG4gIH1cclxuICBwcml2YXRlIGFyZWFCZXR3ZWVuKGk6IG51bWJlciwgajogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiAodGhpcy52ZXJ0aWNlc1tqXS54IC0gdGhpcy52ZXJ0aWNlc1tpXS54KSAqICh0aGlzLnZlcnRpY2VzW2ldLnkgKyB0aGlzLnZlcnRpY2VzW2pdLnkpIC8gMjtcclxuICB9XHJcbiAgYXJlYSgpOiBudW1iZXIge1xyXG4gICAgbGV0IGEgPSAwO1xyXG4gICAgbGV0IGkgPSB0aGlzLnZlcnRpY2VzLmxlbmd0aCAtIDE7XHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMudmVydGljZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgYSArPSB0aGlzLmFyZWFCZXR3ZWVuKGksIGopO1xyXG4gICAgICBpID0gajtcclxuICAgIH1cclxuICAgIHJldHVybiBhO1xyXG4gIH1cclxuICBjb250YWlucyh2OiBWZWN0b3IyKTogYm9vbGVhbiB7XHJcbiAgICBsZXQgYyA9IGZhbHNlO1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLnZlcnRpY2VzLmxlbmd0aCAtIDE7IGkgPCB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaiA9IGkrKykge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1tpXS55ID4gdi55ICE9PSB0aGlzLnZlcnRpY2VzW2pdLnkgPiB2LnkgJiZcclxuICAgICAgICB2LnggPCAodGhpcy52ZXJ0aWNlc1tqXS54IC0gdGhpcy52ZXJ0aWNlc1tpXS54KSAqICh2LnkgLSB0aGlzLnZlcnRpY2VzW2ldLnkpIC8gKHRoaXMudmVydGljZXNbal0ueSAtIHRoaXMudmVydGljZXNbaV0ueSkgKyB0aGlzLnZlcnRpY2VzW2ldLnhcclxuICAgICAgKSB7XHJcbiAgICAgICAgYyA9ICFjO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYztcclxuICB9XHJcbiAgcmV2ZXJzZSgpOiB2b2lkIHtcclxuICAgIHRoaXMudmVydGljZXMucmV2ZXJzZSgpO1xyXG4gIH1cclxuICBlZGdlQ291bnQoKTogbnVtYmVyIHtcclxuICAgIGlmICh0aGlzLnZlcnRpY2VzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgcmV0dXJuIHRoaXMudmVydGljZXMubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG4gIGVkZ2VzKCk6IExpbmVbXSB7XHJcbiAgICBpZiAodGhpcy52ZXJ0aWNlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnZlcnRpY2VzLm1hcCgodiwgaSkgPT4gTGluZS5mcm9tVmVjdG9ycyh0aGlzLnZlcnRpY2VzW2ldLCB0aGlzLnZlcnRpY2VzW2kgPCB0aGlzLnZlcnRpY2VzLmxlbmd0aCAtIDEgPyBpICsgMSA6IDBdKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG4gIHRvU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYCR7dGhpcy52ZXJ0aWNlcy5sZW5ndGh9IHBvaW50czogYCArIHRoaXMudmVydGljZXMubWFwKHYgPT4gYCgke3YueC50b0ZpeGVkKCl9LCAke3YueS50b0ZpeGVkKCl9KWApLmpvaW4oJywgJykgKyBgIChhcmVhOiAke3RoaXMuYXJlYSgpLnRvRml4ZWQoKX0pYDtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBMaXRob2xvZ2ljYWxMYXllciB9IGZyb20gXCIuL2xpdGhvbG9naWNhbC1sYXllclwiO1xyXG5pbXBvcnQgeyBQb2x5Z29uIH0gZnJvbSBcIi4vcG9seWdvblwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4vdmVjdG9yMlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN1cnZleSB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwdWJsaWMgY29vcmRpbmF0ZXM6IFZlY3RvcjIsXHJcbiAgICBwdWJsaWMgbGl0aG9sb2d5OiBMaXRob2xvZ2ljYWxMYXllcltdLFxyXG4gICAgcHVibGljIHBvbHlnb246IFBvbHlnb24sXHJcbiAgKSB7XHJcblxyXG4gIH1cclxuICBkZXB0aCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMubGl0aG9sb2d5LnJlZHVjZSgoZGVwdGgsIGxheWVyKSA9PiBkZXB0aCArIGxheWVyLmRlcHRoLCAwKTtcclxuICB9XHJcbiAgcXVhbnRpdGllcygpOiBNYXA8c3RyaW5nLCBudW1iZXI+IHtcclxuICAgIGNvbnN0IHF1YW50aXRpZXMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xyXG4gICAgaWYgKHRoaXMucG9seWdvbikge1xyXG4gICAgICBjb25zdCBhcmVhID0gdGhpcy5wb2x5Z29uLmFyZWEoKTtcclxuICAgICAgdGhpcy5saXRob2xvZ3kuZm9yRWFjaChsaXRob2xvZ2ljYWxMYXllciA9PiB7XHJcbiAgICAgICAgbGV0IHF1YW50aXR5ID0gcXVhbnRpdGllcy5nZXQobGl0aG9sb2dpY2FsTGF5ZXIudHlwZSkgfHwgMDtcclxuICAgICAgICBxdWFudGl0aWVzLnNldChsaXRob2xvZ2ljYWxMYXllci50eXBlLCBxdWFudGl0eSArIE1hdGgucm91bmQoYXJlYSAqIGxpdGhvbG9naWNhbExheWVyLmRlcHRoKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHF1YW50aXRpZXM7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgUG9scGxvdFJlbmRlcmVyIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9wb2xwbG90LXJlbmRlcmVyXCI7XHJcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9saW5lXCI7XHJcbmltcG9ydCB7IExpdGhvbG9naWNhbExheWVyIH0gZnJvbSBcIi4vbGl0aG9sb2dpY2FsLWxheWVyXCI7XHJcbmltcG9ydCB7IFBvbHlnb24gfSBmcm9tIFwiLi9wb2x5Z29uXCI7XHJcbmltcG9ydCB7IFN1cnZleSB9IGZyb20gXCIuL3N1cnZleVwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4vdmVjdG9yMlwiO1xyXG5cclxuY29uc3QgQ0xJQ0tfVEhSRVNIT0xEID0gMjA7XHJcblxyXG5jb25zdCBlbnVtIE1vZGVzIHtcclxuICBDb250b3VyLFxyXG4gIEt1dGNoLFxyXG4gIEF4ZXMsXHJcbiAgU3VydmV5c1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUG9scGxvdCB7XHJcbiAgYXhlczogTGluZVtdID0gW107XHJcbiAga3V0Y2g6IExpbmUgPSBuZXcgTGluZSg1MCwgMjAwLCAxNTAsIDIwMCk7XHJcbiAgY29udG91ciA9IG5ldyBQb2x5Z29uKCk7XHJcbiAgaW50ZXJzZWN0aW9uVGltZXM6IG51bWJlcltdW10gPSBbXTtcclxuICBpbnRlcnNlY3Rpb25zOiBWZWN0b3IyW10gPSBbXTtcclxuICBpbnRlcnNlY3Rpb25JbmRleDogbnVtYmVyW11bXSA9IFtdO1xyXG4gIHBvbHlnb25zOiBQb2x5Z29uW10gPSBbXTtcclxuICBzdXJ2ZXlzOiBTdXJ2ZXlbXSA9IFtdO1xyXG4gIHF1YW50aXRpZXMgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xyXG4gIG1vZGUgPSBNb2Rlcy5Db250b3VyO1xyXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHJlbmRlcmVyOiBQb2xwbG90UmVuZGVyZXIpIHtcclxuICAgIC8vIHJlbW92ZSBuZXh0IGhhY2t5IGV2ZW50TGlzdGVuZXJcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZXZlbnQgPT4ge1xyXG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAncycpIHtcclxuICAgICAgICB0aGlzLm1vZGUgPSBNb2Rlcy5TdXJ2ZXlzO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idXR0b24nKS5mb3JFYWNoKChkaXY6IEhUTUxEaXZFbGVtZW50KSA9PiBkaXYuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKSk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VkaXQtc3VydmV5cycpLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSAnYycpIHtcclxuICAgICAgICB0aGlzLm1vZGUgPSBNb2Rlcy5Db250b3VyO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuY2xlYXJTdXJ2ZXkoKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnV0dG9uJykuZm9yRWFjaCgoZGl2OiBIVE1MRGl2RWxlbWVudCkgPT4gZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJykpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlZGl0LWNvbnRvdXInKS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xyXG4gICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gJ2snKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlID0gTW9kZXMuS3V0Y2g7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5jbGVhclN1cnZleSgpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idXR0b24nKS5mb3JFYWNoKChkaXY6IEhUTUxEaXZFbGVtZW50KSA9PiBkaXYuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKSk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VkaXQta3V0Y2gnKS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xyXG4gICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gJ2EnKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlID0gTW9kZXMuQXhlcztcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLmNsZWFyU3VydmV5KCk7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ1dHRvbicpLmZvckVhY2goKGRpdjogSFRNTERpdkVsZW1lbnQpID0+IGRpdi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZWRpdC1heGVzJykuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgICAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5jbGVhclN1cnZleSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZWRpdC1jb250b3VyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idXR0b24nKS5mb3JFYWNoKChkaXY6IEhUTUxEaXZFbGVtZW50KSA9PiBkaXYuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKSk7XHJcbiAgICAgIChldmVudC50YXJnZXQgYXMgSFRNTERpdkVsZW1lbnQpLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XHJcbiAgICAgIHRoaXMubW9kZSA9IE1vZGVzLkNvbnRvdXI7XHJcbiAgICAgIHRoaXMucmVuZGVyZXIuY2xlYXJTdXJ2ZXkoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlZGl0LWF4ZXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ1dHRvbicpLmZvckVhY2goKGRpdjogSFRNTERpdkVsZW1lbnQpID0+IGRpdi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpKTtcclxuICAgICAgKGV2ZW50LnRhcmdldCBhcyBIVE1MRGl2RWxlbWVudCkuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgICAgdGhpcy5tb2RlID0gTW9kZXMuQXhlcztcclxuICAgICAgdGhpcy5yZW5kZXJlci5jbGVhclN1cnZleSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VkaXQtc3VydmV5cycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQgPT4ge1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnV0dG9uJykuZm9yRWFjaCgoZGl2OiBIVE1MRGl2RWxlbWVudCkgPT4gZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJykpO1xyXG4gICAgICAoZXZlbnQudGFyZ2V0IGFzIEhUTUxEaXZFbGVtZW50KS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xyXG4gICAgICB0aGlzLm1vZGUgPSBNb2Rlcy5TdXJ2ZXlzO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VkaXQta3V0Y2gnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ1dHRvbicpLmZvckVhY2goKGRpdjogSFRNTERpdkVsZW1lbnQpID0+IGRpdi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpKTtcclxuICAgICAgKGV2ZW50LnRhcmdldCBhcyBIVE1MRGl2RWxlbWVudCkuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgICAgdGhpcy5tb2RlID0gTW9kZXMuS3V0Y2g7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnVwZGF0ZVF1YW50aXRpZXMoKTtcclxuICAgIHRoaXMucmVuZGVyZXIuZHJhd0t1dGNoKHRoaXMua3V0Y2gpO1xyXG5cclxuICAgIGxldCBkcmFnZ2VkTGluZUluZGV4ID0gLTE7XHJcbiAgICBsZXQgZHJhZ2dlZFZlY3RvcjI6IFZlY3RvcjI7XHJcbiAgICBsZXQgZHJhZ2dlZFN1cnZleUluZGV4ID0gLTE7XHJcbiAgICB0aGlzLnJlbmRlcmVyLnNldE1vdXNlRG93bkhhbmRsZXIoZXZlbnQgPT4ge1xyXG4gICAgICAvLyByZXR1cm4gaWYgY2xpY2sgaXMgbm90IGZyb20gbW91c2UgbGVmdCBidXR0b25cclxuICAgICAgaWYgKGV2ZW50LmJ1dHRvbikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBtb3VzZSA9IG5ldyBWZWN0b3IyKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xyXG4gICAgICBpZiAodGhpcy5tb2RlID09PSBNb2Rlcy5BeGVzIHx8IHRoaXMubW9kZSA9PT0gTW9kZXMuQ29udG91cikge1xyXG4gICAgICAgIGRyYWdnZWRMaW5lSW5kZXggPSB0aGlzLm5lYXJlc3RMaW5lSW5kZXhGcm9tKFxyXG4gICAgICAgICAgbW91c2UsXHJcbiAgICAgICAgICBDTElDS19USFJFU0hPTEQsXHJcbiAgICAgICAgICB0aGlzLm1vZGUgPT09IE1vZGVzLkF4ZXNcclxuICAgICAgICAgICAgPyB0aGlzLmF4ZXNcclxuICAgICAgICAgICAgOiB0aGlzLmNvbnRvdXIuZWRnZXMoKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKGRyYWdnZWRMaW5lSW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICBpZiAodGhpcy5tb2RlID09PSBNb2Rlcy5BeGVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTGluZShuZXcgTGluZShtb3VzZS54LCBtb3VzZS55LCBtb3VzZS54LCBtb3VzZS55KSk7XHJcbiAgICAgICAgICAgIGRyYWdnZWRMaW5lSW5kZXggPSB0aGlzLmxpbmVzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgIGRyYWdnZWRWZWN0b3IyID0gdGhpcy5saW5lc1tkcmFnZ2VkTGluZUluZGV4XS52MjtcclxuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5tb2RlID09PSBNb2Rlcy5Db250b3VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQ29udG91cihuZXcgTGluZShtb3VzZS54LCBtb3VzZS55LCBtb3VzZS54LCBtb3VzZS55KSk7XHJcbiAgICAgICAgICAgIGRyYWdnZWRMaW5lSW5kZXggPSAwO1xyXG4gICAgICAgICAgICBkcmFnZ2VkVmVjdG9yMiA9IHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0udjE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmICh0aGlzLm1vZGUgPT09IE1vZGVzLkF4ZXMpIHtcclxuICAgICAgICAgICAgZHJhZ2dlZExpbmVJbmRleCArPSB0aGlzLmNvbnRvdXIuZWRnZUNvdW50KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAobW91c2Uuc3ViKHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0udjEpLmxlbigpIDwgQ0xJQ0tfVEhSRVNIT0xEKSB7XHJcbiAgICAgICAgICAgIGRyYWdnZWRWZWN0b3IyID0gdGhpcy5saW5lc1tkcmFnZ2VkTGluZUluZGV4XS52MTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAobW91c2Uuc3ViKHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0udjIpLmxlbigpIDwgQ0xJQ0tfVEhSRVNIT0xEKSB7XHJcbiAgICAgICAgICAgIGRyYWdnZWRWZWN0b3IyID0gdGhpcy5saW5lc1tkcmFnZ2VkTGluZUluZGV4XS52MjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5tb2RlID09PSBNb2Rlcy5LdXRjaCkge1xyXG4gICAgICAgIGlmIChtb3VzZS5zdWIodGhpcy5rdXRjaC52MSkubGVuKCkgPCBDTElDS19USFJFU0hPTEQpIHtcclxuICAgICAgICAgIGRyYWdnZWRWZWN0b3IyID0gdGhpcy5rdXRjaC52MTtcclxuICAgICAgICB9IGVsc2UgaWYgKG1vdXNlLnN1Yih0aGlzLmt1dGNoLnYyKS5sZW4oKSA8IENMSUNLX1RIUkVTSE9MRCkge1xyXG4gICAgICAgICAgZHJhZ2dlZFZlY3RvcjIgPSB0aGlzLmt1dGNoLnYyO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh0aGlzLm1vZGUgPT09IE1vZGVzLlN1cnZleXMpIHtcclxuICAgICAgICBkcmFnZ2VkU3VydmV5SW5kZXggPSB0aGlzLm5lYXJlc3RTdXJ2ZXlJbmRleEZyb20obW91c2UsIENMSUNLX1RIUkVTSE9MRCk7XHJcbiAgICAgICAgaWYgKGRyYWdnZWRTdXJ2ZXlJbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgIHRoaXMuYWRkU3VydmV5KG1vdXNlKTtcclxuICAgICAgICAgIGRyYWdnZWRTdXJ2ZXlJbmRleCA9IHRoaXMuc3VydmV5cy5sZW5ndGggLSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IGFjdGl2ZVN1cnZleTogU3VydmV5O1xyXG4gICAgdGhpcy5yZW5kZXJlci5zZXRNb3VzZVVwSGFuZGxlcihldmVudCA9PiB7XHJcbiAgICAgIC8vIHJldHVybiBpZiBjbGljayBpcyBub3QgZnJvbSBtb3VzZSBsZWZ0IGJ1dHRvblxyXG4gICAgICBpZiAoZXZlbnQuYnV0dG9uKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLm1vZGUgPT09IE1vZGVzLkF4ZXMgfHwgdGhpcy5tb2RlID09PSBNb2Rlcy5Db250b3VyIHx8IHRoaXMubW9kZSA9PT0gTW9kZXMuS3V0Y2gpIHtcclxuICAgICAgICBkcmFnZ2VkTGluZUluZGV4ID0gLTE7XHJcbiAgICAgICAgZHJhZ2dlZFZlY3RvcjIgPSBudWxsO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMubW9kZSA9PT0gTW9kZXMuU3VydmV5cykge1xyXG4gICAgICAgIGlmIChkcmFnZ2VkU3VydmV5SW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICBhY3RpdmVTdXJ2ZXkgPSB0aGlzLnN1cnZleXNbZHJhZ2dlZFN1cnZleUluZGV4XTtcclxuICAgICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd1N1cnZleShhY3RpdmVTdXJ2ZXkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhY3RpdmVTdXJ2ZXkgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkcmFnZ2VkU3VydmV5SW5kZXggPSAtMTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IHBvbHlnb25Db250YWluZXI6IFBvbHlnb247XHJcbiAgICB0aGlzLnJlbmRlcmVyLnNldE1vdXNlTW92ZUhhbmRsZXIoZXZlbnQgPT4ge1xyXG4gICAgICAvLyByZXR1cm4gaWYgY2xpY2sgaXMgbm90IGZyb20gbW91c2UgbGVmdCBidXR0b25cclxuICAgICAgaWYgKGV2ZW50LmJ1dHRvbikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5tb2RlID09PSBNb2Rlcy5BeGVzIHx8IHRoaXMubW9kZSA9PT0gTW9kZXMuQ29udG91cikge1xyXG4gICAgICAgIGlmIChkcmFnZ2VkVmVjdG9yMiB8fCBkcmFnZ2VkTGluZUluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgICAgaWYgKGRyYWdnZWRWZWN0b3IyKSB7XHJcbiAgICAgICAgICAgIGRyYWdnZWRWZWN0b3IyLnggKz0gZXZlbnQubW92ZW1lbnRYO1xyXG4gICAgICAgICAgICBkcmFnZ2VkVmVjdG9yMi55ICs9IGV2ZW50Lm1vdmVtZW50WTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0udXBkYXRlKGV2ZW50Lm1vdmVtZW50WCwgZXZlbnQubW92ZW1lbnRZLCBldmVudC5tb3ZlbWVudFgsIGV2ZW50Lm1vdmVtZW50WSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLnVwZGF0ZUludGVyc2VjdGlvblRpbWVzKGRyYWdnZWRMaW5lSW5kZXgpO1xyXG4gICAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gTW9kZXMuQXhlcykge1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmRyYXdMaW5lKFxyXG4gICAgICAgICAgICAgIHRoaXMuYXhlc1tkcmFnZ2VkTGluZUluZGV4IC0gdGhpcy5jb250b3VyLmVkZ2VDb3VudCgpXSxcclxuICAgICAgICAgICAgICAoZHJhZ2dlZExpbmVJbmRleCAtIHRoaXMuY29udG91ci5lZGdlQ291bnQoKSkudG9TdHJpbmcoKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGRyYWdnZWRMaW5lSW5kZXggPT09IHRoaXMuY29udG91ci5lZGdlQ291bnQoKSAtIDEpIHtcclxuICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUludGVyc2VjdGlvblRpbWVzKGRyYWdnZWRMaW5lSW5kZXggLSAxKTtcclxuICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUludGVyc2VjdGlvblRpbWVzKDApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRyYWdnZWRMaW5lSW5kZXggPT09IDApIHtcclxuICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUludGVyc2VjdGlvblRpbWVzKHRoaXMuY29udG91ci5lZGdlQ291bnQoKSAtIDEpO1xyXG4gICAgICAgICAgICAgIHRoaXMudXBkYXRlSW50ZXJzZWN0aW9uVGltZXMoMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnRlcnNlY3Rpb25UaW1lcyhkcmFnZ2VkTGluZUluZGV4IC0gMSk7XHJcbiAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnRlcnNlY3Rpb25UaW1lcyhkcmFnZ2VkTGluZUluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5kcmF3Q29udG91cih0aGlzLmNvbnRvdXIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh0aGlzLm1vZGUgPT09IE1vZGVzLkt1dGNoKSB7XHJcbiAgICAgICAgaWYgKGRyYWdnZWRWZWN0b3IyKSB7XHJcbiAgICAgICAgICBkcmFnZ2VkVmVjdG9yMi54ICs9IGV2ZW50Lm1vdmVtZW50WDtcclxuICAgICAgICAgIGRyYWdnZWRWZWN0b3IyLnkgKz0gZXZlbnQubW92ZW1lbnRZO1xyXG4gICAgICAgICAgdGhpcy5yZW5kZXJlci5kcmF3S3V0Y2godGhpcy5rdXRjaCk7XHJcbiAgICAgICAgICB0aGlzLnVwZGF0ZVF1YW50aXRpZXMoKTtcclxuICAgICAgICAgIHRoaXMuc3VydmV5cy5mb3JFYWNoKHN1cnZleSA9PiB0aGlzLnVwZGF0ZVN1cnZleShzdXJ2ZXkpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5tb2RlID09PSBNb2Rlcy5TdXJ2ZXlzKSB7XHJcbiAgICAgICAgaWYgKGRyYWdnZWRTdXJ2ZXlJbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgIHRoaXMuc3VydmV5c1tkcmFnZ2VkU3VydmV5SW5kZXhdLmNvb3JkaW5hdGVzLnggKz0gZXZlbnQubW92ZW1lbnRYO1xyXG4gICAgICAgICAgdGhpcy5zdXJ2ZXlzW2RyYWdnZWRTdXJ2ZXlJbmRleF0uY29vcmRpbmF0ZXMueSArPSBldmVudC5tb3ZlbWVudFk7XHJcbiAgICAgICAgICB0aGlzLnVwZGF0ZVN1cnZleSh0aGlzLnN1cnZleXNbZHJhZ2dlZFN1cnZleUluZGV4XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRPRE86IHNob3VsZCBiZSBpbiBhIGZ1bmN0aW9uXHJcbiAgICAgICAgY29uc3QgbW91c2UgPSBuZXcgVmVjdG9yMihldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcclxuICAgICAgICBsZXQgaXNJbnNpZGUgPSBmYWxzZTtcclxuICAgICAgICBsZXQgb2xkUG9seWdvbkNvbnRhaW5lciA9IHBvbHlnb25Db250YWluZXI7XHJcbiAgICAgICAgZm9yIChjb25zdCBwb2x5Z29uIG9mIHRoaXMucG9seWdvbnMpIHtcclxuICAgICAgICAgIGlmIChwb2x5Z29uLmNvbnRhaW5zKG1vdXNlKSkge1xyXG4gICAgICAgICAgICBpZiAocG9seWdvbiAhPT0gcG9seWdvbkNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd1BvbHlnb24ocG9seWdvbiwgJ3JlZCcpO1xyXG4gICAgICAgICAgICAgIHBvbHlnb25Db250YWluZXIgPSBwb2x5Z29uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlzSW5zaWRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaXNJbnNpZGUpIHtcclxuICAgICAgICAgIHBvbHlnb25Db250YWluZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2xkUG9seWdvbkNvbnRhaW5lciAmJiBvbGRQb2x5Z29uQ29udGFpbmVyICE9PSBwb2x5Z29uQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLmRyYXdQb2x5Z29uKG9sZFBvbHlnb25Db250YWluZXIsICd3aGl0ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIGxldCBkcmFnZ2VkTGl0aG9sb2d5TGF5ZXI6IExpdGhvbG9naWNhbExheWVyO1xyXG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaWRlYmFyTW91c2VEb3duSGFuZGxlcihldmVudCA9PiB7XHJcbiAgICAgIGlmIChldmVudC5idXR0b24pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGFjdGl2ZVN1cnZleSkge1xyXG4gICAgICAgIGNvbnN0IG1vdXNlID0gbmV3IFZlY3RvcjIoZXZlbnQub2Zmc2V0WCwgZXZlbnQub2Zmc2V0WSk7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gbmV3IFZlY3RvcjIoMzAwLCAxMDApO1xyXG4gICAgICAgIGZvciAoY29uc3QgbGl0aG9sb2dpY2FsTGF5ZXIgb2YgYWN0aXZlU3VydmV5LmxpdGhvbG9neSkge1xyXG4gICAgICAgICAgY29uc3QgcG9seWdvbiA9IG5ldyBQb2x5Z29uKFtcclxuICAgICAgICAgICAgb2Zmc2V0LmFkZChuZXcgVmVjdG9yMigtMjUsIDApKSxcclxuICAgICAgICAgICAgb2Zmc2V0LmFkZChuZXcgVmVjdG9yMigyNSwgMCkpLFxyXG4gICAgICAgICAgICBvZmZzZXQuYWRkKG5ldyBWZWN0b3IyKDI1LCBsaXRob2xvZ2ljYWxMYXllci5kZXB0aCkpLFxyXG4gICAgICAgICAgICBvZmZzZXQuYWRkKG5ldyBWZWN0b3IyKC0yNSwgbGl0aG9sb2dpY2FsTGF5ZXIuZGVwdGgpKSxcclxuICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgb2Zmc2V0LnkgKz0gbGl0aG9sb2dpY2FsTGF5ZXIuZGVwdGg7XHJcbiAgICAgICAgICBpZiAocG9seWdvbi5jb250YWlucyhtb3VzZSkpIHtcclxuICAgICAgICAgICAgZHJhZ2dlZExpdGhvbG9neUxheWVyID0gbGl0aG9sb2dpY2FsTGF5ZXI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaWRlYmFyTW91c2VVcEhhbmRsZXIoZXZlbnQgPT4ge1xyXG4gICAgICBpZiAoZXZlbnQuYnV0dG9uKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGRyYWdnZWRMaXRob2xvZ3lMYXllciA9IG51bGw7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpZGViYXJNb3VzZU1vdmVIYW5kbGVyKGV2ZW50ID0+IHtcclxuICAgICAgaWYgKGV2ZW50LmJ1dHRvbikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZHJhZ2dlZExpdGhvbG9neUxheWVyKSB7XHJcbiAgICAgICAgZHJhZ2dlZExpdGhvbG9neUxheWVyLmRlcHRoICs9IGV2ZW50Lm1vdmVtZW50WTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLmRyYXdTdXJ2ZXkoYWN0aXZlU3VydmV5KTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVF1YW50aXRpZXMoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5yZW5kZXJlci5saXRob0NoYW5nZUhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAgIHRoaXMudXBkYXRlUXVhbnRpdGllcygpO1xyXG4gICAgfTtcclxuICB9XHJcbiAgZ2V0IGxpbmVzKCk6IExpbmVbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb250b3VyLmVkZ2VzKCkuY29uY2F0KHRoaXMuYXhlcyk7XHJcbiAgfVxyXG4gIGdldCBzY2FsZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMua3V0Y2gubGVuKCkgLyAxMDtcclxuICB9XHJcbiAgbmVhcmVzdExpbmVJbmRleEZyb20odjogVmVjdG9yMiwgdGhyZXNob2xkID0gK0luZmluaXR5LCBsaW5lcyA9IHRoaXMubGluZXMpOiBudW1iZXIge1xyXG4gICAgbGV0IG5lYXJlc3RMaW5lSW5kZXggPSAtMTtcclxuICAgIGxldCBuZWFyZXN0RGlzdCA9ICtJbmZpbml0eTtcclxuICAgIGxldCBkaXN0OiBudW1iZXI7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGRpc3QgPSBsaW5lc1tpXS5uZWFyZXN0VG8odikuc3ViKHYpLmxlbigpO1xyXG4gICAgICBpZiAoZGlzdCA8IHRocmVzaG9sZCAmJiBkaXN0IDwgbmVhcmVzdERpc3QpIHtcclxuICAgICAgICBuZWFyZXN0RGlzdCA9IGRpc3Q7XHJcbiAgICAgICAgbmVhcmVzdExpbmVJbmRleCA9IGk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZWFyZXN0TGluZUluZGV4O1xyXG4gIH1cclxuICBuZWFyZXN0U3VydmV5SW5kZXhGcm9tKHY6IFZlY3RvcjIsIHRocmVzaG9sZCA9ICtJbmZpbml0eSk6IG51bWJlciB7XHJcbiAgICBsZXQgbmVhcmVzdFN1cnZleUluZGV4ID0gLTE7XHJcbiAgICBsZXQgbmVhcmVzdERpc3QgPSArSW5maW5pdHk7XHJcbiAgICBsZXQgZGlzdDogbnVtYmVyO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN1cnZleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgZGlzdCA9IHRoaXMuc3VydmV5c1tpXS5jb29yZGluYXRlcy5zdWIodikubGVuKCk7XHJcbiAgICAgIGlmIChkaXN0IDwgdGhyZXNob2xkICYmIGRpc3QgPCBuZWFyZXN0RGlzdCkge1xyXG4gICAgICAgIG5lYXJlc3REaXN0ID0gZGlzdDtcclxuICAgICAgICBuZWFyZXN0U3VydmV5SW5kZXggPSBpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmVhcmVzdFN1cnZleUluZGV4O1xyXG4gIH1cclxuICBhZGRTdXJ2ZXkoY29vcmRpbmF0ZXM6IFZlY3RvcjIpOiB2b2lkIHtcclxuICAgIGxldCBjb250YWluZXI6IFBvbHlnb247XHJcbiAgICBmb3IgKGNvbnN0IHBvbHlnb24gb2YgdGhpcy5wb2x5Z29ucykge1xyXG4gICAgICBpZiAocG9seWdvbi5jb250YWlucyhjb29yZGluYXRlcykpIHtcclxuICAgICAgICBjb250YWluZXIgPSBwb2x5Z29uO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBzdXJ2ZXkgPSBuZXcgU3VydmV5KGNvb3JkaW5hdGVzLCBbXHJcbiAgICAgIG5ldyBMaXRob2xvZ2ljYWxMYXllcignbm9uIGlkZW50aWZpw6knLCA1MCksXHJcbiAgICAgIG5ldyBMaXRob2xvZ2ljYWxMYXllcignbm9uIGlkZW50aWZpw6knLCA1MCksXHJcbiAgICAgIG5ldyBMaXRob2xvZ2ljYWxMYXllcignbm9uIGlkZW50aWZpw6knLCA1MCksXHJcbiAgICBdLCBjb250YWluZXIpO1xyXG4gICAgdGhpcy5zdXJ2ZXlzLnB1c2goc3VydmV5KTtcclxuICAgIHRoaXMucmVuZGVyZXIuZHJhd1BvaW50KGNvb3JkaW5hdGVzLCBjb250YWluZXIgPyAoY29udGFpbmVyLmFyZWEoKSAvIE1hdGgucG93KHRoaXMuc2NhbGUsIDIpKS50b0ZpeGVkKDIpICsgJyBtMicgOiAnJyk7XHJcbiAgICB0aGlzLnVwZGF0ZVF1YW50aXRpZXMoKTtcclxuICB9XHJcbiAgLy8gVE9ETzogY2xlYW51cCBhZGQgdXBkYXRlIHJlbmRlciBhbmQgb3RoZXIgd2VpcmQgZnVuY3Rpb25zXHJcbiAgdXBkYXRlU3VydmV5KHN1cnZleTogU3VydmV5KTogdm9pZCB7XHJcbiAgICBzdXJ2ZXkucG9seWdvbiA9IG51bGw7XHJcbiAgICBmb3IgKGNvbnN0IHBvbHlnb24gb2YgdGhpcy5wb2x5Z29ucykge1xyXG4gICAgICBpZiAocG9seWdvbi5jb250YWlucyhzdXJ2ZXkuY29vcmRpbmF0ZXMpKSB7XHJcbiAgICAgICAgc3VydmV5LnBvbHlnb24gPSBwb2x5Z29uO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLnJlbmRlcmVyLmRyYXdQb2ludChzdXJ2ZXkuY29vcmRpbmF0ZXMsIHN1cnZleS5wb2x5Z29uID8gKHN1cnZleS5wb2x5Z29uLmFyZWEoKSAvIE1hdGgucG93KHRoaXMuc2NhbGUsIDIpKS50b0ZpeGVkKDIpICsgJyBtMicgOiAnJyk7XHJcbiAgICB0aGlzLnVwZGF0ZVF1YW50aXRpZXMoKTtcclxuICB9XHJcbiAgdXBkYXRlUXVhbnRpdGllcygpOiB2b2lkIHtcclxuICAgIHRoaXMucXVhbnRpdGllcy5jbGVhcigpO1xyXG4gICAgdGhpcy5zdXJ2ZXlzLmZvckVhY2goc3VydmV5ID0+IHtcclxuICAgICAgc3VydmV5LnF1YW50aXRpZXMoKS5mb3JFYWNoKChxdWFudGl0eSwgdHlwZSkgPT4ge1xyXG4gICAgICAgIHRoaXMucXVhbnRpdGllcy5zZXQodHlwZSwgKHRoaXMucXVhbnRpdGllcy5nZXQodHlwZSkgfHwgMCkgKyBxdWFudGl0eSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLnJlbmRlcmVyLmRyYXdRdWFudGl0aWVzKHRoaXMucXVhbnRpdGllcywgdGhpcy5zY2FsZSk7XHJcbiAgfVxyXG4gIGluaXRJbnRlcnNlY3Rpb25EYXRhKFxyXG4gICAgYXQgPSB0aGlzLmxpbmVzLmxlbmd0aCxcclxuICAgIGxpbmVDb3VudCA9IHRoaXMubGluZXMubGVuZ3RoLFxyXG4gICAgaW50ZXJzZWN0aW9uVGltZXMgPSB0aGlzLmludGVyc2VjdGlvblRpbWVzLFxyXG4gICAgaW50ZXJzZWN0aW9ucyA9IHRoaXMuaW50ZXJzZWN0aW9ucyxcclxuICAgIGludGVyc2VjdGlvbkluZGV4ID0gdGhpcy5pbnRlcnNlY3Rpb25JbmRleCxcclxuICApOiB2b2lkIHtcclxuICAgIGNvbnN0IG5ld0ludGVyc2VjdGlvblRpbWVzOiBudW1iZXJbXSA9IFtdO1xyXG4gICAgY29uc3QgbmV3SW50ZXJzZWN0aW9uSW5kZXg6IG51bWJlcltdID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVDb3VudDsgaSsrKSB7XHJcbiAgICAgIGludGVyc2VjdGlvblRpbWVzW2ldLnNwbGljZShhdCwgMCwgTmFOKTtcclxuICAgICAgaW50ZXJzZWN0aW9ucy5wdXNoKG5ldyBWZWN0b3IyKCkpO1xyXG4gICAgICBpbnRlcnNlY3Rpb25JbmRleFtpXS5zcGxpY2UoYXQsIDAsIGludGVyc2VjdGlvbnMubGVuZ3RoIC0gMSk7XHJcbiAgICAgIG5ld0ludGVyc2VjdGlvblRpbWVzLnB1c2goTmFOKTtcclxuICAgICAgbmV3SW50ZXJzZWN0aW9uSW5kZXgucHVzaChpbnRlcnNlY3Rpb25zLmxlbmd0aCAtIDEpO1xyXG4gICAgfVxyXG4gICAgbmV3SW50ZXJzZWN0aW9uVGltZXMuc3BsaWNlKGF0LCAwLCBOYU4pO1xyXG4gICAgbmV3SW50ZXJzZWN0aW9uSW5kZXguc3BsaWNlKGF0LCAwLCAtMSk7XHJcbiAgICBpbnRlcnNlY3Rpb25UaW1lcy5zcGxpY2UoYXQsIDAsIG5ld0ludGVyc2VjdGlvblRpbWVzKTtcclxuICAgIGludGVyc2VjdGlvbkluZGV4LnNwbGljZShhdCwgMCwgbmV3SW50ZXJzZWN0aW9uSW5kZXgpO1xyXG4gIH1cclxuICBhZGRMaW5lKGxpbmU6IExpbmUpOiB2b2lkIHtcclxuICAgIC8vIGFwcGVuZCBuZXcgY29udG91ciBhdCB0aGUgZW5kIG9mIGxpbmVzXHJcbiAgICBjb25zdCBsaW5lcyA9IHRoaXMubGluZXM7XHJcbiAgICBjb25zdCBhdCA9IGxpbmVzLmxlbmd0aDtcclxuICAgIHRoaXMuaW5pdEludGVyc2VjdGlvbkRhdGEoYXQsIGF0KTtcclxuICAgIHRoaXMuYXhlcy5wdXNoKGxpbmUpO1xyXG4gICAgdGhpcy5yZW5kZXJlci5kcmF3TGluZShsaW5lLCBhdC50b1N0cmluZygpKTtcclxuICAgIHRoaXMudXBkYXRlSW50ZXJzZWN0aW9uVGltZXMoYXQpO1xyXG4gIH1cclxuICBhZGRDb250b3VyKGxpbmU6IExpbmUpOiB2b2lkIHtcclxuICAgIC8vIFRPRE8gb3B0aW1pemF0aW9uXHJcbiAgICAvLyBhcHBlbmQgbmV3IGNvbnRvdXIgYXQgdGhlIGJlZ2luIG9mIGxpbmVzXHJcbiAgICBjb25zdCBlZGdlQ291bnQgPSB0aGlzLmNvbnRvdXIuZWRnZUNvdW50KCk7XHJcbiAgICBsZXQgbGluZUNvdW50ID0gZWRnZUNvdW50ICsgdGhpcy5heGVzLmxlbmd0aDtcclxuICAgIHRoaXMuaW5pdEludGVyc2VjdGlvbkRhdGEoMCwgbGluZUNvdW50KyspO1xyXG4gICAgdGhpcy5pbml0SW50ZXJzZWN0aW9uRGF0YSgwLCBsaW5lQ291bnQrKyk7XHJcbiAgICB0aGlzLmNvbnRvdXIudmVydGljZXMuc3BsaWNlKDAsIDAsIGxpbmUudjEsIGxpbmUudjIpO1xyXG4gICAgdGhpcy5yZW5kZXJlci5kcmF3Q29udG91cih0aGlzLmNvbnRvdXIpO1xyXG4gICAgY29uc3QgbGluZXMgPSB0aGlzLmxpbmVzO1xyXG4gICAgaWYgKGVkZ2VDb3VudCA9PT0gMCkge1xyXG4gICAgICB0aGlzLnVwZGF0ZUludGVyc2VjdGlvblRpbWVzKDAsIGxpbmVzLCB0cnVlKTtcclxuICAgICAgdGhpcy51cGRhdGVJbnRlcnNlY3Rpb25UaW1lcygxLCBsaW5lcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnVwZGF0ZUludGVyc2VjdGlvblRpbWVzKDAsIGxpbmVzLCB0cnVlKTtcclxuICAgICAgdGhpcy51cGRhdGVJbnRlcnNlY3Rpb25UaW1lcygxLCBsaW5lcywgdHJ1ZSk7XHJcbiAgICAgIHRoaXMudXBkYXRlSW50ZXJzZWN0aW9uVGltZXMobGluZUNvdW50IC0gMSwgbGluZXMpO1xyXG4gICAgfVxyXG4gIH1cclxuICB1cGRhdGVJbnRlcnNlY3Rpb25UaW1lcyhcclxuICAgIGF0OiBudW1iZXIsXHJcbiAgICBsaW5lcyA9IHRoaXMubGluZXMsXHJcbiAgICBza2lwUmVuZGVyID0gZmFsc2UsXHJcbiAgICBpbnRlcnNlY3Rpb25UaW1lcyA9IHRoaXMuaW50ZXJzZWN0aW9uVGltZXMsXHJcbiAgICBpbnRlcnNlY3Rpb25zID0gdGhpcy5pbnRlcnNlY3Rpb25zLFxyXG4gICAgaW50ZXJzZWN0aW9uSW5kZXggPSB0aGlzLmludGVyc2VjdGlvbkluZGV4LFxyXG4gICk6IHZvaWQge1xyXG4gICAgY29uc3QgbGluZSA9IGxpbmVzW2F0XTtcclxuICAgIGxldCB0aW1lczogVmVjdG9yMjtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKGkgIT09IGF0KSB7XHJcbiAgICAgICAgdGltZXMgPSBsaW5lc1tpXS5pbnRlcnNlY3Rpb25UaW1lc1dpdGgobGluZSk7XHJcbiAgICAgICAgaW50ZXJzZWN0aW9uVGltZXNbaV1bYXRdID0gdGltZXMueDtcclxuICAgICAgICBpbnRlcnNlY3Rpb25UaW1lc1thdF1baV0gPSB0aW1lcy55O1xyXG4gICAgICAgIGlmIChpIDwgYXQpIHtcclxuICAgICAgICAgIGludGVyc2VjdGlvbnNbaW50ZXJzZWN0aW9uSW5kZXhbaV1bYXRdXSA9IGxpbmVzW2ldLnBvaW50QXQodGltZXMueCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGludGVyc2VjdGlvbnNbaW50ZXJzZWN0aW9uSW5kZXhbYXRdW2ldXSA9IGxpbmVzW2ldLnBvaW50QXQodGltZXMueCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIXNraXBSZW5kZXIpIHtcclxuICAgICAgdGhpcy5yZW5kZXJJbnRlcnNlY3Rpb25zKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJlbmRlckludGVyc2VjdGlvbnMoKTogdm9pZCB7XHJcbiAgICAvLyB0aGlzLnJlbmRlcmVyLmNsZWFySW50ZXJzZWN0aW9ucygpO1xyXG4gICAgLy8gdGhpcy5pbnRlcnNlY3Rpb25zLmZvckVhY2goaW50ZXJzZWN0aW9uID0+IHtcclxuICAgIC8vICAgdGhpcy5yZW5kZXJlci5kcmF3UG9pbnQoaW50ZXJzZWN0aW9uKTtcclxuICAgIC8vIH0pO1xyXG4gICAgdGhpcy5yZW5kZXJlci5jbGVhclBvbHlnb25zKCk7XHJcbiAgICB0aGlzLnBvbHlnb25zID0gW107XHJcbiAgICBjb25zdCBwYXJ0aWFscyA9IHRoaXMuYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25UaW1lcygpO1xyXG4gICAgY29uc3QgcG9seWdvbkluZGV4ZXMgPSB0aGlzLmJ1aWxkUG9seWdvbkluZGV4ZXNGcm9tUGFydGlhbHMocGFydGlhbHMpO1xyXG4gICAgY29uc3QgcG9seWdvbnMgPSBwb2x5Z29uSW5kZXhlcy5tYXAocG9seWdvbkluZGV4ID0+IG5ldyBQb2x5Z29uKHBvbHlnb25JbmRleC5tYXAoaSA9PiB0aGlzLmludGVyc2VjdGlvbnNbaV0pKSk7XHJcbiAgICBwb2x5Z29ucy5mb3JFYWNoKHBvbHlnb24gPT4ge1xyXG4gICAgICBpZiAocG9seWdvbi5hcmVhKCkgPiAwKSB7XHJcbiAgICAgICAgdGhpcy5wb2x5Z29ucy5wdXNoKHBvbHlnb24pO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd1BvbHlnb24ocG9seWdvbiwgJ3doaXRlJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5zdXJ2ZXlzLmZvckVhY2goc3VydmV5ID0+IHRoaXMudXBkYXRlU3VydmV5KHN1cnZleSkpO1xyXG4gIH1cclxuICB0ZXN0U2lkZSh1OiBWZWN0b3IyLCB2OiBWZWN0b3IyLCB3OiBWZWN0b3IyKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdi5zdWIodSkuY3Jvc3Mody5zdWIodSkpID4gMDtcclxuICB9XHJcbiAgcGFydGlhbHNPdmVybGFwcyhwMTogbnVtYmVyW10sIHAyOiBudW1iZXJbXSk6IDIgfCAwIHtcclxuICAgIHJldHVybiBwMVtwMS5sZW5ndGggLSAyXSA9PT0gcDJbMF0gJiYgcDFbcDEubGVuZ3RoIC0gMV0gPT09IHAyWzFdID8gMiA6IDA7XHJcbiAgfVxyXG4gIHBhcnRpYWxzTWVldChwMTogbnVtYmVyW10sIHAyOiBudW1iZXJbXSk6IDEgfCAwIHtcclxuICAgIHJldHVybiBwMVtwMS5sZW5ndGggLSAxXSA9PT0gcDJbMF0gPyAxIDogMDtcclxuICB9XHJcbiAgYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25JbmRleGVzKFxyXG4gICAgY2VudGVyOiBudW1iZXIsXHJcbiAgICBpbmRleGVzOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcclxuICApOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl1bXSB7XHJcbiAgICBjb25zdCBwYXJ0czogW251bWJlciwgbnVtYmVyLCBudW1iZXJdW10gPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXhlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAodHlwZW9mIGluZGV4ZXNbaV0gPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgbGV0IGogPSBpICsgMTtcclxuICAgICAgICBpZiAoaiA9PT0gaW5kZXhlcy5sZW5ndGgpIHtcclxuICAgICAgICAgIGogPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAodHlwZW9mIGluZGV4ZXNbal0gIT09ICdudW1iZXInKcKge1xyXG4gICAgICAgICAgaisrO1xyXG4gICAgICAgICAgaWYgKGogPT09IGluZGV4ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGogPSAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaSAhPT0gaikge1xyXG4gICAgICAgICAgcGFydHMucHVzaChbaW5kZXhlc1tpXSwgY2VudGVyLCBpbmRleGVzW2pdXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGFydHM7XHJcbiAgfVxyXG4gIGJ1aWxkUGFydGlhbHNGcm9tSW50ZXJzZWN0aW9uVGltZXMoXHJcbiAgICBsaW5lcyA9IHRoaXMubGluZXMsXHJcbiAgICBpbnRlcnNlY3Rpb25UaW1lcyA9IHRoaXMuaW50ZXJzZWN0aW9uVGltZXMsXHJcbiAgICBpbnRlcnNlY3Rpb25JbmRleCA9IHRoaXMuaW50ZXJzZWN0aW9uSW5kZXhcclxuICApOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl1bXSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25UaW1lcycpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdsaW5lcy5sZW5ndGggPSAnLCBsaW5lcy5sZW5ndGgpO1xyXG4gICAgY29uc3QgZWRnZUNvdW50ID0gdGhpcy5jb250b3VyLmVkZ2VDb3VudCgpO1xyXG4gICAgY29uc3QgaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5ID0gaW50ZXJzZWN0aW9uVGltZXNcclxuICAgICAgLm1hcCgoaW50ZXJzZWN0aW9uVGltZXNBdEksIGkpID0+IHtcclxuICAgICAgICByZXR1cm4gaW50ZXJzZWN0aW9uVGltZXNBdElcclxuICAgICAgICAgIC5tYXAoKF8sIGopID0+IGopXHJcbiAgICAgICAgICAuZmlsdGVyKGogPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gIWlzTmFOKGludGVyc2VjdGlvblRpbWVzQXRJW2pdKSAmJiAwIDw9IGludGVyc2VjdGlvblRpbWVzQXRJW2pdICYmIGludGVyc2VjdGlvblRpbWVzQXRJW2pdIDw9IDEgJiZcclxuICAgICAgICAgICAgICAhaXNOYU4oaW50ZXJzZWN0aW9uVGltZXNbal1baV0pICYmIDAgPD0gaW50ZXJzZWN0aW9uVGltZXNbal1baV0gJiYgaW50ZXJzZWN0aW9uVGltZXNbal1baV0gPD0gMSAmJlxyXG4gICAgICAgICAgICAgIC8vIG9ubHkgdGFrZXMgaW50ZXJzZWN0aW9uIHdpdGggb3IgaW5zaWRlIGNvbnRvdXIgKFRPRE86IHJlbW92ZSBwb2x5Z29ucyBpcyBjb250b3VyIGNvbmNhdml0aWVzKVxyXG4gICAgICAgICAgICAgIChpIDwgZWRnZUNvdW50IHx8IGogPCBlZGdlQ291bnQgfHwgdGhpcy5jb250b3VyLmNvbnRhaW5zKHRoaXMuaW50ZXJzZWN0aW9uc1tpbnRlcnNlY3Rpb25JbmRleFtpXVtqXV0pKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc29ydCgoaSwgaikgPT4gaW50ZXJzZWN0aW9uVGltZXNBdElbaV0gLSBpbnRlcnNlY3Rpb25UaW1lc0F0SVtqXSk7XHJcbiAgICAgIH0pO1xyXG4gICAgLy8gY29uc29sZS5sb2coaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5KTtcclxuICAgIGNvbnN0IHBhcnRpYWxzOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl1bXSA9IFtdO1xyXG4gICAgZm9yIChsZXQgbG9jYWxJbmRleCA9IDA7IGxvY2FsSW5kZXggPCBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXkubGVuZ3RoOyBsb2NhbEluZGV4KyspIHtcclxuICAgICAgZm9yIChsZXQgbG9jYWxJbnRlckluZGV4ID0gMDsgbG9jYWxJbnRlckluZGV4IDwgaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2xvY2FsSW5kZXhdLmxlbmd0aDsgbG9jYWxJbnRlckluZGV4KyspIHtcclxuICAgICAgICBjb25zdCBmb3JlaWduSW5kZXggPSBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbbG9jYWxJbmRleF1bbG9jYWxJbnRlckluZGV4XTtcclxuICAgICAgICBpZiAobG9jYWxJbmRleCA8IGZvcmVpZ25JbmRleCkge1xyXG4gICAgICAgICAgY29uc3QgaW50ZXIgPSBpbnRlcnNlY3Rpb25JbmRleFtsb2NhbEluZGV4XVtpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbbG9jYWxJbmRleF1bbG9jYWxJbnRlckluZGV4XV07XHJcblxyXG4gICAgICAgICAgY29uc3QgcHJldkxvY2FsSW50ZXJJbmRleCA9IGxvY2FsSW50ZXJJbmRleCAtIDE7XHJcbiAgICAgICAgICBjb25zdCBuZXh0TG9jYWxJbnRlckluZGV4ID0gbG9jYWxJbnRlckluZGV4ICsgMTtcclxuXHJcbiAgICAgICAgICBjb25zdCBmb3JlaWduSW50ZXJJbmRleCA9IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtmb3JlaWduSW5kZXhdLmZpbmRJbmRleChpID0+IGkgPT09IGxvY2FsSW5kZXgpO1xyXG4gICAgICAgICAgY29uc3QgZm9yZWlnbmlzUmlnaHRTaWRlZCA9IHRoaXMudGVzdFNpZGUobGluZXNbbG9jYWxJbmRleF0udjEsIGxpbmVzW2xvY2FsSW5kZXhdLnYyLCBsaW5lc1tmb3JlaWduSW5kZXhdLnYxKTtcclxuICAgICAgICAgIGNvbnN0IHByZXZGb3JlaWduSW50ZXJJbmRleCA9IGZvcmVpZ25pc1JpZ2h0U2lkZWQgPyBmb3JlaWduSW50ZXJJbmRleCAtIDEgOiBmb3JlaWduSW50ZXJJbmRleCArIDE7XHJcbiAgICAgICAgICBjb25zdCBuZXh0Rm9yZWlnbkludGVySW5kZXggPSBmb3JlaWduaXNSaWdodFNpZGVkID8gZm9yZWlnbkludGVySW5kZXggKyAxIDogZm9yZWlnbkludGVySW5kZXggLSAxO1xyXG5cclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBcclxuICAgICAgICAgIC8vICAgbG9jYWxJbmRleDogJHtsb2NhbEluZGV4fVxyXG4gICAgICAgICAgLy8gICBsb2NhbEludGVyc2VjdGlvbnMgJHtpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbbG9jYWxJbmRleF1cclxuICAgICAgICAgIC8vICAgICAubWFwKChfLCBpKSA9PiBpID09PSBsb2NhbEludGVySW5kZXggPyBgWyR7X31dYCA6IF8pXHJcbiAgICAgICAgICAvLyAgICAgLmpvaW4oJywgJyl9XHJcbiAgICAgICAgICAvLyAgIGZvcmVpZ25JbmRleDogJHtmb3JlaWduSW5kZXh9XHJcbiAgICAgICAgICAvLyAgIGZvcmVpZ25JbnRlcnNlY3Rpb25zICR7aW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2ZvcmVpZ25JbmRleF1cclxuICAgICAgICAgIC8vICAgICAubWFwKChfLCBpKSA9PiBpID09PSBmb3JlaWduSW50ZXJJbmRleCA/IGBbJHtffV1gIDogXylcclxuICAgICAgICAgIC8vICAgICAuam9pbignLCAnKX1cclxuICAgICAgICAgIC8vIGApO1xyXG5cclxuICAgICAgICAgIGNvbnN0IHByZXZMb2NhbEludGVyID0gMCA8IGxvY2FsSW50ZXJJbmRleFxyXG4gICAgICAgICAgICA/IGludGVyc2VjdGlvbkluZGV4W2xvY2FsSW5kZXhdW2ludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtsb2NhbEluZGV4XVtwcmV2TG9jYWxJbnRlckluZGV4XV1cclxuICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgICAgY29uc3QgbmV4dExvY2FsSW50ZXIgPSBsb2NhbEludGVySW5kZXggPCBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbbG9jYWxJbmRleF0ubGVuZ3RoIC0gMVxyXG4gICAgICAgICAgICA/IGludGVyc2VjdGlvbkluZGV4W2xvY2FsSW5kZXhdW2ludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtsb2NhbEluZGV4XVtuZXh0TG9jYWxJbnRlckluZGV4XV1cclxuICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgICAgY29uc3QgcHJldkZvcmVpZ25JbnRlciA9IC0xIDwgcHJldkZvcmVpZ25JbnRlckluZGV4ICYmIHByZXZGb3JlaWduSW50ZXJJbmRleCA8IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtmb3JlaWduSW5kZXhdLmxlbmd0aFxyXG4gICAgICAgICAgICA/IGludGVyc2VjdGlvbkluZGV4W2ZvcmVpZ25JbmRleF1baW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2ZvcmVpZ25JbmRleF1bcHJldkZvcmVpZ25JbnRlckluZGV4XV1cclxuICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgICAgY29uc3QgbmV4dEZvcmVpZ25JbnRlciA9IC0xIDwgbmV4dEZvcmVpZ25JbnRlckluZGV4ICYmIG5leHRGb3JlaWduSW50ZXJJbmRleCA8IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtmb3JlaWduSW5kZXhdLmxlbmd0aFxyXG4gICAgICAgICAgICA/IGludGVyc2VjdGlvbkluZGV4W2ZvcmVpZ25JbmRleF1baW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2ZvcmVpZ25JbmRleF1bbmV4dEZvcmVpZ25JbnRlckluZGV4XV1cclxuICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBeXHJcbiAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICAgICAgICAgIC8vICAgICAgICAgICAgICAgIG5leHRGb3JlaWduSW50ZXJcclxuICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gICAgICAgICAgLy8gIC0tLXByZXZMb2NhbEludGVyLS0taW50ZXItLS1uZXh0TG9jYWxJbnRlci0tLT5cclxuICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gICAgICAgICAgLy8gICAgICAgICAgICAgICAgcHJldkZvcmVpZ25JbnRlclxyXG4gICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAgICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMuYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25JbmRleGVzKFxyXG4gICAgICAgICAgICBpbnRlcixcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgIHByZXZMb2NhbEludGVyLFxyXG4gICAgICAgICAgICAgIG5leHRGb3JlaWduSW50ZXIsXHJcbiAgICAgICAgICAgICAgbmV4dExvY2FsSW50ZXIsXHJcbiAgICAgICAgICAgICAgcHJldkZvcmVpZ25JbnRlclxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgcGFydGlhbHMucHVzaCguLi5wYXJ0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBjb25zb2xlLmxvZygncGFydGlhbHMnLCBwYXJ0aWFscyk7XHJcbiAgICByZXR1cm4gcGFydGlhbHM7XHJcbiAgfVxyXG4gIGJ1aWxkUG9seWdvbkluZGV4ZXNGcm9tUGFydGlhbHMocGFydGlhbHM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXVtdKTogbnVtYmVyW11bXSB7XHJcbiAgICBjb25zdCBwb2x5Z29uSW5kZXhlczogbnVtYmVyW11bXSA9IFtdO1xyXG4gICAgbGV0IGkgPSAwO1xyXG4gICAgbGV0IG92ZXJsYXA6IG51bWJlcjtcclxuICAgIHdoaWxlIChpIDwgcGFydGlhbHMubGVuZ3RoKSB7XHJcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGFydGlhbHMubGVuZ3RoOyBqKyspwqB7XHJcbiAgICAgICAgaWYgKGkgIT09IGopIHtcclxuICAgICAgICAgIGlmICh0aGlzLnBhcnRpYWxzT3ZlcmxhcHMocGFydGlhbHNbaV0sIHBhcnRpYWxzW2pdKSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgXHJcbiAgICAgICAgICAgIC8vICAgcGFydGlhbHNbaV06ICR7cGFydGlhbHNbaV0udG9TdHJpbmcoKX0sXHJcbiAgICAgICAgICAgIC8vICAgcGFydGlhbHNbal06ICR7cGFydGlhbHNbal0udG9TdHJpbmcoKX0sXHJcbiAgICAgICAgICAgIC8vIGApO1xyXG4gICAgICAgICAgICBwYXJ0aWFsc1tpXS5zcGxpY2UoLTIsIDIsIC4uLnBhcnRpYWxzW2pdKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYFxyXG4gICAgICAgICAgICAvLyAgIHBhcnRpYWxzW2ldOiAke3BhcnRpYWxzW2ldLnRvU3RyaW5nKCl9IFtORVddLFxyXG4gICAgICAgICAgICAvLyBgKTtcclxuICAgICAgICAgICAgcGFydGlhbHMuc3BsaWNlKGosIDEpO1xyXG4gICAgICAgICAgICBpZiAoaiA8IGkpIHtcclxuICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3ZlcmxhcCA9IHRoaXMucGFydGlhbHNPdmVybGFwcyhwYXJ0aWFsc1tpXSwgcGFydGlhbHNbaV0pIHx8IHRoaXMucGFydGlhbHNNZWV0KHBhcnRpYWxzW2ldLCBwYXJ0aWFsc1tpXSk7XHJcbiAgICAgICAgICAgIGlmIChvdmVybGFwID4gMCkge1xyXG4gICAgICAgICAgICAgIHBhcnRpYWxzW2ldLnNwbGljZSgwLCBvdmVybGFwKTtcclxuICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgXHJcbiAgICAgICAgICAgICAgLy8gICBwYXJ0aWFsc1tpXTogJHtwYXJ0aWFsc1tpXS50b1N0cmluZygpfSBbQ0xPU0VEXSxcclxuICAgICAgICAgICAgICAvLyBgKTtcclxuICAgICAgICAgICAgICBwb2x5Z29uSW5kZXhlcy5wdXNoKHBhcnRpYWxzW2ldKTtcclxuICAgICAgICAgICAgICBwYXJ0aWFscy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaSA9IC0xO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaSsrO1xyXG4gICAgfVxyXG4gICAgLy8gY29uc29sZS5sb2coJ2luY29tcGxldGUgcG9seWdvbnMnKTtcclxuICAgIC8vIHBhcnRpYWxzLm1hcChwID0+IGNvbnNvbGUubG9nKHAudG9TdHJpbmcoKSkpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ3BvbHlnb25zJywgcG9seWdvbnMpO1xyXG4gICAgLy8gcG9seWdvbnMubWFwKHAgPT4gY29uc29sZS5sb2cocC50b1N0cmluZygpKSk7XHJcbiAgICByZXR1cm4gcG9seWdvbkluZGV4ZXM7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgUG9scGxvdFJlbmRlcmVyIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9wb2xwbG90LXJlbmRlcmVyXCI7XHJcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9saW5lXCI7XHJcbmltcG9ydCB7IFBvbHlnb24gfSBmcm9tIFwiLi9wb2x5Z29uXCI7XHJcbmltcG9ydCB7IFN1cnZleSB9IGZyb20gXCIuL3N1cnZleVwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4vdmVjdG9yMlwiO1xyXG5cclxuLy8gbGluZVxyXG5jb25zdCBnVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcclxuZ1RlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2JsYWNrJyk7XHJcbmdUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICcwLjRweCcpO1xyXG5cclxuY29uc3QgbGluZVRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdsaW5lJyk7XHJcbmxpbmVUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAnMTAsIDQsIDEsIDQnKTtcclxuXHJcbmNvbnN0IGFuY2hvclRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XHJcbmFuY2hvclRlbXBsYXRlLnNldEF0dHJpYnV0ZShcclxuICAnZCcsXHJcbiAgJ00gMCwgMCAnICtcclxuICAnQSAxMCwgMTAsIDAsIDAsIDAsIC01LCAtNSAnICtcclxuICAnQSAxMCwgMTAsIDAsIDEsIDEsIDUsIC01ICcgK1xyXG4gICdBIDEwLCAxMCwgMCwgMCwgMCwgMCwgMCdcclxuKTtcclxuYW5jaG9yVGVtcGxhdGUuc2V0QXR0cmlidXRlKCdmaWxsJywgJ3doaXRlJyk7XHJcblxyXG5jb25zdCB0ZXh0VGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3RleHQnKTtcclxudGV4dFRlbXBsYXRlLnNldEF0dHJpYnV0ZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJyk7XHJcbnRleHRUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ2FsaWdubWVudC1iYXNlbGluZScsICdjZW50cmFsJyk7XHJcbnRleHRUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ2ZvbnQtZmFtaWx5JywgJ2NvbnNvbGFzLCBcIkxpYmVyYXRpb24gTW9ub1wiLCBjb3VyaWVyLCBtb25vc3BhY2UnKTtcclxudGV4dFRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnZm9udC13ZWlnaHQnLCAnMTAwJyk7XHJcbnRleHRUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ2ZvbnQtc2l6ZScsICcxNHB4Jyk7XHJcblxyXG5nVGVtcGxhdGUuYXBwZW5kQ2hpbGQobGluZVRlbXBsYXRlKTtcclxuZ1RlbXBsYXRlLmFwcGVuZENoaWxkKGFuY2hvclRlbXBsYXRlKTtcclxuZ1RlbXBsYXRlLmFwcGVuZENoaWxkKGFuY2hvclRlbXBsYXRlLmNsb25lTm9kZSgpKTtcclxuZ1RlbXBsYXRlLmFwcGVuZENoaWxkKHRleHRUZW1wbGF0ZSk7XHJcbmdUZW1wbGF0ZS5hcHBlbmRDaGlsZCh0ZXh0VGVtcGxhdGUuY2xvbmVOb2RlKCkpO1xyXG5cclxuLy8gcG9pbnRcclxuY29uc3QgZ1BvaW50VGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcclxuZ1BvaW50VGVtcGxhdGUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcclxuZ1BvaW50VGVtcGxhdGUuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMC40cHgnKTtcclxuXHJcbmNvbnN0IHBvaW50VGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2NpcmNsZScpO1xyXG5wb2ludFRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdncmVlbicpO1xyXG5wb2ludFRlbXBsYXRlLnNldEF0dHJpYnV0ZSgncicsICczJyk7XHJcblxyXG5jb25zdCB0ZXh0UG9pbnRUZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAndGV4dCcpO1xyXG50ZXh0UG9pbnRUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwgMTApJyk7XHJcbnRleHRQb2ludFRlbXBsYXRlLnNldEF0dHJpYnV0ZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJyk7XHJcbnRleHRQb2ludFRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnYWxpZ25tZW50LWJhc2VsaW5lJywgJ2hhbmdpbmcnKTtcclxudGV4dFBvaW50VGVtcGxhdGUuc2V0QXR0cmlidXRlKCdmb250LWZhbWlseScsICdjb25zb2xhcywgXCJMaWJlcmF0aW9uIE1vbm9cIiwgY291cmllciwgbW9ub3NwYWNlJyk7XHJcbnRleHRQb2ludFRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnZm9udC13ZWlnaHQnLCAnMTAwJyk7XHJcbnRleHRQb2ludFRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnZm9udC1zaXplJywgJzE0cHgnKTtcclxudGV4dFBvaW50VGVtcGxhdGUuc2V0QXR0cmlidXRlKCdmb250LXN0eWxlJywgJ2l0YWxpYycpO1xyXG5cclxuZ1BvaW50VGVtcGxhdGUuYXBwZW5kQ2hpbGQocG9pbnRUZW1wbGF0ZSk7XHJcbmdQb2ludFRlbXBsYXRlLmFwcGVuZENoaWxkKHRleHRQb2ludFRlbXBsYXRlKTtcclxuXHJcbi8vIHBvbHlnb25cclxuY29uc3QgcG9seWdvblRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XHJcbnBvbHlnb25UZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnZ3JlZW4nKTtcclxucG9seWdvblRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnZmlsbC1vcGFjaXR5JywgJzAuNycpO1xyXG5wb2x5Z29uVGVtcGxhdGUuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMC44cHgnKTtcclxucG9seWdvblRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hhcnJheScsICc1LCAyJyk7XHJcbnBvbHlnb25UZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdibGFjaycpO1xyXG5cclxuLy8gc3VydmV5XHJcbmNvbnN0IGdTdXJ2ZXlUZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xyXG5nU3VydmV5VGVtcGxhdGUuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDMwMCwgMTAwKScpO1xyXG5cclxuY29uc3Qgc3VydmV5Qm90dG9tUG9seWdvblRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XHJcbnN1cnZleUJvdHRvbVBvbHlnb25UZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAndXJsKCNlYXJ0aC1oYXRjaCknKTtcclxuc3VydmV5Qm90dG9tUG9seWdvblRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzAnKTtcclxuXHJcbmNvbnN0IHN1cnZleVRvcFBvbHlnb25UZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xyXG5zdXJ2ZXlUb3BQb2x5Z29uVGVtcGxhdGUuc2V0QXR0cmlidXRlKCdmaWxsLW9wYWNpdHknLCAnMCcpO1xyXG5zdXJ2ZXlUb3BQb2x5Z29uVGVtcGxhdGUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcclxuc3VydmV5VG9wUG9seWdvblRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzAuOHB4Jyk7XHJcblxyXG5jb25zdCBzdXJ2ZXlMaXRob2xvZ3lUZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xyXG5cclxuZ1N1cnZleVRlbXBsYXRlLmFwcGVuZENoaWxkKHN1cnZleUxpdGhvbG9neVRlbXBsYXRlKTtcclxuZ1N1cnZleVRlbXBsYXRlLmFwcGVuZENoaWxkKHN1cnZleUJvdHRvbVBvbHlnb25UZW1wbGF0ZSk7XHJcbmdTdXJ2ZXlUZW1wbGF0ZS5hcHBlbmRDaGlsZChzdXJ2ZXlUb3BQb2x5Z29uVGVtcGxhdGUpO1xyXG5cclxuLy8gbGl0aG9sb2dpY2FsTGF5ZXJcclxuY29uc3QgbGl0aG9sb2dpY2FsTGF5ZXJSZWN0VGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3JlY3QnKTtcclxuXHJcbi8vIGVhcnRoSGF0Y2hcclxuY29uc3QgaGF0Y2hQYXR0ZXJuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXR0ZXJuJyk7XHJcbmhhdGNoUGF0dGVybi5pZCA9ICdlYXJ0aC1oYXRjaCc7XHJcbmhhdGNoUGF0dGVybi5zZXRBdHRyaWJ1dGUoJ3BhdHRlcm5Vbml0cycsICd1c2VyU3BhY2VPblVzZScpO1xyXG5oYXRjaFBhdHRlcm4uc2V0QXR0cmlidXRlKCd3aWR0aCcsICcyNScpO1xyXG5oYXRjaFBhdHRlcm4uc2V0QXR0cmlidXRlKCdoZWlnaHQnLCAnMjUnKTtcclxuaGF0Y2hQYXR0ZXJuLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJyMyMjJkMzInKTtcclxuaGF0Y2hQYXR0ZXJuLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzAuNHB4Jyk7XHJcblxyXG5sZXQgaGF0Y2hQYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XHJcbmNvbnN0IGhhdGNoRHMgPSBbXHJcbiAgJ00tMSwxIGwyLC0yJyxcclxuICAnTS0xLDkgbDEwLC0xMCcsXHJcblxyXG4gICdNLTEsMTggbDQsLTQnLFxyXG4gICdNLTEsMjYgbDgsLTgnLFxyXG4gIC8vICdNNiwyNiBsNCwtNCcsXHJcbiAgJ003LDI2IGw0LC00JyxcclxuXHJcbiAgLy8gJ00xNSwyNiBsMTAsLTEwJyxcclxuICAnTTE2LDI2IGwxMCwtMTAnLFxyXG4gIC8vICdNMjMsMjYgbDIsLTInLFxyXG4gICdNMjQsMjYgbDIsLTInLFxyXG5cclxuICAnTTE0LDMgbDQsLTQnLFxyXG4gICdNMTgsNyBsOCwtOCcsXHJcbiAgJ00yMiwxMSBsNCwtNCcsXHJcblxyXG4gICdNMiwxMSBsMTMsMTMnLFxyXG4gICdNNiw3IGwxMywxMycsXHJcbiAgJ00xMCwzIGwxMywxMycsXHJcbl07XHJcbmZvciAoY29uc3QgZCBvZiBoYXRjaERzKSB7XHJcbiAgaGF0Y2hQYXRoLnNldEF0dHJpYnV0ZSgnZCcsIGQpO1xyXG4gIGhhdGNoUGF0dGVybi5hcHBlbmRDaGlsZChoYXRjaFBhdGgpO1xyXG4gIGhhdGNoUGF0aCA9IGhhdGNoUGF0aC5jbG9uZU5vZGUoKSBhcyBTVkdQYXRoRWxlbWVudFxyXG59XHJcblxyXG4vLyB0eXBlIHNlbGVjdFxyXG5jb25zdCBzZWxlY3RUZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xyXG5zZWxlY3RUZW1wbGF0ZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbnNlbGVjdFRlbXBsYXRlLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKC00OSUpJztcclxuc2VsZWN0VGVtcGxhdGUuc3R5bGUubGVmdCA9ICcyNHB4JztcclxubGV0IG9wdGlvblRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbmNvbnN0IHZhbHVlcyA9IFtcclxuICAnbm9uIGlkZW50aWZpw6knLFxyXG4gICdhcmdpbGUnLFxyXG4gICdjYWxjYWlyZSdcclxuXTtcclxuY29uc3QgY29sb3JzID0gbmV3IE1hcChbXHJcbiAgW3ZhbHVlc1swXSwgJyNmZGUzMTInXSxcclxuICBbdmFsdWVzWzFdLCAnIzI4OWZkZSddLFxyXG4gIFt2YWx1ZXNbMl0sICcjYWJmZTEyJ11cclxuXSk7XHJcblxyXG5mb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xyXG4gIG9wdGlvblRlbXBsYXRlLmlubmVySFRNTCA9IHZhbHVlO1xyXG4gIG9wdGlvblRlbXBsYXRlLnNldEF0dHJpYnV0ZSgndmFsdWUnLCB2YWx1ZSk7XHJcbiAgc2VsZWN0VGVtcGxhdGUuYXBwZW5kQ2hpbGQob3B0aW9uVGVtcGxhdGUpO1xyXG4gIG9wdGlvblRlbXBsYXRlID0gb3B0aW9uVGVtcGxhdGUuY2xvbmVOb2RlKCkgYXMgSFRNTE9wdGlvbkVsZW1lbnQ7XHJcbn1cclxuXHJcbi8vIHF1YW50aXR5XHJcbmNvbnN0IHBUZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxucFRlbXBsYXRlLnN0eWxlLmJvcmRlckxlZnRXaWR0aCA9ICcxNHB4JztcclxucFRlbXBsYXRlLnN0eWxlLmZvbnRGYW1pbHkgPSAnY29uc29sYXMsIFwiTGliZXJhdGlvbiBNb25vXCIsIGNvdXJpZXIsIG1vbm9zcGFjZSc7XHJcbnBUZW1wbGF0ZS5zdHlsZS5mb250V2VpZ2h0ID0gJzEwMCc7XHJcbnBUZW1wbGF0ZS5zdHlsZS5mb250U2l6ZSA9ICcxNHB4JztcclxucFRlbXBsYXRlLnN0eWxlLmhlaWdodCA9ICcxNHB4JztcclxucFRlbXBsYXRlLnN0eWxlLnBhZGRpbmdMZWZ0ID0gJzhweCc7XHJcblxyXG4vLyBjb250b3VyXHJcbmNvbnN0IGNvbnRvdXJUZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xyXG5jb250b3VyVGVtcGxhdGUuc2V0QXR0cmlidXRlKCdmaWxsJywgJyMwMDA1Jyk7XHJcblxyXG4vLyBrdXRjaFxyXG5jb25zdCBnS3V0Y2hUZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xyXG5cclxubGV0IGt1dGNoUmVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncmVjdCcpO1xyXG5rdXRjaFJlY3Quc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcclxua3V0Y2hSZWN0LnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzAuOHB4Jyk7XHJcbmNvbnN0IHJlY3RzOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBzdHJpbmddW10gPSBbXHJcbiAgWzAsIDAsIDEwLCA0LCAnYmxhY2snXSxcclxuICBbMTAsIDAsIDEwLCA0LCAnd2hpdGUnXSxcclxuICBbMjAsIDAsIDEwLCA0LCAnYmxhY2snXSxcclxuICBbMzAsIDAsIDEwLCA0LCAnd2hpdGUnXSxcclxuICBbNDAsIDAsIDEwLCA0LCAnYmxhY2snXSxcclxuICBbNTAsIDAsIDUwLCA0LCAnd2hpdGUnXSxcclxuXHJcbiAgWzAsIDUsIDEwLCA0LCAnd2hpdGUnXSxcclxuICBbMTAsIDUsIDEwLCA0LCAnYmxhY2snXSxcclxuICBbMjAsIDUsIDEwLCA0LCAnd2hpdGUnXSxcclxuICBbMzAsIDUsIDEwLCA0LCAnYmxhY2snXSxcclxuICBbNDAsIDUsIDEwLCA0LCAnd2hpdGUnXSxcclxuICBbNTAsIDUsIDUwLCA0LCAnYmxhY2snXSxcclxuXTtcclxuZm9yIChjb25zdCBbeCwgeSwgd2lkdGgsIGhlaWdodCwgZmlsbF0gb2YgcmVjdHMpIHtcclxuICBrdXRjaFJlY3Quc2V0QXR0cmlidXRlKCd4JywgeC50b0ZpeGVkKCkpO1xyXG4gIGt1dGNoUmVjdC5zZXRBdHRyaWJ1dGUoJ3knLCB5LnRvRml4ZWQoKSk7XHJcbiAga3V0Y2hSZWN0LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB3aWR0aC50b0ZpeGVkKCkpO1xyXG4gIGt1dGNoUmVjdC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGhlaWdodC50b0ZpeGVkKCkpO1xyXG4gIGt1dGNoUmVjdC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBmaWxsKTtcclxuICBnS3V0Y2hUZW1wbGF0ZS5hcHBlbmRDaGlsZChrdXRjaFJlY3QpO1xyXG4gIGt1dGNoUmVjdCA9IGt1dGNoUmVjdC5jbG9uZU5vZGUoKSBhcyBTVkdSZWN0RWxlbWVudDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFN2Z1JlbmRlcmVyIGltcGxlbWVudHMgUG9scGxvdFJlbmRlcmVyIHtcclxuICBwcml2YXRlIHN2ZzogU1ZHRWxlbWVudDtcclxuICBwcml2YXRlIHNpZGViYXJEaXY6IEhUTUxEaXZFbGVtZW50O1xyXG4gIHByaXZhdGUgc2lkZWJhclN2ZzogU1ZHRWxlbWVudDtcclxuICBwcml2YXRlIHNlbGVjdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIHByaXZhdGUgcG9pbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcclxuICBwcml2YXRlIHBvbHlnb25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcclxuICBwcml2YXRlIGxpbmVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcclxuICBwcml2YXRlIHN1cnZleUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xyXG4gIHByaXZhdGUgcXVhbnRpdGllc0NvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQ7XHJcbiAgcHJpdmF0ZSBzdmdHQnlMaW5lID0gbmV3IE1hcDxMaW5lLCBTVkdHRWxlbWVudD4oKTtcclxuICBwcml2YXRlIHN2Z1BhdGhCeVBvbHlnb24gPSBuZXcgTWFwPFBvbHlnb24sIFNWR1BhdGhFbGVtZW50PigpO1xyXG4gIHByaXZhdGUgc3ZnR0J5UG9pbnQgPSBuZXcgTWFwPFZlY3RvcjIsIFNWR0dFbGVtZW50PigpO1xyXG4gIHByaXZhdGUgaGFuZGxlcnM6IFJlY29yZDxzdHJpbmcsIChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZD4gPSB7fTtcclxuICBwdWJsaWMgbGl0aG9DaGFuZ2VIYW5kbGVyOiAoKSA9PiB2b2lkO1xyXG4gIHByaXZhdGUgc3ZnQ29udG91clBhdGg6IFNWR1BhdGhFbGVtZW50O1xyXG4gIHByaXZhdGUgc3ZnS3V0Y2hHOiBTVkdHRWxlbWVudDtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuc3ZnQ29udG91clBhdGggPSBjb250b3VyVGVtcGxhdGUuY2xvbmVOb2RlKCkgYXMgU1ZHUGF0aEVsZW1lbnQ7XHJcbiAgICB0aGlzLnN2Z0t1dGNoRyA9IGdLdXRjaFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKSBhcyBTVkdHRWxlbWVudDtcclxuICAgIHRoaXMuc3ZnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKTtcclxuICAgIHRoaXMuc2lkZWJhckRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlYmFyJyk7XHJcbiAgICB0aGlzLnNpZGViYXJTdmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lkZWJhciA+IHN2ZycpO1xyXG4gICAgdGhpcy5zdmcucHJlcGVuZCh0aGlzLnN2Z0NvbnRvdXJQYXRoKTtcclxuICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKGhhdGNoUGF0dGVybik7XHJcbiAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZCh0aGlzLnBvbHlnb25Db250YWluZXIpO1xyXG4gICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQodGhpcy5saW5lQ29udGFpbmVyKTtcclxuICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKHRoaXMucG9pbnRDb250YWluZXIpO1xyXG4gICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQodGhpcy5zdmdLdXRjaEcpO1xyXG4gICAgdGhpcy5xdWFudGl0aWVzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1YW50aXRpZXMnKTtcclxuICAgIHRoaXMuc2lkZWJhclN2Zy5hcHBlbmRDaGlsZCh0aGlzLnN1cnZleUNvbnRhaW5lcik7XHJcbiAgICB0aGlzLnNpZGViYXJEaXYuYXBwZW5kQ2hpbGQodGhpcy5zZWxlY3RDb250YWluZXIpO1xyXG4gIH1cclxuICBwcml2YXRlIF9zZXRFdmVudEhhbmRsZXIoc3ZnOiBTVkdFbGVtZW50LCBldmVudDogc3RyaW5nLCBoYW5kbGVyOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmhhbmRsZXJzW2V2ZW50XSkge1xyXG4gICAgICBzdmcucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgdGhpcy5oYW5kbGVyc1tldmVudF0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5oYW5kbGVyc1tldmVudF0gPSBoYW5kbGVyO1xyXG4gICAgc3ZnLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuaGFuZGxlcnNbZXZlbnRdKTtcclxuICB9XHJcbiAgc2V0TW91c2VEb3duSGFuZGxlcihoYW5kbGVyOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgIHRoaXMuX3NldEV2ZW50SGFuZGxlcih0aGlzLnN2ZywgJ21vdXNlZG93bicsIGhhbmRsZXIpO1xyXG4gIH1cclxuICBzZXRNb3VzZVVwSGFuZGxlcihoYW5kbGVyOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgIHRoaXMuX3NldEV2ZW50SGFuZGxlcih0aGlzLnN2ZywgJ21vdXNldXAnLCBoYW5kbGVyKTtcclxuICB9XHJcbiAgc2V0TW91c2VNb3ZlSGFuZGxlcihoYW5kbGVyOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgIHRoaXMuX3NldEV2ZW50SGFuZGxlcih0aGlzLnN2ZywgJ21vdXNlbW92ZScsIGhhbmRsZXIpO1xyXG4gIH1cclxuICBzZXRTaWRlYmFyTW91c2VEb3duSGFuZGxlcihoYW5kbGVyOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgIHRoaXMuX3NldEV2ZW50SGFuZGxlcih0aGlzLnNpZGViYXJTdmcsICdtb3VzZWRvd24nLCBoYW5kbGVyKTtcclxuICB9XHJcbiAgc2V0U2lkZWJhck1vdXNlVXBIYW5kbGVyKGhhbmRsZXI6IChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRIYW5kbGVyKHRoaXMuc2lkZWJhclN2ZywgJ21vdXNldXAnLCBoYW5kbGVyKTtcclxuICB9XHJcbiAgc2V0U2lkZWJhck1vdXNlTW92ZUhhbmRsZXIoaGFuZGxlcjogKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICB0aGlzLl9zZXRFdmVudEhhbmRsZXIodGhpcy5zaWRlYmFyU3ZnLCAnbW91c2Vtb3ZlJywgaGFuZGxlcik7XHJcbiAgfVxyXG4gIGRyYXdMaW5lKGxpbmU6IExpbmUsIG5hbWU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgbGV0IHN2Z0c6IFNWR0dFbGVtZW50O1xyXG4gICAgaWYgKCF0aGlzLnN2Z0dCeUxpbmUuaGFzKGxpbmUpKSB7XHJcbiAgICAgIHN2Z0cgPSBnVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpIGFzIFNWR0dFbGVtZW50O1xyXG4gICAgICB0aGlzLmxpbmVDb250YWluZXIuYXBwZW5kQ2hpbGQoc3ZnRyk7XHJcbiAgICAgIHRoaXMuc3ZnR0J5TGluZS5zZXQobGluZSwgc3ZnRyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdmdHID0gdGhpcy5zdmdHQnlMaW5lLmdldChsaW5lKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHN2Z0xpbmUgPSBzdmdHLmNoaWxkcmVuWzBdIGFzIFNWR0xpbmVFbGVtZW50O1xyXG4gICAgY29uc3Qgc3ZnUGF0aEFuY2hvclN0YXJ0ID0gc3ZnRy5jaGlsZHJlblsxXSBhcyBTVkdQYXRoRWxlbWVudDtcclxuICAgIGNvbnN0IHN2Z1BhdGhBbmNob3JFbmQgPSBzdmdHLmNoaWxkcmVuWzJdIGFzIFNWR1BhdGhFbGVtZW50O1xyXG4gICAgY29uc3Qgc3ZnVGV4dFN0YXJ0ID0gc3ZnRy5jaGlsZHJlblszXSBhcyBTVkdUZXh0RWxlbWVudDtcclxuICAgIGNvbnN0IHN2Z1RleHRFbmQgPSBzdmdHLmNoaWxkcmVuWzRdIGFzIFNWR1RleHRFbGVtZW50O1xyXG4gICAgY29uc3QgeDEgPSBsaW5lLngxLnRvRml4ZWQoKTtcclxuICAgIGNvbnN0IHkxID0gbGluZS55MS50b0ZpeGVkKCk7XHJcbiAgICBjb25zdCB4MiA9IGxpbmUueDIudG9GaXhlZCgpO1xyXG4gICAgY29uc3QgeTIgPSBsaW5lLnkyLnRvRml4ZWQoKTtcclxuICAgIHN2Z0xpbmUuc2V0QXR0cmlidXRlKCd4MScsIHgxKTtcclxuICAgIHN2Z0xpbmUuc2V0QXR0cmlidXRlKCd5MScsIHkxKTtcclxuICAgIHN2Z0xpbmUuc2V0QXR0cmlidXRlKCd4MicsIHgyKTtcclxuICAgIHN2Z0xpbmUuc2V0QXR0cmlidXRlKCd5MicsIHkyKTtcclxuICAgIHN2Z1RleHRTdGFydC5pbm5lckhUTUwgPSBuYW1lO1xyXG4gICAgc3ZnVGV4dEVuZC5pbm5lckhUTUwgPSBuYW1lO1xyXG4gICAgY29uc3QgYW5nbGUgPSAxODAgKiAobGluZS52Mi5zdWIobGluZS52MSkuYW5nbGUoKSAtIE1hdGguUEkgLyAyKSAvIE1hdGguUEk7XHJcbiAgICBjb25zdCBiZWZvcmUgPSBsaW5lLmJlZm9yZSgxNCk7XHJcbiAgICBjb25zdCBhZnRlciA9IGxpbmUuYWZ0ZXIoMTQpO1xyXG4gICAgc3ZnUGF0aEFuY2hvclN0YXJ0LnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3gxfSwgJHt5MX0pIHJvdGF0ZSgke2lzTmFOKGFuZ2xlKSA/IDAgOiBhbmdsZX0pYCk7XHJcbiAgICBzdmdQYXRoQW5jaG9yRW5kLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3gyfSwgJHt5Mn0pIHJvdGF0ZSgke2lzTmFOKGFuZ2xlKSA/IDAgOiAxODAgKyBhbmdsZX0pYCk7XHJcbiAgICBzdmdUZXh0U3RhcnQuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7aXNOYU4oYmVmb3JlLngpID8geDEgOiBiZWZvcmUueC50b0ZpeGVkKCl9LCAke2lzTmFOKGJlZm9yZS55KSA/IHkxIDogYmVmb3JlLnkudG9GaXhlZCgpfSlgKTtcclxuICAgIHN2Z1RleHRFbmQuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7aXNOYU4oYWZ0ZXIueCkgPyB4MiA6IGFmdGVyLngudG9GaXhlZCgpfSwgJHtpc05hTihhZnRlci55KSA/IHkyIDogYWZ0ZXIueS50b0ZpeGVkKCl9KWApO1xyXG4gIH1cclxuICBlcmFzZUxpbmUobGluZTogTGluZSk6IHZvaWQge1xyXG4gICAgY29uc3Qgc3ZnRyA9IHRoaXMuc3ZnR0J5TGluZS5nZXQobGluZSk7XHJcbiAgICBpZiAoc3ZnRykge1xyXG4gICAgICB0aGlzLmxpbmVDb250YWluZXIucmVtb3ZlQ2hpbGQoc3ZnRyk7XHJcbiAgICAgIHRoaXMuc3ZnR0J5TGluZS5kZWxldGUobGluZSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGRyYXdQb2ludChwb2ludDogVmVjdG9yMiwgbmFtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBsZXQgc3ZnRzogU1ZHR0VsZW1lbnQ7XHJcbiAgICBpZiAoIXRoaXMuc3ZnR0J5UG9pbnQuaGFzKHBvaW50KSkge1xyXG4gICAgICBzdmdHID0gZ1BvaW50VGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpIGFzIFNWR0dFbGVtZW50O1xyXG4gICAgICB0aGlzLnBvaW50Q29udGFpbmVyLmFwcGVuZENoaWxkKHN2Z0cpO1xyXG4gICAgICB0aGlzLnN2Z0dCeVBvaW50LnNldChwb2ludCwgc3ZnRyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdmdHID0gdGhpcy5zdmdHQnlQb2ludC5nZXQocG9pbnQpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgc3ZnVGV4dCA9IHN2Z0cuY2hpbGRyZW5bMV0gYXMgU1ZHVGV4dEVsZW1lbnQ7XHJcbiAgICBzdmdHLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3BvaW50LngudG9GaXhlZCgpfSwgJHtwb2ludC55LnRvRml4ZWQoKX0pYCk7XHJcbiAgICBzdmdUZXh0LmlubmVySFRNTCA9IG5hbWU7XHJcbiAgfVxyXG4gIHByaXZhdGUgY2xlYXJDb250YWluZXIoY29udGFpbmVyOiBFbGVtZW50KTogdm9pZCB7XHJcbiAgICB3aGlsZSAoY29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbnRhaW5lci5maXJzdENoaWxkKTtcclxuICAgIH1cclxuICB9XHJcbiAgY2xlYXJJbnRlcnNlY3Rpb25zKCk6IHZvaWQge1xyXG4gICAgdGhpcy5jbGVhckNvbnRhaW5lcih0aGlzLnBvaW50Q29udGFpbmVyKTtcclxuICB9XHJcbiAgZHJhd1BvbHlnb24ocG9seWdvbjogUG9seWdvbiwgZmlsbCA9ICcjJyArIChNYXRoLmZsb29yKCgxNjc3NzIxNSAtIDFlNSkgKiBNYXRoLnJhbmRvbSgpKSArIDFlNSkudG9TdHJpbmcoMTYpKTogdm9pZCB7XHJcbiAgICBsZXQgc3ZnUGF0aDogU1ZHUGF0aEVsZW1lbnQ7XHJcbiAgICBpZiAoIXRoaXMuc3ZnUGF0aEJ5UG9seWdvbi5oYXMocG9seWdvbikpIHtcclxuICAgICAgc3ZnUGF0aCA9IHBvbHlnb25UZW1wbGF0ZS5jbG9uZU5vZGUoKSBhcyBTVkdQYXRoRWxlbWVudDtcclxuICAgICAgdGhpcy5wb2x5Z29uQ29udGFpbmVyLmFwcGVuZENoaWxkKHN2Z1BhdGgpO1xyXG4gICAgICB0aGlzLnN2Z1BhdGhCeVBvbHlnb24uc2V0KHBvbHlnb24sIHN2Z1BhdGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc3ZnUGF0aCA9IHRoaXMuc3ZnUGF0aEJ5UG9seWdvbi5nZXQocG9seWdvbik7XHJcbiAgICB9XHJcbiAgICBzdmdQYXRoLnNldEF0dHJpYnV0ZSgnZCcsICdNICcgKyBwb2x5Z29uLnZlcnRpY2VzLm1hcCh2ID0+IGAke3YueC50b0ZpeGVkKCl9ICR7di55LnRvRml4ZWQoKX1gKS5qb2luKCcgTCAnKSArICcgWicpO1xyXG4gICAgc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBmaWxsKTtcclxuICB9XHJcbiAgZHJhd0NvbnRvdXIocG9seWdvbjogUG9seWdvbik6IHZvaWQge1xyXG4gICAgdGhpcy5zdmdDb250b3VyUGF0aC5zZXRBdHRyaWJ1dGUoJ2QnLCAnTSAnICsgcG9seWdvbi52ZXJ0aWNlcy5tYXAodiA9PiBgJHt2LngudG9GaXhlZCgpfSAke3YueS50b0ZpeGVkKCl9YCkuam9pbignIEwgJykgKyAnIFonKTtcclxuICB9XHJcbiAgY2xlYXJQb2x5Z29ucygpOiB2b2lkIHtcclxuICAgIHRoaXMuY2xlYXJDb250YWluZXIodGhpcy5wb2x5Z29uQ29udGFpbmVyKTtcclxuICB9XHJcblxyXG4gIGRyYXdTdXJ2ZXkoc3VydmV5OiBTdXJ2ZXkpOiB2b2lkIHtcclxuICAgIHRoaXMuY2xlYXJDb250YWluZXIodGhpcy5zdXJ2ZXlDb250YWluZXIpO1xyXG4gICAgdGhpcy5jbGVhckNvbnRhaW5lcih0aGlzLnNlbGVjdENvbnRhaW5lcik7XHJcbiAgICBjb25zdCBXSURUSCA9IDIwMDtcclxuICAgIGNvbnN0IFRISUNLTkVTUyA9IDEwO1xyXG4gICAgY29uc3QgRElBTUVURVIgPSA1MDtcclxuICAgIGNvbnN0IGQgPSBgTSAkeygtV0lEVEggLyAyKS50b0ZpeGVkKCl9LCAwIGAgK1xyXG4gICAgICBgaCAkeygoV0lEVEggLSBESUFNRVRFUikgLyAyKS50b0ZpeGVkKCl9IGAgK1xyXG4gICAgICBgdiAke3N1cnZleS5kZXB0aCgpLnRvRml4ZWQoKX0gYCArXHJcbiAgICAgIGBoICR7RElBTUVURVIudG9GaXhlZCgpfSBgICtcclxuICAgICAgYHYgJHstc3VydmV5LmRlcHRoKCkudG9GaXhlZCgpfSBgICtcclxuICAgICAgYGggJHsoKFdJRFRIIC0gRElBTUVURVIpIC8gMikudG9GaXhlZCgpfWA7XHJcbiAgICBjb25zdCBkQm90dG9tID0gZCArICcgJyArXHJcbiAgICAgIGB2ICR7VEhJQ0tORVNTLnRvRml4ZWQoKX0gYCArXHJcbiAgICAgIGBoICR7KFRISUNLTkVTUyAtIChXSURUSCAtIERJQU1FVEVSKSAvIDIpLnRvRml4ZWQoKX0gYCArXHJcbiAgICAgIGB2ICR7c3VydmV5LmRlcHRoKCkudG9GaXhlZCgpfSBgICtcclxuICAgICAgYGggJHsoLSgyICogVEhJQ0tORVNTICsgRElBTUVURVIpKS50b0ZpeGVkKCl9IGAgK1xyXG4gICAgICBgdiAkey1zdXJ2ZXkuZGVwdGgoKS50b0ZpeGVkKCl9IGAgK1xyXG4gICAgICBgaCAkeyhUSElDS05FU1MgLSAoV0lEVEggLSBESUFNRVRFUikgLyAyKS50b0ZpeGVkKCl9IFpgO1xyXG5cclxuICAgIGNvbnN0IHN2Z0cgPSBnU3VydmV5VGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpIGFzIFNWR0dFbGVtZW50O1xyXG4gICAgY29uc3QgbGl0aG9sb2d5ID0gc3ZnRy5jaGlsZHJlblswXSBhcyBTVkdHRWxlbWVudDtcclxuICAgIGNvbnN0IGJvdHRvbVBvbHlnb24gPSBzdmdHLmNoaWxkcmVuWzFdIGFzIFNWR1BhdGhFbGVtZW50O1xyXG4gICAgY29uc3QgdG9wUG9seWdvbiA9IHN2Z0cuY2hpbGRyZW5bMl0gYXMgU1ZHUGF0aEVsZW1lbnQ7XHJcbiAgICBib3R0b21Qb2x5Z29uLnNldEF0dHJpYnV0ZSgnZCcsIGRCb3R0b20pO1xyXG4gICAgdG9wUG9seWdvbi5zZXRBdHRyaWJ1dGUoJ2QnLCBkKTtcclxuXHJcbiAgICBsZXQgdG9wID0gMDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3VydmV5LmxpdGhvbG9neS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBsaXRob2xvZ2ljYWxMYXllciA9IGxpdGhvbG9naWNhbExheWVyUmVjdFRlbXBsYXRlLmNsb25lTm9kZSgpIGFzIFNWR1JlY3RFbGVtZW50O1xyXG4gICAgICBsaXRob2xvZ2ljYWxMYXllci5zZXRBdHRyaWJ1dGUoJ3gnLCAoLURJQU1FVEVSIC8gMikudG9GaXhlZCgpKTtcclxuICAgICAgbGl0aG9sb2dpY2FsTGF5ZXIuc2V0QXR0cmlidXRlKCd5JywgdG9wLnRvRml4ZWQoKSk7XHJcbiAgICAgIGxpdGhvbG9naWNhbExheWVyLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBESUFNRVRFUi50b0ZpeGVkKCkpO1xyXG4gICAgICBsaXRob2xvZ2ljYWxMYXllci5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHN1cnZleS5saXRob2xvZ3lbaV0uZGVwdGgudG9GaXhlZCgpKTtcclxuICAgICAgbGl0aG9sb2dpY2FsTGF5ZXIuc2V0QXR0cmlidXRlKCdmaWxsJywgY29sb3JzLmdldChzdXJ2ZXkubGl0aG9sb2d5W2ldLnR5cGUpKTtcclxuICAgICAgbGl0aG9sb2d5LmFwcGVuZENoaWxkKGxpdGhvbG9naWNhbExheWVyKTtcclxuXHJcbiAgICAgIGNvbnN0IHNlbGVjdCA9IHNlbGVjdFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuICAgICAgc2VsZWN0LnF1ZXJ5U2VsZWN0b3IoYG9wdGlvblt2YWx1ZT1cIiR7c3VydmV5LmxpdGhvbG9neVtpXS50eXBlfVwiXWApLnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCAnc2VsZWN0ZWQnKTtcclxuICAgICAgc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGV2ZW50ID0+IHtcclxuICAgICAgICBzdXJ2ZXkubGl0aG9sb2d5W2ldLnR5cGUgPSBzZWxlY3QudmFsdWU7XHJcbiAgICAgICAgbGl0aG9sb2dpY2FsTGF5ZXIuc2V0QXR0cmlidXRlKCdmaWxsJywgY29sb3JzLmdldChzZWxlY3QudmFsdWUpKTtcclxuICAgICAgICB0aGlzLmxpdGhvQ2hhbmdlSGFuZGxlcigpO1xyXG4gICAgICB9KTtcclxuICAgICAgc2VsZWN0LnN0eWxlLnRvcCA9ICh0b3AgKyAxMDAgKyBzdXJ2ZXkubGl0aG9sb2d5W2ldLmRlcHRoIC8gMikudG9GaXhlZCgpICsgJ3B4JztcclxuXHJcbiAgICAgIHRoaXMuc2VsZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlbGVjdCk7XHJcblxyXG4gICAgICB0b3AgKz0gc3VydmV5LmxpdGhvbG9neVtpXS5kZXB0aDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnN1cnZleUNvbnRhaW5lci5hcHBlbmRDaGlsZChzdmdHKTtcclxuICAgIHRoaXMuc2lkZWJhckRpdi5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgfVxyXG4gIGNsZWFyU3VydmV5KCk6IHZvaWQge1xyXG4gICAgdGhpcy5zaWRlYmFyRGl2LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcclxuICAgIHRoaXMuY2xlYXJDb250YWluZXIodGhpcy5zdXJ2ZXlDb250YWluZXIpO1xyXG4gICAgdGhpcy5jbGVhckNvbnRhaW5lcih0aGlzLnNlbGVjdENvbnRhaW5lcik7XHJcbiAgfVxyXG4gIGRyYXdRdWFudGl0aWVzKHF1YW50aXRpZXM6IE1hcDxzdHJpbmcsIG51bWJlcj4sIHNjYWxlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMuY2xlYXJDb250YWluZXIodGhpcy5xdWFudGl0aWVzQ29udGFpbmVyKTtcclxuICAgIGNvbnN0IHAgPSBwVGVtcGxhdGUuY2xvbmVOb2RlKCkgYXMgSFRNTFBhcmFncmFwaEVsZW1lbnQ7XHJcbiAgICBwLmlubmVySFRNTCA9IGBWb2x1bWVzIDpgO1xyXG4gICAgcC5zdHlsZS5mb250U3R5bGUgPSAnYm9sZCc7XHJcbiAgICBwLnN0eWxlLnRleHREZWNvcmF0aW9uID0gJ3VuZGVybGluZSc7XHJcbiAgICB0aGlzLnF1YW50aXRpZXNDb250YWluZXIuYXBwZW5kQ2hpbGQocCk7XHJcbiAgICBxdWFudGl0aWVzLmZvckVhY2goKHF1YW50aXR5LCB0eXBlKSA9PiB7XHJcbiAgICAgIGNvbnN0IHAgPSBwVGVtcGxhdGUuY2xvbmVOb2RlKCkgYXMgSFRNTFBhcmFncmFwaEVsZW1lbnQ7XHJcbiAgICAgIHAuaW5uZXJIVE1MID0gYCR7dHlwZX0gKCR7KHF1YW50aXR5IC8gKE1hdGgucG93KHNjYWxlLCAyKSAqIDUwKSkudG9GaXhlZCgyKX0gbcKzKWA7XHJcbiAgICAgIHAuc3R5bGUuYm9yZGVyTGVmdCA9IGA4cHggc29saWQgJHtjb2xvcnMuZ2V0KHR5cGUpfWA7XHJcbiAgICAgIHRoaXMucXVhbnRpdGllc0NvbnRhaW5lci5hcHBlbmRDaGlsZChwKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBkcmF3S3V0Y2goa3V0Y2g6IExpbmUpOiB2b2lkIHtcclxuICAgIGNvbnN0IGFuZ2xlID0gMTgwICoga3V0Y2gudjIuc3ViKGt1dGNoLnYxKS5hbmdsZSgpIC8gTWF0aC5QSTtcclxuICAgIHRoaXMuc3ZnS3V0Y2hHLnNldEF0dHJpYnV0ZShcclxuICAgICAgJ3RyYW5zZm9ybScsXHJcbiAgICAgIGB0cmFuc2xhdGUoJHtrdXRjaC52MS54LnRvRml4ZWQoKX0sICR7a3V0Y2gudjEueS50b0ZpeGVkKCl9KSBgICtcclxuICAgICAgYHJvdGF0ZSgke2lzTmFOKGFuZ2xlKSA/IDAgOiBhbmdsZX0pIGAgK1xyXG4gICAgICBgc2NhbGUoJHtrdXRjaC5sZW4oKSAvIDEwMH0sIDEpYFxyXG4gICAgKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBQb2xwbG90IH0gZnJvbSBcIi4vcG9scGxvdFwiO1xyXG5pbXBvcnQgeyBTdmdSZW5kZXJlciB9IGZyb20gXCIuL3N2Zy1yZW5kZXJlclwiO1xyXG5cclxuY29uc3Qgc3ZnUmVuZGVyZXIgPSBuZXcgU3ZnUmVuZGVyZXIoKTtcclxuY29uc3QgcG9scGxvdCA9IG5ldyBQb2xwbG90KHN2Z1JlbmRlcmVyKTsiXSwic291cmNlUm9vdCI6IiJ9