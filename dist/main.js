(()=>{"use strict";var t=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.dotRaw=function(t,e,n,i){return t*n+e*i},t.dot=function(t,e){return this.dotRaw(t.x,t.y,e.x,e.y)},t.prototype.dot=function(e){return t.dot(this,e)},t.crossRaw=function(t,e,n,i){return t*i-n*e},t.cross=function(t,e){return this.crossRaw(t.x,t.y,e.x,e.y)},t.prototype.cross=function(e){return t.cross(this,e)},t.lenRaw=function(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))},t.len=function(t){return this.lenRaw(t.x,t.y)},t.prototype.len=function(){return t.len(this)},t.normalizeRaw=function(t,e,n){void 0===n&&(n=1);var i=n/this.lenRaw(t,e);return this.mulRaw(t,e,i)},t.normalize=function(t,e){return void 0===e&&(e=1),this.normalizeRaw(t.x,t.y,e)},t.prototype.normalize=function(e){return void 0===e&&(e=1),t.normalize(this,e)},t.equalsRaw=function(t,e,n,i){return t===n&&e===i},t.equals=function(t,e){return this.equalsRaw(t.x,t.y,e.x,e.y)},t.prototype.equals=function(e){return t.equals(this,e)},t.addRaw=function(e,n,i,r){return new t(e+i,n+r)},t.add=function(t,e){return this.addRaw(t.x,t.y,e.x,e.y)},t.prototype.add=function(e){return t.add(this,e)},t.subRaw=function(e,n,i,r){return new t(e-i,n-r)},t.sub=function(t,e){return this.subRaw(t.x,t.y,e.x,e.y)},t.prototype.sub=function(e){return t.sub(this,e)},t.mulRaw=function(e,n,i){return new t(e*i,n*i)},t.mul=function(t,e){return this.mulRaw(t.x,t.y,e)},t.prototype.mul=function(e){return t.mul(this,e)},t.intersectionTimesRaw=function(e,n,i,r,s,o,u,h){var c=this.crossRaw(i-e,r-n,u-s,h-o);return new t(this.crossRaw(u-s,h-o,e-s,n-o)/c,this.crossRaw(i-e,r-n,e-s,n-o)/c)},t.intersectionTimes=function(t,e,n,i){return this.intersectionTimesRaw(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)},t.prototype.intersectionTimes=function(e,n,i){return t.intersectionTimes(this,e,n,i)},t.intersectionRaw=function(t,e,n,i,r,s,o,u){var h=this.intersectionTimesRaw(t,e,n,i,r,s,o,u);if(h)return h.y=e+(i-e)*h.x,h.x=t+(n-t)*h.x,h},t.intersection=function(t,e,n,i){return this.intersectionRaw(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)},t.prototype.intersection=function(e,n,i){return t.intersection(this,e,n,i)},t.prototype.angle=function(t){if(t){var e=this.angle(),n=t.angle();return n<e?n+2*Math.PI-e:n-e}return this.y>0?Math.acos(this.x/this.len()):2*Math.PI-Math.acos(this.x/this.len())},t}(),e=function(){function e(e,n,i,r){this.v1=new t(e,n),this.v2=new t(i,r)}return Object.defineProperty(e.prototype,"x1",{get:function(){return this.v1.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this.v1.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x2",{get:function(){return this.v2.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y2",{get:function(){return this.v2.y},enumerable:!1,configurable:!0}),e.prototype.len=function(){return this.v2.sub(this.v1).len()},e.prototype.pointAt=function(t){return this.v1.add(this.v2.sub(this.v1).mul(t))},e.prototype.before=function(t){return this.v1.add(this.v2.sub(this.v1).mul(-t/this.len()))},e.prototype.after=function(t){return this.v1.add(this.v2.sub(this.v1).mul((this.len()+t)/this.len()))},e.prototype.intersectionTimesWith=function(t){return this.v1.intersectionTimes(this.v2,t.v1,t.v2)},e.prototype.update=function(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.v1.x+=t,this.v1.y+=e,this.v2.x+=n,this.v2.y+=i},e}(),n=function(){function t(t){void 0===t&&(t=[]),this.vertices=t}return t.prototype.areaBetween=function(t,e){return(this.vertices[e].x-this.vertices[t].x)*(this.vertices[t].y+this.vertices[e].y)/2},t.prototype.area=function(){for(var t=0,e=this.vertices.length-1,n=0;n<this.vertices.length;n++)t+=this.areaBetween(e,n),e=n;return t},t.prototype.shareEdge=function(t,e){for(var n=this.vertices.length-1,i=0;i<this.vertices.length;i++){if(this.vertices[n].equals(t)&&this.vertices[i].equals(e))return!0;n=i}return!1},t.prototype.intersectionWith=function(t){},t}(),i=function(){function t(t){var n,i,r,s,o=this;this.renderer=t,this.lines=[],this.intersectionTimes=[],this.intersectionPoints=[],this.renderer.setMouseDownHandler((function(t,r,s){i=s||null,(n=r||null)||(n=new e(t.clientX,t.clientY,t.clientX,t.clientY),i=n.v2,o.addLine(n))})),this.renderer.setMouseUpHandler((function(t,e,u){e?(r&&r!==e&&o.renderer.drawLine(r,e===s,!1),r=e,o.renderer.drawLine(r,e===s,!0)):r&&o.renderer.drawLine(r,e===s,!1),n=null,i=null})),this.renderer.setMouseMoveHandler((function(t,e,u){e?(s&&s!==e&&o.renderer.drawLine(s,!1,e===r),s=e,o.renderer.drawLine(s,!0,e===r)):s&&(o.renderer.drawLine(s,!1,e===r),s=null),n&&(i?(i.x=t.clientX,i.y=t.clientY):n.update(t.movementX,t.movementY,t.movementX,t.movementY),o.updateIntersectionTimes(n),o.renderer.drawLine(n,n===s,n===r))}))}return t.prototype.addLine=function(t){this.addIntersectionTimes(t),this.lines.push(t),this.renderer.drawLine(t,!1,!1)},t.prototype.addIntersectionTimes=function(t){for(var e,n=[],i=[],r=0;r<this.lines.length;r++)e=this.lines[r].intersectionTimesWith(t),this.intersectionTimes[r].push(e.x),this.intersectionPoints[r].push(0<=e.x&&e.x<=1&&0<=e.y&&e.y<=1?this.lines[r].v1.add(this.lines[r].v2.sub(this.lines[r].v1).mul(e.x)):null),n.push(e.y),i.push(null);n.push(NaN),i.push(null),this.intersectionTimes.push(n),this.intersectionPoints.push(i),this.renderIntersections()},t.prototype.updateIntersectionTimes=function(t){for(var e,n=this.lines.indexOf(t),i=0;i<this.lines.length;i++)i!==n&&(e=this.lines[i].intersectionTimesWith(t),this.intersectionTimes[i][n]=e.x,this.intersectionTimes[n][i]=e.y,i<n?this.intersectionPoints[i][n]=0<=e.x&&e.x<=1&&0<=e.y&&e.y<=1?this.lines[i].v1.add(this.lines[i].v2.sub(this.lines[i].v1).mul(e.x)):null:this.intersectionPoints[n][i]=0<=e.x&&e.x<=1&&0<=e.y&&e.y<=1?this.lines[i].v1.add(this.lines[i].v2.sub(this.lines[i].v1).mul(e.x)):null);this.renderIntersections()},t.prototype.renderIntersections=function(){var t=this;this.renderer.clearIntersections(),this.intersectionPoints.forEach((function(e){e.forEach((function(e){e&&t.renderer.drawPoint(e)}))})),this.renderer.clearPolygons(),this.buildPolygonsFromIntersectionTimes().forEach((function(e){return t.renderer.drawPolygon(e)}))},t.prototype.testSide=function(t,e,n){return e.sub(t).cross(n.sub(t))>0},t.prototype.buildPolygonsFromIntersectionTimes=function(){for(var t=this,e=this.intersectionTimes.map((function(e,n){return e.map((function(t,e){return e})).filter((function(i){return!isNaN(e[i])&&0<=e[i]&&e[i]<=1&&!isNaN(t.intersectionTimes[i][n])&&0<=t.intersectionTimes[i][n]&&t.intersectionTimes[i][n]<=1})).sort((function(t,n){return e[t]-e[n]}))})),i=[],r=0;r<e.length;r++)for(var s=function(t){var s,u=r,h=t,c=[o.lines[u].pointAt(o.intersectionTimes[u][e[u][h]]),o.lines[u].pointAt(o.intersectionTimes[u][e[u][h+1]])];if(i.some((function(t){return t.shareEdge(c[0],c[1])})))return"break";h+=1;for(var a=0,l=!1;a++<100&&(s=u,"number"==typeof(u=e[u][h]));){if("number"!=typeof(h=e[u].findIndex((function(t){return t===s})))&&console.warn("error"),0<h&&o.testSide(c[c.length-2],c[c.length-1],o.lines[u].pointAt(o.intersectionTimes[u][e[u][h-1]])))h-=1;else{if(!(h<e[u].length-1&&o.testSide(c[c.length-2],c[c.length-1],o.lines[u].pointAt(o.intersectionTimes[u][e[u][h+1]]))))break;h+=1}if(c.push(o.lines[u].pointAt(o.intersectionTimes[u][e[u][h]])),c[0].equals(c[c.length-1])){c.pop(),l=!0;break}}100===a&&console.warn("too many loops"),l&&i.push(new n(c))},o=this,u=0;u<e[r].length-1&&"break"!==s(u);u++);return i},t}(),r=document.createElementNS("http://www.w3.org/2000/svg","g");r.setAttribute("stroke","black"),r.setAttribute("stroke-width","0.4px");var s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("stroke-dasharray","10, 4, 1, 4");var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d","M 0, 0A 10, 10, 0, 0, 0, -5, -5A 10, 10, 0, 1, 1, 5, -5A 10, 10, 0, 0, 0, 0, 0"),o.setAttribute("fill","white"),r.appendChild(s),r.appendChild(o),r.appendChild(o.cloneNode());var u=document.createElementNS("http://www.w3.org/2000/svg","circle");u.setAttribute("fill","green"),u.setAttribute("r","3");var h=document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("fill","green"),h.setAttribute("stroke-width","3"),h.setAttribute("stroke","grey");var c=new(function(){function t(){this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.intersectionContainer=document.createElementNS("http://www.w3.org/2000/svg","g"),this.polygonContainer=document.createElementNS("http://www.w3.org/2000/svg","g"),this.svgGByLine=new Map,this.lineBySvgG=new Map,this.svg.appendChild(this.intersectionContainer),this.svg.appendChild(this.polygonContainer)}return t.prototype.clickHandlerWrapper=function(t){var e=this;return function(n){var i=document.elementFromPoint(n.clientX,n.clientY),r=e.lineBySvgG.get(i.parentNode);i instanceof SVGPathElement&&i.parentNode!==e.polygonContainer?i.parentNode.children[1]===i?t(n,r,r.v1):t(n,r,r.v2):i instanceof SVGLineElement?t(n,r):t(n)}},t.prototype.setMouseDownHandler=function(t){this.onMouseDown&&this.svg.removeEventListener("mousedown",this.onMouseDown),this.onMouseDown=this.clickHandlerWrapper(t),this.svg.addEventListener("mousedown",this.onMouseDown)},t.prototype.setMouseUpHandler=function(t){this.onMouseUp&&this.svg.removeEventListener("mouseup",this.onMouseUp),this.onMouseUp=this.clickHandlerWrapper(t),this.svg.addEventListener("mouseup",this.onMouseUp)},t.prototype.setMouseMoveHandler=function(t){this.onMouseMove&&this.svg.removeEventListener("mousemove",this.onMouseMove),this.onMouseMove=this.clickHandlerWrapper(t),this.svg.addEventListener("mousemove",this.onMouseMove)},t.prototype.drawLine=function(t,e,n){var i;void 0===e&&(e=!1),void 0===n&&(n=!1),this.svgGByLine.has(t)?i=this.svgGByLine.get(t):(i=r.cloneNode(!0),this.svg.appendChild(i),this.svgGByLine.set(t,i),this.lineBySvgG.set(i,t));var s=i.children[0],o=i.children[1],u=i.children[2],h=t.x1.toFixed(),c=t.y1.toFixed(),a=t.x2.toFixed(),l=t.y2.toFixed();s.setAttribute("x1",h),s.setAttribute("y1",c),s.setAttribute("x2",a),s.setAttribute("y2",l),e?i.setAttribute("stroke-width","0.8px"):i.setAttribute("stroke-width","0.4px"),n?i.setAttribute("stroke","#19a194"):i.setAttribute("stroke","black");var d=180*(t.v2.sub(t.v1).angle()-Math.PI/2)/Math.PI;o.setAttribute("transform","translate("+h+", "+c+") rotate("+(isNaN(d)?0:d)+")"),u.setAttribute("transform","translate("+a+", "+l+") rotate("+(isNaN(d)?0:180+d)+")")},t.prototype.eraseLine=function(t){var e=this.svgGByLine.get(t);e&&(this.svg.removeChild(e),this.svgGByLine.delete(t))},t.prototype.drawPoint=function(t){var e=u.cloneNode();e.setAttribute("cx",t.x.toFixed()),e.setAttribute("cy",t.y.toFixed()),this.intersectionContainer.appendChild(e)},t.prototype.clearIntersections=function(){var t=this;this.intersectionContainer.childNodes.forEach((function(e){return t.intersectionContainer.removeChild(e)}))},t.prototype.drawPolygon=function(t){var e=h.cloneNode();e.setAttribute("d","M"+t.vertices.map((function(t){return t.x+" "+t.y})).join(" L ")+"Z"),e.setAttribute("fill","#"+Math.floor(16777215*Math.random()).toString(16)),this.polygonContainer.appendChild(e)},t.prototype.clearPolygons=function(){var t=this;this.polygonContainer.childNodes.forEach((function(e){return t.polygonContainer.removeChild(e)}))},t}());new i(c),document.querySelector("body").appendChild(c.svg)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xwbG90Ly4vc3JjL3ZlY3RvcjIudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9saW5lLnRzIiwid2VicGFjazovL3BvbHBsb3QvLi9zcmMvcG9seWdvbi50cyIsIndlYnBhY2s6Ly9wb2xwbG90Ly4vc3JjL3BvbHBsb3QudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9zdmctcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJ4IiwieSIsImRvdFJhdyIsIngxIiwieTEiLCJ4MiIsInkyIiwiZG90IiwidSIsInYiLCJ0aGlzIiwib3RoZXIiLCJWZWN0b3IyIiwiY3Jvc3NSYXciLCJjcm9zcyIsImxlblJhdyIsIk1hdGgiLCJzcXJ0IiwicG93IiwibGVuIiwibm9ybWFsaXplUmF3IiwiYnkiLCJjb2VmIiwibXVsUmF3Iiwibm9ybWFsaXplIiwiZXF1YWxzUmF3IiwiZXF1YWxzIiwiYWRkUmF3IiwiYWRkIiwic3ViUmF3Iiwic3ViIiwibXVsIiwiaW50ZXJzZWN0aW9uVGltZXNSYXciLCJmeCIsImZ5IiwidHgiLCJ0eSIsInN4Iiwic3kiLCJleCIsImV5IiwiZGV0IiwiaW50ZXJzZWN0aW9uVGltZXMiLCJmcm9tIiwidG8iLCJzdGFydCIsImVuZCIsImludGVyc2VjdGlvblJhdyIsInRpbWVzIiwiaW50ZXJzZWN0aW9uIiwiYW5nbGUiLCJhMSIsImEyIiwiUEkiLCJhY29zIiwidjEiLCJ2MiIsInBvaW50QXQiLCJ0IiwiYmVmb3JlIiwiYWZ0ZXIiLCJpbnRlcnNlY3Rpb25UaW1lc1dpdGgiLCJ1cGRhdGUiLCJkeDEiLCJkeTEiLCJkeDIiLCJkeTIiLCJ2ZXJ0aWNlcyIsImFyZWFCZXR3ZWVuIiwiaSIsImoiLCJhcmVhIiwiYSIsImxlbmd0aCIsInNoYXJlRWRnZSIsImludGVyc2VjdGlvbldpdGgiLCJsaW5lIiwicmVuZGVyZXIiLCJkcmFnZ2VkTGluZSIsImRyYWdnZWRWZWN0b3IyIiwic2VsZWN0ZWRMaW5lIiwiaG92ZXJlZExpbmUiLCJsaW5lcyIsImludGVyc2VjdGlvblBvaW50cyIsInNldE1vdXNlRG93bkhhbmRsZXIiLCJldmVudCIsImNsaWNrZWRMaW5lIiwiY2xpY2tlZFZlY3RvcjIiLCJMaW5lIiwiY2xpZW50WCIsImNsaWVudFkiLCJhZGRMaW5lIiwic2V0TW91c2VVcEhhbmRsZXIiLCJkcmF3TGluZSIsInNldE1vdXNlTW92ZUhhbmRsZXIiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJ1cGRhdGVJbnRlcnNlY3Rpb25UaW1lcyIsImFkZEludGVyc2VjdGlvblRpbWVzIiwicHVzaCIsIk5hTiIsInJlbmRlckludGVyc2VjdGlvbnMiLCJpbmRleCIsImluZGV4T2YiLCJjbGVhckludGVyc2VjdGlvbnMiLCJmb3JFYWNoIiwiaW50ZXJzZWN0aW9uUG9pbnQiLCJkcmF3UG9pbnQiLCJjbGVhclBvbHlnb25zIiwiYnVpbGRQb2x5Z29uc0Zyb21JbnRlcnNlY3Rpb25UaW1lcyIsInBvbHlnb24iLCJkcmF3UG9seWdvbiIsInRlc3RTaWRlIiwidyIsImludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheSIsIm1hcCIsIl8iLCJmaWx0ZXIiLCJpc05hTiIsInNvcnQiLCJwb2x5Z29ucyIsInBrIiwiayIsImwiLCJzb21lIiwicCIsIkkiLCJmaW5kSW5kZXgiLCJtIiwiY29uc29sZSIsIndhcm4iLCJwb3AiLCJQb2x5Z29uIiwiZ1RlbXBsYXRlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJzZXRBdHRyaWJ1dGUiLCJsaW5lVGVtcGxhdGUiLCJhbmNob3JUZW1wbGF0ZSIsImFwcGVuZENoaWxkIiwiY2xvbmVOb2RlIiwicG9pbnRUZW1wbGF0ZSIsInBvbHlnb25UZW1wbGF0ZSIsInN2Z1JlbmRlcmVyIiwic3ZnIiwiaW50ZXJzZWN0aW9uQ29udGFpbmVyIiwicG9seWdvbkNvbnRhaW5lciIsInN2Z0dCeUxpbmUiLCJNYXAiLCJsaW5lQnlTdmdHIiwiY2xpY2tIYW5kbGVyV3JhcHBlciIsImNsaWNrSGFuZGxlciIsImVsZW1lbnRBdCIsImVsZW1lbnRGcm9tUG9pbnQiLCJnZXQiLCJwYXJlbnROb2RlIiwiU1ZHUGF0aEVsZW1lbnQiLCJjaGlsZHJlbiIsIlNWR0xpbmVFbGVtZW50Iiwib25Nb3VzZURvd24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uTW91c2VVcCIsIm9uTW91c2VNb3ZlIiwiaXNIb3ZlcmVkIiwiaXNTZWxlY3RlZCIsInN2Z0ciLCJoYXMiLCJzZXQiLCJzdmdMaW5lIiwic3ZnUGF0aEFuY2hvclN0YXJ0Iiwic3ZnUGF0aEFuY2hvckVuZCIsInRvRml4ZWQiLCJlcmFzZUxpbmUiLCJyZW1vdmVDaGlsZCIsImRlbGV0ZSIsInBvaW50Iiwic3ZnQ2lyY2xlIiwiY2hpbGROb2RlcyIsImNoaWxkTm9kZSIsInN2Z1BhdGgiLCJqb2luIiwiZmxvb3IiLCJyYW5kb20iLCJ0b1N0cmluZyIsIlBvbFBsb3QiLCJxdWVyeVNlbGVjdG9yIl0sIm1hcHBpbmdzIjoibUJBQUEsaUJBQ0UsV0FBbUJBLEVBQWNDLFFBQWQsSUFBQUQsTUFBQSxRQUFjLElBQUFDLE1BQUEsR0FBZCxLQUFBRCxJQUFjLEtBQUFDLElBNEhuQyxPQTNIUyxFQUFBQyxPQUFQLFNBQWNDLEVBQVlDLEVBQVlDLEVBQVlDLEdBQ2hELE9BQU9ILEVBQUtFLEVBQUtELEVBQUtFLEdBRWpCLEVBQUFDLElBQVAsU0FBV0MsRUFBWUMsR0FDckIsT0FBT0MsS0FBS1IsT0FBT00sRUFBRVIsRUFBR1EsRUFBRVAsRUFBR1EsRUFBRVQsRUFBR1MsRUFBRVIsSUFFdEMsWUFBQU0sSUFBQSxTQUFJSSxHQUNGLE9BQU9DLEVBQVFMLElBQUlHLEtBQU1DLElBRXBCLEVBQUFFLFNBQVAsU0FBZ0JWLEVBQVlDLEVBQVlDLEVBQVlDLEdBQ2xELE9BQU9ILEVBQUtHLEVBQUtELEVBQUtELEdBRWpCLEVBQUFVLE1BQVAsU0FBYU4sRUFBWUMsR0FDdkIsT0FBT0MsS0FB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S3VJLHNCQUFzQmlDLFdBQVd6RSxTQUFRLFNBQUEwRSxHQUFhLFNBQUtsQyxzQkFBc0I2QixZQUFZSyxPQUVwRyxZQUFBcEUsWUFBQSxTQUFZRCxHQUNWLElBQU1zRSxFQUFVdEMsRUFBZ0JGLFlBQ2hDd0MsRUFBUTVDLGFBQWEsSUFBSyxJQUFNMUIsRUFBUTNDLFNBQVNnRCxLQUFJLFNBQUExRyxHQUFLLE9BQUdBLEVBQUVULEVBQUMsSUFBSVMsRUFBRVIsS0FBS29MLEtBQUssT0FBUyxLQUN6RkQsRUFBUTVDLGFBQWEsT0FBUSxJQUFPeEgsS0FBS3NLLE1BQU0sU0FBV3RLLEtBQUt1SyxVQUFXQyxTQUFTLEtBQ25GOUssS0FBS3dJLGlCQUFpQlAsWUFBWXlDLElBRXBDLFlBQUF4RSxjQUFBLHNCQUNFbEcsS0FBS3dJLGlCQUFpQmdDLFdBQVd6RSxTQUFRLFNBQUEwRSxHQUFhLFNBQUtqQyxpQkFBaUI0QixZQUFZSyxPQUU1RixFQS9HQSxJQy9CZ0IsSUFBSU0sRUFBUTFDLEdBQ2ZULFNBQVNvRCxjQUFjLFFBQy9CL0MsWUFBWUksRUFBWUMsTSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFZlY3RvcjIge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgeCA9IDAsIHB1YmxpYyB5ID0gMCkge31cbiAgc3RhdGljIGRvdFJhdyh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4geDEgKiB4MiArIHkxICogeTI7XG4gIH1cbiAgc3RhdGljIGRvdCh1OiBWZWN0b3IyLCB2OiBWZWN0b3IyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5kb3RSYXcodS54LCB1LnksIHYueCwgdi55KTtcbiAgfVxuICBkb3Qob3RoZXI6IFZlY3RvcjIpOiBudW1iZXIge1xuICAgIHJldHVybiBWZWN0b3IyLmRvdCh0aGlzLCBvdGhlcik7XG4gIH1cbiAgc3RhdGljIGNyb3NzUmF3KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiB4MSAqIHkyIC0geDIgKiB5MTtcbiAgfVxuICBzdGF0aWMgY3Jvc3ModTogVmVjdG9yMiwgdjogVmVjdG9yMik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY3Jvc3NSYXcodS54LCB1LnksIHYueCwgdi55KTtcbiAgfVxuICBjcm9zcyhvdGhlcjogVmVjdG9yMik6IG51bWJlciB7XG4gICAgcmV0dXJuIFZlY3RvcjIuY3Jvc3ModGhpcywgb3RoZXIpO1xuICB9XG4gIHN0YXRpYyBsZW5SYXcoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coeCwgMikgKyBNYXRoLnBvdyh5LCAyKSk7XG4gIH1cbiAgc3RhdGljIGxlbih1OiBWZWN0b3IyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5sZW5SYXcodS54LCB1LnkpO1xuICB9XG4gIGxlbigpOiBudW1iZXIge1xuICAgIHJldHVybiBWZWN0b3IyLmxlbih0aGlzKTtcbiAgfVxuICBzdGF0aWMgbm9ybWFsaXplUmF3KHg6IG51bWJlciwgeTogbnVtYmVyLCBieTogbnVtYmVyID0gMSk6IFZlY3RvcjIge1xuICAgIGNvbnN0IGNvZWYgPSBieSAvIHRoaXMubGVuUmF3KHgsIHkpO1xuICAgIHJldHVybiB0aGlzLm11bFJhdyh4LCB5LCBjb2VmKTtcbiAgfVxuICBzdGF0aWMgbm9ybWFsaXplKHU6IFZlY3RvcjIsIGJ5OiBudW1iZXIgPSAxKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIHRoaXMubm9ybWFsaXplUmF3KHUueCwgdS55LCBieSk7XG4gIH1cbiAgbm9ybWFsaXplKGJ5OiBudW1iZXIgPSAxKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIFZlY3RvcjIubm9ybWFsaXplKHRoaXMsIGJ5KTtcbiAgfVxuICBzdGF0aWMgZXF1YWxzUmF3KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4geDEgPT09IHgyICYmIHkxID09PSB5MjtcbiAgfVxuICBzdGF0aWMgZXF1YWxzKHU6IFZlY3RvcjIsIHY6IFZlY3RvcjIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5lcXVhbHNSYXcodS54LCB1LnksIHYueCwgdi55KTtcbiAgfVxuICBlcXVhbHMob3RoZXI6IFZlY3RvcjIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gVmVjdG9yMi5lcXVhbHModGhpcywgb3RoZXIpO1xuICB9XG4gIHN0YXRpYyBhZGRSYXcoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IFZlY3RvcjIge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMih4MSArIHgyLCB5MSArIHkyKTtcbiAgfVxuICBzdGF0aWMgYWRkKHU6IFZlY3RvcjIsIHY6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gdGhpcy5hZGRSYXcodS54LCB1LnksIHYueCwgdi55KTtcbiAgfVxuICBhZGQob3RoZXI6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gVmVjdG9yMi5hZGQodGhpcywgb3RoZXIpO1xuICB9XG4gIHN0YXRpYyBzdWJSYXcoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IFZlY3RvcjIge1xuICAgIHJldHVybiBuZXcgVmVjdG9yMih4MSAtIHgyLCB5MSAtIHkyKTtcbiAgfVxuICBzdGF0aWMgc3ViKHU6IFZlY3RvcjIsIHY6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gdGhpcy5zdWJSYXcodS54LCB1LnksIHYueCwgdi55KTtcbiAgfVxuICBzdWIob3RoZXI6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gVmVjdG9yMi5zdWIodGhpcywgb3RoZXIpO1xuICB9XG4gIHN0YXRpYyBtdWxSYXcoeDogbnVtYmVyLCB5OiBudW1iZXIsIGJ5OiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIoeCAqIGJ5LCB5ICogYnkpO1xuICB9XG4gIHN0YXRpYyBtdWwodTogVmVjdG9yMiwgYnk6IG51bWJlcik6IFZlY3RvcjIge1xuICAgIHJldHVybiB0aGlzLm11bFJhdyh1LngsIHUueSwgYnkpO1xuICB9XG4gIG11bChieTogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIFZlY3RvcjIubXVsKHRoaXMsIGJ5KTtcbiAgfVxuICBzdGF0aWMgaW50ZXJzZWN0aW9uVGltZXNSYXcoXG4gICAgZng6IG51bWJlciwgZnk6IG51bWJlciwgdHg6IG51bWJlciwgdHk6IG51bWJlcixcbiAgICBzeDogbnVtYmVyLCBzeTogbnVtYmVyLCBleDogbnVtYmVyLCBleTogbnVtYmVyXG4gICk6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGRldCA9IHRoaXMuY3Jvc3NSYXcodHggLSBmeCwgdHkgLSBmeSwgZXggLSBzeCwgZXkgLSBzeSk7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKFxuICAgICAgdGhpcy5jcm9zc1JhdyhleCAtIHN4LCBleSAtIHN5LCBmeCAtIHN4LCBmeSAtIHN5KSAvIGRldCxcbiAgICAgIHRoaXMuY3Jvc3NSYXcodHggLSBmeCwgdHkgLSBmeSwgZnggLSBzeCwgZnkgLSBzeSkgLyBkZXRcbiAgICApO1xuICB9XG4gIHN0YXRpYyBpbnRlcnNlY3Rpb25UaW1lcyhcbiAgICBmcm9tOiBWZWN0b3IyLCB0bzogVmVjdG9yMiwgc3RhcnQ6IFZlY3RvcjIsIGVuZDogVmVjdG9yMlxuICApOiBWZWN0b3IyIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnNlY3Rpb25UaW1lc1Jhdyhmcm9tLngsIGZyb20ueSwgdG8ueCwgdG8ueSwgc3RhcnQueCwgc3RhcnQueSwgZW5kLngsIGVuZC55KTtcbiAgfVxuICBpbnRlcnNlY3Rpb25UaW1lcyh0bzogVmVjdG9yMiwgc3RhcnQ6IFZlY3RvcjIsIGVuZDogVmVjdG9yMik6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiBWZWN0b3IyLmludGVyc2VjdGlvblRpbWVzKHRoaXMsIHRvLCBzdGFydCwgZW5kKTtcbiAgfVxuICBzdGF0aWMgaW50ZXJzZWN0aW9uUmF3KFxuICAgIGZ4OiBudW1iZXIsIGZ5OiBudW1iZXIsIHR4OiBudW1iZXIsIHR5OiBudW1iZXIsXG4gICAgc3g6IG51bWJlciwgc3k6IG51bWJlciwgZXg6IG51bWJlciwgZXk6IG51bWJlclxuICApOiBWZWN0b3IyIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCB0aW1lcyA9IHRoaXMuaW50ZXJzZWN0aW9uVGltZXNSYXcoZngsIGZ5LCB0eCwgdHksIHN4LCBzeSwgZXgsIGV5KTtcbiAgICBpZiAodGltZXMpIHtcbiAgICAgIHRpbWVzLnkgPSBmeSArICh0eSAtIGZ5KSAqIHRpbWVzLng7XG4gICAgICB0aW1lcy54ID0gZnggKyAodHggLSBmeCkgKiB0aW1lcy54O1xuICAgICAgcmV0dXJuIHRpbWVzO1xuICAgIH1cbiAgfVxuICBzdGF0aWMgaW50ZXJzZWN0aW9uKGZyb206IFZlY3RvcjIsIHRvOiBWZWN0b3IyLCBzdGFydDogVmVjdG9yMiwgZW5kOiBWZWN0b3IyKTogVmVjdG9yMiB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJzZWN0aW9uUmF3KGZyb20ueCwgZnJvbS55LCB0by54LCB0by55LCBzdGFydC54LCBzdGFydC55LCBlbmQueCwgZW5kLnkpO1xuICB9XG4gIGludGVyc2VjdGlvbih0bzogVmVjdG9yMiwgc3RhcnQ6IFZlY3RvcjIsIGVuZDogVmVjdG9yMik6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiBWZWN0b3IyLmludGVyc2VjdGlvbih0aGlzLCB0bywgc3RhcnQsIGVuZCk7XG4gIH1cbiAgYW5nbGUob3RoZXI/OiBWZWN0b3IyKTogbnVtYmVyIHtcbiAgICBpZiAob3RoZXIpIHtcbiAgICAgICBjb25zdCBhMSA9IHRoaXMuYW5nbGUoKTtcbiAgICAgICBjb25zdCBhMiA9IG90aGVyLmFuZ2xlKCk7XG4gICAgICAgaWYgKGEyIDwgYTEpIHtcbiAgICAgICAgcmV0dXJuIGEyICsgMiAqIE1hdGguUEkgLSBhMTtcbiAgICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYTIgLSBhMTtcbiAgICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLnkgPiAwKSB7XG4gICAgICByZXR1cm4gTWF0aC5hY29zKHRoaXMueCAvIHRoaXMubGVuKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gMiAqIE1hdGguUEkgLSBNYXRoLmFjb3ModGhpcy54IC8gdGhpcy5sZW4oKSk7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuL3ZlY3RvcjJcIjtcblxuZXhwb3J0IGNsYXNzIExpbmUge1xuICB2MTogVmVjdG9yMjtcbiAgdjI6IFZlY3RvcjI7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHgxPzogbnVtYmVyLFxuICAgIHkxPzogbnVtYmVyLFxuICAgIHgyPzogbnVtYmVyLFxuICAgIHkyPzogbnVtYmVyXG4gICkge1xuICAgIHRoaXMudjEgPSBuZXcgVmVjdG9yMih4MSwgeTEpO1xuICAgIHRoaXMudjIgPSBuZXcgVmVjdG9yMih4MiwgeTIpO1xuICB9XG4gIGdldCB4MSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnYxLng7XG4gIH1cbiAgZ2V0IHkxKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudjEueTtcbiAgfVxuICBnZXQgeDIoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52Mi54O1xuICB9XG4gIGdldCB5MigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnYyLnk7XG4gIH1cbiAgbGVuKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudjIuc3ViKHRoaXMudjEpLmxlbigpO1xuICB9XG4gIHBvaW50QXQodDogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIHRoaXMudjEuYWRkKHRoaXMudjIuc3ViKHRoaXMudjEpLm11bCh0KSk7XG4gIH1cbiAgYmVmb3JlKHQ6IG51bWJlcik6IFZlY3RvcjIge1xuICAgIHJldHVybiB0aGlzLnYxLmFkZCh0aGlzLnYyLnN1Yih0aGlzLnYxKS5tdWwoLXQgLyB0aGlzLmxlbigpKSk7XG4gIH1cbiAgYWZ0ZXIodDogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgcmV0dXJuIHRoaXMudjEuYWRkKHRoaXMudjIuc3ViKHRoaXMudjEpLm11bCgodGhpcy5sZW4oKSArIHQpIC8gdGhpcy5sZW4oKSkpO1xuICB9XG4gIGludGVyc2VjdGlvblRpbWVzV2l0aChvdGhlcjogTGluZSk6IFZlY3RvcjIge1xuICAgIHJldHVybiB0aGlzLnYxLmludGVyc2VjdGlvblRpbWVzKHRoaXMudjIsIG90aGVyLnYxLCBvdGhlci52Mik7XG4gIH1cbiAgdXBkYXRlKGR4MSA9IDAsIGR5MSA9IDAsIGR4MiA9IDAsIGR5MiA9IDApOiB2b2lkIHtcbiAgICB0aGlzLnYxLnggKz0gZHgxO1xuICAgIHRoaXMudjEueSArPSBkeTE7XG4gICAgdGhpcy52Mi54ICs9IGR4MjtcbiAgICB0aGlzLnYyLnkgKz0gZHkyO1xuICB9XG59IiwiaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL2xpbmVcIjtcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi92ZWN0b3IyXCI7XG5cbmV4cG9ydCBjbGFzcyBQb2x5Z29uIHtcbiAgY29uc3RydWN0b3IocmVhZG9ubHkgdmVydGljZXM6IFZlY3RvcjJbXSA9IFtdKSB7XG5cbiAgfVxuICBwcml2YXRlIGFyZWFCZXR3ZWVuKGk6IG51bWJlciwgajogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gKHRoaXMudmVydGljZXNbal0ueCAtIHRoaXMudmVydGljZXNbaV0ueCkgKiAodGhpcy52ZXJ0aWNlc1tpXS55ICsgdGhpcy52ZXJ0aWNlc1tqXS55KSAvIDI7XG4gIH1cbiAgYXJlYSgpOiBudW1iZXIge1xuICAgIGxldCBhID0gMDtcbiAgICBsZXQgaSA9IHRoaXMudmVydGljZXMubGVuZ3RoIC0gMTtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMudmVydGljZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGEgKz0gdGhpcy5hcmVhQmV0d2VlbihpLCBqKTtcbiAgICAgIGkgPSBqO1xuICAgIH1cbiAgICByZXR1cm4gYTtcbiAgfVxuICBzaGFyZUVkZ2UodTogVmVjdG9yMiwgdjogVmVjdG9yMik6IGJvb2xlYW4ge1xuICAgIGxldCBpID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGggLSAxO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy52ZXJ0aWNlcy5sZW5ndGg7IGorKykge1xuICAgICAgaWYgKHRoaXMudmVydGljZXNbaV0uZXF1YWxzKHUpICYmIHRoaXMudmVydGljZXNbal0uZXF1YWxzKHYpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaSA9IGo7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpbnRlcnNlY3Rpb25XaXRoKGxpbmU6IExpbmUpIHtcbiAgICBcbiAgfVxufSIsImltcG9ydCB7IFBvbHBsb3RSZW5kZXJlciB9IGZyb20gXCIuL2ludGVyZmFjZXMvcG9scGxvdC1yZW5kZXJlclwiO1xuaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL2xpbmVcIjtcbmltcG9ydCB7IFBvbHlnb24gfSBmcm9tIFwiLi9wb2x5Z29uXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4vdmVjdG9yMlwiO1xuXG5leHBvcnQgY2xhc3MgUG9sUGxvdCB7XG4gIGxpbmVzOiBMaW5lW10gPSBbXTtcbiAgaW50ZXJzZWN0aW9uVGltZXM6IG51bWJlcltdW10gPSBbXTtcbiAgaW50ZXJzZWN0aW9uUG9pbnRzOiBWZWN0b3IyW11bXSA9IFtdO1xuICBjb25zdHJ1Y3RvcihyZWFkb25seSByZW5kZXJlcjogUG9scGxvdFJlbmRlcmVyKSB7XG4gICAgbGV0IGRyYWdnZWRMaW5lOiBMaW5lO1xuICAgIGxldCBkcmFnZ2VkVmVjdG9yMjogVmVjdG9yMjtcblxuICAgIHRoaXMucmVuZGVyZXIuc2V0TW91c2VEb3duSGFuZGxlcigoZXZlbnQsIGNsaWNrZWRMaW5lLCBjbGlja2VkVmVjdG9yMikgPT4ge1xuICAgICAgZHJhZ2dlZExpbmUgPSBjbGlja2VkTGluZSB8fCBudWxsO1xuICAgICAgZHJhZ2dlZFZlY3RvcjIgPSBjbGlja2VkVmVjdG9yMiB8fCBudWxsO1xuICAgICAgaWYgKCFkcmFnZ2VkTGluZSkge1xuICAgICAgICBkcmFnZ2VkTGluZSA9IG5ldyBMaW5lKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFksIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xuICAgICAgICBkcmFnZ2VkVmVjdG9yMiA9IGRyYWdnZWRMaW5lLnYyO1xuICAgICAgICB0aGlzLmFkZExpbmUoZHJhZ2dlZExpbmUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbGV0IHNlbGVjdGVkTGluZTogTGluZTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldE1vdXNlVXBIYW5kbGVyKChldmVudCwgY2xpY2tlZExpbmUsIGNsaWNrZWRWZWN0b3IyKSA9PiB7XG4gICAgICBpZiAoY2xpY2tlZExpbmUpIHtcbiAgICAgICAgaWYgKHNlbGVjdGVkTGluZSAmJiBzZWxlY3RlZExpbmUgIT09IGNsaWNrZWRMaW5lKSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlci5kcmF3TGluZShzZWxlY3RlZExpbmUsIGNsaWNrZWRMaW5lID09PSBob3ZlcmVkTGluZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGVjdGVkTGluZSA9IGNsaWNrZWRMaW5lO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmRyYXdMaW5lKHNlbGVjdGVkTGluZSwgY2xpY2tlZExpbmUgPT09IGhvdmVyZWRMaW5lLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRMaW5lKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd0xpbmUoc2VsZWN0ZWRMaW5lLCBjbGlja2VkTGluZSA9PT0gaG92ZXJlZExpbmUsIGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIGRyYWdnZWRMaW5lID0gbnVsbDtcbiAgICAgIGRyYWdnZWRWZWN0b3IyID0gbnVsbDtcbiAgICB9KTtcblxuICAgIGxldCBob3ZlcmVkTGluZTogTGluZTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldE1vdXNlTW92ZUhhbmRsZXIoKGV2ZW50LCBjbGlja2VkTGluZSwgY2xpY2tlZFZlY3RvcjIpID0+IHtcbiAgICAgIGlmIChjbGlja2VkTGluZSkge1xuICAgICAgICBpZiAoaG92ZXJlZExpbmUgJiYgaG92ZXJlZExpbmUgIT09IGNsaWNrZWRMaW5lKSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlci5kcmF3TGluZShob3ZlcmVkTGluZSwgZmFsc2UsIGNsaWNrZWRMaW5lID09PSBzZWxlY3RlZExpbmUpO1xuICAgICAgICB9XG4gICAgICAgIGhvdmVyZWRMaW5lID0gY2xpY2tlZExpbmU7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd0xpbmUoaG92ZXJlZExpbmUsIHRydWUsIGNsaWNrZWRMaW5lID09PSBzZWxlY3RlZExpbmUpOyBcbiAgICAgIH0gZWxzZSBpZiAoaG92ZXJlZExpbmUpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5kcmF3TGluZShob3ZlcmVkTGluZSwgZmFsc2UsIGNsaWNrZWRMaW5lID09PSBzZWxlY3RlZExpbmUpO1xuICAgICAgICBob3ZlcmVkTGluZSA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoZHJhZ2dlZExpbmUpIHtcbiAgICAgICAgaWYgKGRyYWdnZWRWZWN0b3IyKSB7XG4gICAgICAgICAgZHJhZ2dlZFZlY3RvcjIueCA9IGV2ZW50LmNsaWVudFg7XG4gICAgICAgICAgZHJhZ2dlZFZlY3RvcjIueSA9IGV2ZW50LmNsaWVudFk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZHJhZ2dlZExpbmUudXBkYXRlKGV2ZW50Lm1vdmVtZW50WCwgZXZlbnQubW92ZW1lbnRZLCBldmVudC5tb3ZlbWVudFgsIGV2ZW50Lm1vdmVtZW50WSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVJbnRlcnNlY3Rpb25UaW1lcyhkcmFnZ2VkTGluZSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd0xpbmUoZHJhZ2dlZExpbmUsIGRyYWdnZWRMaW5lID09PSBob3ZlcmVkTGluZSwgZHJhZ2dlZExpbmUgPT09IHNlbGVjdGVkTGluZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgYWRkTGluZShsaW5lOiBMaW5lKTogdm9pZCB7XG4gICAgdGhpcy5hZGRJbnRlcnNlY3Rpb25UaW1lcyhsaW5lKTtcbiAgICB0aGlzLmxpbmVzLnB1c2gobGluZSk7XG4gICAgdGhpcy5yZW5kZXJlci5kcmF3TGluZShsaW5lLCBmYWxzZSwgZmFsc2UpO1xuICB9XG4gIGFkZEludGVyc2VjdGlvblRpbWVzKGxpbmU6IExpbmUpOiB2b2lkIHtcbiAgICBjb25zdCBpbnRlcnNlY3Rpb25UaW1lczogbnVtYmVyW10gPSBbXTtcbiAgICBjb25zdCBpbnRlcnNlY3Rpb25Qb2ludHM6IFZlY3RvcjJbXSA9IFtdO1xuICAgIGxldCB0aW1lczogVmVjdG9yMjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRpbWVzID0gdGhpcy5saW5lc1tpXS5pbnRlcnNlY3Rpb25UaW1lc1dpdGgobGluZSk7XG4gICAgICB0aGlzLmludGVyc2VjdGlvblRpbWVzW2ldLnB1c2godGltZXMueCk7XG4gICAgICB0aGlzLmludGVyc2VjdGlvblBvaW50c1tpXS5wdXNoKFxuICAgICAgICAwIDw9IHRpbWVzLnggJiYgdGltZXMueCA8PSAxICYmIDAgPD0gdGltZXMueSAmJiB0aW1lcy55IDw9IDFcbiAgICAgICAgICA/IHRoaXMubGluZXNbaV0udjEuYWRkKHRoaXMubGluZXNbaV0udjIuc3ViKHRoaXMubGluZXNbaV0udjEpLm11bCh0aW1lcy54KSlcbiAgICAgICAgICA6IG51bGxcbiAgICAgICk7XG4gICAgICBpbnRlcnNlY3Rpb25UaW1lcy5wdXNoKHRpbWVzLnkpO1xuICAgICAgaW50ZXJzZWN0aW9uUG9pbnRzLnB1c2gobnVsbCk7XG4gICAgfVxuICAgIGludGVyc2VjdGlvblRpbWVzLnB1c2goTmFOKTtcbiAgICBpbnRlcnNlY3Rpb25Qb2ludHMucHVzaChudWxsKTtcbiAgICB0aGlzLmludGVyc2VjdGlvblRpbWVzLnB1c2goaW50ZXJzZWN0aW9uVGltZXMpO1xuICAgIHRoaXMuaW50ZXJzZWN0aW9uUG9pbnRzLnB1c2goaW50ZXJzZWN0aW9uUG9pbnRzKTtcbiAgICB0aGlzLnJlbmRlckludGVyc2VjdGlvbnMoKTtcbiAgfVxuICB1cGRhdGVJbnRlcnNlY3Rpb25UaW1lcyhsaW5lOiBMaW5lKTogdm9pZCB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmxpbmVzLmluZGV4T2YobGluZSk7XG4gICAgbGV0IHRpbWVzOiBWZWN0b3IyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGkgIT09IGluZGV4KSB7XG4gICAgICAgIHRpbWVzID0gdGhpcy5saW5lc1tpXS5pbnRlcnNlY3Rpb25UaW1lc1dpdGgobGluZSk7XG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uVGltZXNbaV1baW5kZXhdID0gdGltZXMueDtcbiAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25UaW1lc1tpbmRleF1baV0gPSB0aW1lcy55O1xuICAgICAgICBpZiAoaSA8IGluZGV4KSB7XG4gICAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25Qb2ludHNbaV1baW5kZXhdID0gMCA8PSB0aW1lcy54ICYmIHRpbWVzLnggPD0gMSAmJiAwIDw9IHRpbWVzLnkgJiYgdGltZXMueSA8PSAxXG4gICAgICAgICAgICA/IHRoaXMubGluZXNbaV0udjEuYWRkKHRoaXMubGluZXNbaV0udjIuc3ViKHRoaXMubGluZXNbaV0udjEpLm11bCh0aW1lcy54KSlcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmludGVyc2VjdGlvblBvaW50c1tpbmRleF1baV0gPSAwIDw9IHRpbWVzLnggJiYgdGltZXMueCA8PSAxICYmIDAgPD0gdGltZXMueSAmJiB0aW1lcy55IDw9IDFcbiAgICAgICAgICAgID8gdGhpcy5saW5lc1tpXS52MS5hZGQodGhpcy5saW5lc1tpXS52Mi5zdWIodGhpcy5saW5lc1tpXS52MSkubXVsKHRpbWVzLngpKVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVuZGVySW50ZXJzZWN0aW9ucygpO1xuICB9XG4gIHJlbmRlckludGVyc2VjdGlvbnMoKTogdm9pZCB7XG4gICAgdGhpcy5yZW5kZXJlci5jbGVhckludGVyc2VjdGlvbnMoKTtcbiAgICB0aGlzLmludGVyc2VjdGlvblBvaW50cy5mb3JFYWNoKGludGVyc2VjdGlvblBvaW50cyA9PiB7XG4gICAgICBpbnRlcnNlY3Rpb25Qb2ludHMuZm9yRWFjaChpbnRlcnNlY3Rpb25Qb2ludCA9PiB7XG4gICAgICAgIGlmIChpbnRlcnNlY3Rpb25Qb2ludCkge1xuICAgICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd1BvaW50KGludGVyc2VjdGlvblBvaW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5yZW5kZXJlci5jbGVhclBvbHlnb25zKCk7XG4gICAgdGhpcy5idWlsZFBvbHlnb25zRnJvbUludGVyc2VjdGlvblRpbWVzKClcbiAgICAgIC5mb3JFYWNoKHBvbHlnb24gPT4gdGhpcy5yZW5kZXJlci5kcmF3UG9seWdvbihwb2x5Z29uKSk7XG4gIH1cbiAgdGVzdFNpZGUodTogVmVjdG9yMiwgdjogVmVjdG9yMiwgdzogVmVjdG9yMik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB2LnN1Yih1KS5jcm9zcyh3LnN1Yih1KSkgPiAwO1xuICB9XG4gIGJ1aWxkUG9seWdvbnNGcm9tSW50ZXJzZWN0aW9uVGltZXMoKTogUG9seWdvbltdIHtcbiAgICAvLyBjb25zb2xlLmxvZygnYnVpbGRQb2x5Z29uc0Zyb21JbnRlcnNlY3Rpb25UaW1lcycpO1xuICAgIC8vIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7XG4gICAgY29uc3QgaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5ID0gdGhpcy5pbnRlcnNlY3Rpb25UaW1lc1xuICAgICAgLm1hcCgoaW50ZXJzZWN0aW9uVGltZXMsIGkpID0+IHtcbiAgICAgICAgcmV0dXJuIGludGVyc2VjdGlvblRpbWVzXG4gICAgICAgICAgLm1hcCgoXywgaikgPT4gailcbiAgICAgICAgICAuZmlsdGVyKGogPT4ge1xuICAgICAgICAgICAgcmV0dXJuICFpc05hTihpbnRlcnNlY3Rpb25UaW1lc1tqXSkgJiYgMCA8PSBpbnRlcnNlY3Rpb25UaW1lc1tqXSAmJiBpbnRlcnNlY3Rpb25UaW1lc1tqXSA8PSAxICYmXG4gICAgICAgICAgICAgICFpc05hTih0aGlzLmludGVyc2VjdGlvblRpbWVzW2pdW2ldKSAmJiAwIDw9IHRoaXMuaW50ZXJzZWN0aW9uVGltZXNbal1baV0gJiYgdGhpcy5pbnRlcnNlY3Rpb25UaW1lc1tqXVtpXSA8PSAxO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnNvcnQoKGksIGopID0+IGludGVyc2VjdGlvblRpbWVzW2ldIC0gaW50ZXJzZWN0aW9uVGltZXNbal0pO1xuICAgICAgfSk7XG4gICAgY29uc3QgcG9seWdvbnM6IFBvbHlnb25bXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtpXS5sZW5ndGggLSAxOyBqKyspIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXG4gICAgICAgIC8vICAgJ2xvb2tpbmcgZm9yIHBvbHlnb24gb24gbGluZScsIGksXG4gICAgICAgIC8vICAgJ2Zyb20gaW50ZXJzZWN0aW9uIHdpdGgnLCBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbaV1bal0sXG4gICAgICAgIC8vICAgJ3RvIGludGVyc2VjdGlvbiB3aXRoJywgaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2ldW2ogKyAxXVxuICAgICAgICAvLyApO1xuICAgICAgICBsZXQgcGs6IG51bWJlcjtcbiAgICAgICAgbGV0IHBsOiBudW1iZXI7XG4gICAgICAgIGxldCBrID0gaTtcbiAgICAgICAgbGV0IGwgPSBqO1xuICAgICAgICBjb25zdCBwb2x5Z29uOiBWZWN0b3IyW10gPSBbXG4gICAgICAgICAgLy8gZmlyc3QgcG9pbnQgb24gb3JpZ2luYWwgbGluZVxuICAgICAgICAgIHRoaXMubGluZXNba10ucG9pbnRBdCh0aGlzLmludGVyc2VjdGlvblRpbWVzW2tdW2ludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtrXVtsXV0pLFxuICAgICAgICAgIC8vIHNlY29uZCBwb2ludCBvbiBvcmlnaW5hbCBsaW5lICh0aGUgbmV4dCBpbnRlcnNlY3Rpb24pXG4gICAgICAgICAgdGhpcy5saW5lc1trXS5wb2ludEF0KHRoaXMuaW50ZXJzZWN0aW9uVGltZXNba11baW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2tdW2wgKyAxXV0pLFxuICAgICAgICBdO1xuICAgICAgICAvLyBza2lwIGlmIGN1cnJlbnQgZWRnZSBpcyBhbHJlYWR5IG9uIGFuIG90aGVyIHBvbHlnb25cbiAgICAgICAgaWYgKHBvbHlnb25zLnNvbWUocCA9PiBwLnNoYXJlRWRnZShwb2x5Z29uWzBdLCBwb2x5Z29uWzFdKSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBsICs9IDE7XG4gICAgICAgIGxldCBJID0gMDtcbiAgICAgICAgbGV0IGNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAodHJ1ZSAmJiBJKysgPCAxZTIpIHtcbiAgICAgICAgICBwayA9IGs7XG4gICAgICAgICAgcGwgPSBsO1xuICAgICAgICAgIC8vIHN3aXRjaCB0byB0aGUgbGluZSBpbnRlcnNlY3RlZCBhdCBwcmV2aW91cyBwb2ludFxuICAgICAgICAgIGsgPSBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlba11bbF07XG4gICAgICAgICAgaWYgKHR5cGVvZiBrICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2sgaXMgbm90IGEgbnVtYmVyJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gcmV0cmlldmUgdGhlIGluZGV4IG9mIHByZXZpb3VzIGludGVyc2VjdGlvbiBvbiBuZXcgbGluZVxuICAgICAgICAgIGwgPSBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlba10uZmluZEluZGV4KG0gPT4gbSA9PT0gcGspO1xuICAgICAgICAgIGlmICh0eXBlb2YgbCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignZXJyb3InKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ21vdmluZyB0byBsaW5lJywgaywgJ2F0IGludGVyc2VjdGlvbiB3aXRoJywgaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2tdW2xdKTtcbiAgICAgICAgICAvLyBvcHRpb25uYWxseVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIDAgPCBsICYmIHRoaXMudGVzdFNpZGUoXG4gICAgICAgICAgICAgIHBvbHlnb25bcG9seWdvbi5sZW5ndGggLSAyXSxcbiAgICAgICAgICAgICAgcG9seWdvbltwb2x5Z29uLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgICB0aGlzLmxpbmVzW2tdLnBvaW50QXQodGhpcy5pbnRlcnNlY3Rpb25UaW1lc1trXVtpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlba11bbCAtIDFdXSksXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBsIC09IDE7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIGwgPCBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlba10ubGVuZ3RoIC0gMSAmJiB0aGlzLnRlc3RTaWRlKFxuICAgICAgICAgICAgICBwb2x5Z29uW3BvbHlnb24ubGVuZ3RoIC0gMl0sXG4gICAgICAgICAgICAgIHBvbHlnb25bcG9seWdvbi5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgICAgdGhpcy5saW5lc1trXS5wb2ludEF0KHRoaXMuaW50ZXJzZWN0aW9uVGltZXNba11baW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2tdW2wgKyAxXV0pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgbCArPSAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbm8gcHJldiBvciBuZXh0IG9uIGxpbmUnLCBrKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwb2x5Z29uLnB1c2godGhpcy5saW5lc1trXS5wb2ludEF0KHRoaXMuaW50ZXJzZWN0aW9uVGltZXNba11baW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2tdW2xdXSkpO1xuICAgICAgICAgIC8vIGlmIGxhc3QgcHVzaGVkIHBvaW50IGlzIGVxdWFscyB0byB0aGUgZmlyc3QsIGNsb3NlZCB0aGUgcG9seWdvblxuICAgICAgICAgIGlmIChwb2x5Z29uWzBdLmVxdWFscyhwb2x5Z29uW3BvbHlnb24ubGVuZ3RoIC0gMV0pKSB7XG4gICAgICAgICAgICBwb2x5Z29uLnBvcCgpO1xuICAgICAgICAgICAgY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoSSA9PT0gMWUyKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCd0b28gbWFueSBsb29wcycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbG9zZWQpIHtcbiAgICAgICAgICBwb2x5Z29ucy5wdXNoKG5ldyBQb2x5Z29uKHBvbHlnb24pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcG9seWdvbnM7XG4gIH1cbn0iLCJpbXBvcnQgeyBDbGlja0hhbmRsZXIsIFBvbHBsb3RSZW5kZXJlciB9IGZyb20gXCIuL2ludGVyZmFjZXMvcG9scGxvdC1yZW5kZXJlclwiO1xuaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL2xpbmVcIjtcbmltcG9ydCB7IFBvbHlnb24gfSBmcm9tIFwiLi9wb2x5Z29uXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4vdmVjdG9yMlwiO1xuXG5jb25zdCBnVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcbmdUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdibGFjaycpO1xuZ1RlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzAuNHB4Jyk7XG5cbmNvbnN0IGxpbmVUZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnbGluZScpO1xubGluZVRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hhcnJheScsICcxMCwgNCwgMSwgNCcpO1xuXG5jb25zdCBhbmNob3JUZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuYW5jaG9yVGVtcGxhdGUuc2V0QXR0cmlidXRlKFxuICAnZCcsXG4gICdNIDAsIDAnICtcbiAgJ0EgMTAsIDEwLCAwLCAwLCAwLCAtNSwgLTUnICsgXG4gICdBIDEwLCAxMCwgMCwgMSwgMSwgNSwgLTUnICtcbiAgJ0EgMTAsIDEwLCAwLCAwLCAwLCAwLCAwJ1xuKTtcbmFuY2hvclRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnZmlsbCcsICd3aGl0ZScpO1xuXG5nVGVtcGxhdGUuYXBwZW5kQ2hpbGQobGluZVRlbXBsYXRlKTtcbmdUZW1wbGF0ZS5hcHBlbmRDaGlsZChhbmNob3JUZW1wbGF0ZSk7XG5nVGVtcGxhdGUuYXBwZW5kQ2hpbGQoYW5jaG9yVGVtcGxhdGUuY2xvbmVOb2RlKCkpO1xuXG5jb25zdCBwb2ludFRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdjaXJjbGUnKTtcbnBvaW50VGVtcGxhdGUuc2V0QXR0cmlidXRlKCdmaWxsJywgJ2dyZWVuJyk7XG5wb2ludFRlbXBsYXRlLnNldEF0dHJpYnV0ZSgncicsICczJyk7XG5cbmNvbnN0IHBvbHlnb25UZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xucG9seWdvblRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdncmVlbicpO1xucG9seWdvblRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzMnKTtcbnBvbHlnb25UZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdncmV5Jyk7XG5cbmV4cG9ydCBjbGFzcyBTdmdSZW5kZXJlciBpbXBsZW1lbnRzIFBvbHBsb3RSZW5kZXJlciB7XG4gIHJlYWRvbmx5IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XG4gIHByaXZhdGUgaW50ZXJzZWN0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyk7XG4gIHByaXZhdGUgcG9seWdvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xuICBwcml2YXRlIHN2Z0dCeUxpbmUgPSBuZXcgTWFwPExpbmUsIFNWR0dFbGVtZW50PigpO1xuICBwcml2YXRlIGxpbmVCeVN2Z0cgPSBuZXcgTWFwPFNWR0dFbGVtZW50LCBMaW5lPigpO1xuICBwcml2YXRlIG9uTW91c2VEb3duOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IGFueTtcbiAgcHJpdmF0ZSBvbk1vdXNlVXA6IChldmVudDogTW91c2VFdmVudCkgPT4gYW55O1xuICBwcml2YXRlIG9uTW91c2VNb3ZlOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IGFueTtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQodGhpcy5pbnRlcnNlY3Rpb25Db250YWluZXIpO1xuICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKHRoaXMucG9seWdvbkNvbnRhaW5lcik7XG4gIH1cbiAgY2xpY2tIYW5kbGVyV3JhcHBlcihjbGlja0hhbmRsZXI6IENsaWNrSGFuZGxlcik6IChldmVudDogTW91c2VFdmVudCkgPT4gYW55IHtcbiAgICByZXR1cm4gZXZlbnQgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudEF0ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgICAgIGNvbnN0IGxpbmUgPSB0aGlzLmxpbmVCeVN2Z0cuZ2V0KGVsZW1lbnRBdC5wYXJlbnROb2RlIGFzIFNWR0dFbGVtZW50KTtcbiAgICAgIGlmIChlbGVtZW50QXQgaW5zdGFuY2VvZiBTVkdQYXRoRWxlbWVudCAmJiBlbGVtZW50QXQucGFyZW50Tm9kZSAhPT0gdGhpcy5wb2x5Z29uQ29udGFpbmVyKSB7XG4gICAgICAgIGlmIChlbGVtZW50QXQucGFyZW50Tm9kZS5jaGlsZHJlblsxXSA9PT0gZWxlbWVudEF0KSB7XG4gICAgICAgICAgY2xpY2tIYW5kbGVyKGV2ZW50LCBsaW5lLCBsaW5lLnYxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbGlja0hhbmRsZXIoZXZlbnQsIGxpbmUsIGxpbmUudjIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGVsZW1lbnRBdCBpbnN0YW5jZW9mIFNWR0xpbmVFbGVtZW50KSB7XG4gICAgICAgIGNsaWNrSGFuZGxlcihldmVudCwgbGluZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGlja0hhbmRsZXIoZXZlbnQpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgc2V0TW91c2VEb3duSGFuZGxlcihjbGlja0hhbmRsZXI6IENsaWNrSGFuZGxlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLm9uTW91c2VEb3duKSB7XG4gICAgICB0aGlzLnN2Zy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duKTtcbiAgICB9XG4gICAgdGhpcy5vbk1vdXNlRG93biA9IHRoaXMuY2xpY2tIYW5kbGVyV3JhcHBlcihjbGlja0hhbmRsZXIpO1xuICAgIHRoaXMuc3ZnLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24pO1xuICB9XG4gIHNldE1vdXNlVXBIYW5kbGVyKGNsaWNrSGFuZGxlcjogQ2xpY2tIYW5kbGVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMub25Nb3VzZVVwKSB7XG4gICAgICB0aGlzLnN2Zy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXApO1xuICAgIH1cbiAgICB0aGlzLm9uTW91c2VVcCA9IHRoaXMuY2xpY2tIYW5kbGVyV3JhcHBlcihjbGlja0hhbmRsZXIpO1xuICAgIHRoaXMuc3ZnLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uTW91c2VVcCk7XG4gIH1cbiAgc2V0TW91c2VNb3ZlSGFuZGxlcihjbGlja0hhbmRsZXI6IENsaWNrSGFuZGxlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLm9uTW91c2VNb3ZlKSB7XG4gICAgICB0aGlzLnN2Zy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlKTtcbiAgICB9XG4gICAgdGhpcy5vbk1vdXNlTW92ZSA9IHRoaXMuY2xpY2tIYW5kbGVyV3JhcHBlcihjbGlja0hhbmRsZXIpO1xuICAgIHRoaXMuc3ZnLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUpO1xuICB9XG4gIGRyYXdMaW5lKGxpbmU6IExpbmUsIGlzSG92ZXJlZCA9IGZhbHNlLCBpc1NlbGVjdGVkID0gZmFsc2UpOiB2b2lkIHtcbiAgICBsZXQgc3ZnRzogU1ZHR0VsZW1lbnQ7XG4gICAgaWYgKCF0aGlzLnN2Z0dCeUxpbmUuaGFzKGxpbmUpKSB7XG4gICAgICBzdmdHID0gZ1RlbXBsYXRlLmNsb25lTm9kZSh0cnVlKSBhcyBTVkdHRWxlbWVudDtcbiAgICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKHN2Z0cpO1xuICAgICAgdGhpcy5zdmdHQnlMaW5lLnNldChsaW5lLCBzdmdHKTtcbiAgICAgIHRoaXMubGluZUJ5U3ZnRy5zZXQoc3ZnRywgbGluZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN2Z0cgPSB0aGlzLnN2Z0dCeUxpbmUuZ2V0KGxpbmUpO1xuICAgIH1cbiAgICBjb25zdCBzdmdMaW5lID0gc3ZnRy5jaGlsZHJlblswXSBhcyBTVkdMaW5lRWxlbWVudDtcbiAgICBjb25zdCBzdmdQYXRoQW5jaG9yU3RhcnQgPSBzdmdHLmNoaWxkcmVuWzFdIGFzIFNWR1BhdGhFbGVtZW50O1xuICAgIGNvbnN0IHN2Z1BhdGhBbmNob3JFbmQgPSBzdmdHLmNoaWxkcmVuWzJdIGFzIFNWR1BhdGhFbGVtZW50O1xuICAgIGNvbnN0IHgxID0gbGluZS54MS50b0ZpeGVkKCk7XG4gICAgY29uc3QgeTEgPSBsaW5lLnkxLnRvRml4ZWQoKTtcbiAgICBjb25zdCB4MiA9IGxpbmUueDIudG9GaXhlZCgpO1xuICAgIGNvbnN0IHkyID0gbGluZS55Mi50b0ZpeGVkKCk7XG4gICAgc3ZnTGluZS5zZXRBdHRyaWJ1dGUoJ3gxJywgeDEpO1xuICAgIHN2Z0xpbmUuc2V0QXR0cmlidXRlKCd5MScsIHkxKTtcbiAgICBzdmdMaW5lLnNldEF0dHJpYnV0ZSgneDInLCB4Mik7XG4gICAgc3ZnTGluZS5zZXRBdHRyaWJ1dGUoJ3kyJywgeTIpO1xuICAgIGlmIChpc0hvdmVyZWQpIHtcbiAgICAgIHN2Z0cuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMC44cHgnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3ZnRy5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICcwLjRweCcpO1xuICAgIH1cbiAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgc3ZnRy5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICcjMTlhMTk0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN2Z0cuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcbiAgICB9XG4gICAgY29uc3QgYW5nbGUgPSAxODAgKiAobGluZS52Mi5zdWIobGluZS52MSkuYW5nbGUoKSAtIE1hdGguUEkgLyAyKSAvIE1hdGguUEk7XG4gICAgc3ZnUGF0aEFuY2hvclN0YXJ0LnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3gxfSwgJHt5MX0pIHJvdGF0ZSgke2lzTmFOKGFuZ2xlKSA/IDAgOiBhbmdsZX0pYCk7XG4gICAgc3ZnUGF0aEFuY2hvckVuZC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt4Mn0sICR7eTJ9KSByb3RhdGUoJHtpc05hTihhbmdsZSkgPyAwIDogMTgwICsgYW5nbGV9KWApO1xuICB9XG4gIGVyYXNlTGluZShsaW5lOiBMaW5lKTogdm9pZCB7XG4gICAgY29uc3Qgc3ZnRyA9IHRoaXMuc3ZnR0J5TGluZS5nZXQobGluZSk7XG4gICAgaWYgKHN2Z0cpIHtcbiAgICAgIHRoaXMuc3ZnLnJlbW92ZUNoaWxkKHN2Z0cpO1xuICAgICAgdGhpcy5zdmdHQnlMaW5lLmRlbGV0ZShsaW5lKTtcbiAgICB9XG4gIH1cbiAgZHJhd1BvaW50KHBvaW50OiBWZWN0b3IyKTogdm9pZCB7XG4gICAgY29uc3Qgc3ZnQ2lyY2xlID0gcG9pbnRUZW1wbGF0ZS5jbG9uZU5vZGUoKSBhcyBTVkdDaXJjbGVFbGVtZW50O1xuICAgIHN2Z0NpcmNsZS5zZXRBdHRyaWJ1dGUoJ2N4JywgcG9pbnQueC50b0ZpeGVkKCkpO1xuICAgIHN2Z0NpcmNsZS5zZXRBdHRyaWJ1dGUoJ2N5JywgcG9pbnQueS50b0ZpeGVkKCkpO1xuICAgIHRoaXMuaW50ZXJzZWN0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKHN2Z0NpcmNsZSk7XG4gIH1cbiAgY2xlYXJJbnRlcnNlY3Rpb25zKCk6IHZvaWQge1xuICAgIHRoaXMuaW50ZXJzZWN0aW9uQ29udGFpbmVyLmNoaWxkTm9kZXMuZm9yRWFjaChjaGlsZE5vZGUgPT4gdGhpcy5pbnRlcnNlY3Rpb25Db250YWluZXIucmVtb3ZlQ2hpbGQoY2hpbGROb2RlKSk7XG4gIH1cbiAgZHJhd1BvbHlnb24ocG9seWdvbjogUG9seWdvbik6IHZvaWQge1xuICAgIGNvbnN0IHN2Z1BhdGggPSBwb2x5Z29uVGVtcGxhdGUuY2xvbmVOb2RlKCkgYXMgU1ZHUGF0aEVsZW1lbnQ7XG4gICAgc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoJ2QnLCAnTScgKyBwb2x5Z29uLnZlcnRpY2VzLm1hcCh2ID0+IGAke3YueH0gJHt2Lnl9YCkuam9pbignIEwgJykgKyAnWicpO1xuICAgIHN2Z1BhdGguc2V0QXR0cmlidXRlKCdmaWxsJywgJyMnICsgKE1hdGguZmxvb3IoMTY3NzcyMTUgKiBNYXRoLnJhbmRvbSgpKSkudG9TdHJpbmcoMTYpKTtcbiAgICB0aGlzLnBvbHlnb25Db250YWluZXIuYXBwZW5kQ2hpbGQoc3ZnUGF0aCk7XG4gIH1cbiAgY2xlYXJQb2x5Z29ucygpOiB2b2lkIHtcbiAgICB0aGlzLnBvbHlnb25Db250YWluZXIuY2hpbGROb2Rlcy5mb3JFYWNoKGNoaWxkTm9kZSA9PiB0aGlzLnBvbHlnb25Db250YWluZXIucmVtb3ZlQ2hpbGQoY2hpbGROb2RlKSk7XG4gIH1cbn0iLCJpbXBvcnQgeyBQb2xQbG90IH0gZnJvbSBcIi4vcG9scGxvdFwiO1xuaW1wb3J0IHsgU3ZnUmVuZGVyZXIgfSBmcm9tIFwiLi9zdmctcmVuZGVyZXJcIjtcblxuY29uc3Qgc3ZnUmVuZGVyZXIgPSBuZXcgU3ZnUmVuZGVyZXIoKTtcbmNvbnN0IHBvbHBsb3QgPSBuZXcgUG9sUGxvdChzdmdSZW5kZXJlcik7XG5jb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuYm9keS5hcHBlbmRDaGlsZChzdmdSZW5kZXJlci5zdmcpOyJdLCJzb3VyY2VSb290IjoiIn0=