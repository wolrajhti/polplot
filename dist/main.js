(()=>{"use strict";var t=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.dotRaw=function(t,e,n,i){return t*n+e*i},t.dot=function(t,e){return this.dotRaw(t.x,t.y,e.x,e.y)},t.prototype.dot=function(e){return t.dot(this,e)},t.crossRaw=function(t,e,n,i){return t*i-n*e},t.cross=function(t,e){return this.crossRaw(t.x,t.y,e.x,e.y)},t.prototype.cross=function(e){return t.cross(this,e)},t.len2Raw=function(t,e){return Math.pow(t,2)+Math.pow(e,2)},t.len2=function(t){return this.len2Raw(t.x,t.y)},t.prototype.len2=function(){return t.len2(this)},t.lenRaw=function(t,e){return Math.sqrt(this.len2Raw(t,e))},t.len=function(t){return this.lenRaw(t.x,t.y)},t.prototype.len=function(){return t.len(this)},t.normalizeRaw=function(t,e,n){void 0===n&&(n=1);var i=n/this.lenRaw(t,e);return this.mulRaw(t,e,i)},t.normalize=function(t,e){return void 0===e&&(e=1),this.normalizeRaw(t.x,t.y,e)},t.prototype.normalize=function(e){return void 0===e&&(e=1),t.normalize(this,e)},t.equalsRaw=function(t,e,n,i){return t===n&&e===i},t.equals=function(t,e){return this.equalsRaw(t.x,t.y,e.x,e.y)},t.prototype.equals=function(e){return t.equals(this,e)},t.addRaw=function(e,n,i,r){return new t(e+i,n+r)},t.add=function(t,e){return this.addRaw(t.x,t.y,e.x,e.y)},t.prototype.add=function(e){return t.add(this,e)},t.subRaw=function(e,n,i,r){return new t(e-i,n-r)},t.sub=function(t,e){return this.subRaw(t.x,t.y,e.x,e.y)},t.prototype.sub=function(e){return t.sub(this,e)},t.mulRaw=function(e,n,i){return new t(e*i,n*i)},t.mul=function(t,e){return this.mulRaw(t.x,t.y,e)},t.prototype.mul=function(e){return t.mul(this,e)},t.intersectionTimesRaw=function(e,n,i,r,s,o,u,a){var h=this.crossRaw(i-e,r-n,u-s,a-o);return new t(this.crossRaw(u-s,a-o,e-s,n-o)/h,this.crossRaw(i-e,r-n,e-s,n-o)/h)},t.intersectionTimes=function(t,e,n,i){return this.intersectionTimesRaw(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)},t.prototype.intersectionTimes=function(e,n,i){return t.intersectionTimes(this,e,n,i)},t.intersectionRaw=function(t,e,n,i,r,s,o,u){var a=this.intersectionTimesRaw(t,e,n,i,r,s,o,u);if(a)return a.y=e+(i-e)*a.x,a.x=t+(n-t)*a.x,a},t.intersection=function(t,e,n,i){return this.intersectionRaw(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)},t.prototype.intersection=function(e,n,i){return t.intersection(this,e,n,i)},t.prototype.angle=function(t){if(t){var e=this.angle(),n=t.angle();return n<e?n+2*Math.PI-e:n-e}return this.y>0?Math.acos(this.x/this.len()):2*Math.PI-Math.acos(this.x/this.len())},t}(),e=function(){function e(e,n,i,r){this.v1=new t(e,n),this.v2=new t(i,r)}return Object.defineProperty(e.prototype,"x1",{get:function(){return this.v1.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this.v1.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x2",{get:function(){return this.v2.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y2",{get:function(){return this.v2.y},enumerable:!1,configurable:!0}),e.prototype.len=function(){return this.v2.sub(this.v1).len()},e.prototype.pointAt=function(t){return this.v1.add(this.v2.sub(this.v1).mul(t))},e.prototype.before=function(t){return this.v1.add(this.v2.sub(this.v1).mul(-t/this.len()))},e.prototype.after=function(t){return this.v1.add(this.v2.sub(this.v1).mul((this.len()+t)/this.len()))},e.prototype.intersectionTimesWith=function(t){return this.v1.intersectionTimes(this.v2,t.v1,t.v2)},e.prototype.update=function(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.v1.x+=t,this.v1.y+=e,this.v2.x+=n,this.v2.y+=i},e.prototype.nearestTo=function(e){if(this.v1.equals(this.v2))return new t(this.v1.x,this.v1.y);var n=this.v2.sub(this.v1),i=n.dot(e.sub(this.v1))/n.len2();return this.pointAt(Math.max(0,Math.min(i,1)))},e}(),n=function(){function t(t){void 0===t&&(t=[]),this.vertices=t}return t.prototype.areaBetween=function(t,e){return(this.vertices[e].x-this.vertices[t].x)*(this.vertices[t].y+this.vertices[e].y)/2},t.prototype.area=function(){for(var t=0,e=this.vertices.length-1,n=0;n<this.vertices.length;n++)t+=this.areaBetween(e,n),e=n;return t},t.prototype.shareEdge=function(t,e){for(var n=this.vertices.length-1,i=0;i<this.vertices.length;i++){if(this.vertices[n].equals(t)&&this.vertices[i].equals(e))return!0;n=i}return!1},t.prototype.intersectionWith=function(t){},t.prototype.reverse=function(){this.vertices.reverse()},t.prototype.toString=function(){return this.vertices.length+" points: "+this.vertices.map((function(t){return"("+t.x.toFixed()+", "+t.y.toFixed()+")"})).join(", ")+" (area: "+this.area().toFixed()+")"},t}(),i=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,u=s.length;o<u;o++,r++)i[r]=s[o];return i},r=function(){function r(n){var i=this;this.renderer=n,this.lines=[],this.intersectionTimes=[],this.intersections=[],this.intersectionIndex=[];var r,s=-1;this.renderer.setMouseDownHandler((function(n){var o=new t(n.clientX,n.clientY);-1===(s=i.nearestLineIndexFrom(o,20))?(i.addLine(new e(o.x,o.y,o.x,o.y)),s=i.lines.length-1,r=i.lines[s].v2):o.sub(i.lines[s].v1).len()<20?r=i.lines[s].v1:o.sub(i.lines[s].v2).len()<20&&(r=i.lines[s].v2)})),this.renderer.setMouseUpHandler((function(t){s=-1,r=null})),this.renderer.setMouseMoveHandler((function(t){r?(r.x+=t.movementX,r.y+=t.movementY,i.updateIntersectionTimes(i.lines[s]),i.renderer.drawLine(i.lines[s])):-1!==s&&(i.lines[s].update(t.movementX,t.movementY,t.movementX,t.movementY),i.updateIntersectionTimes(i.lines[s]),i.renderer.drawLine(i.lines[s]))}))}return r.prototype.nearestLineIndexFrom=function(t,e){void 0===e&&(e=1/0);for(var n,i=-1,r=1/0,s=0;s<this.lines.length;s++)(n=this.lines[s].nearestTo(t).sub(t).len())<e&&n<r&&(r=n,i=s);return i},r.prototype.addLine=function(t){this.addIntersectionTimes(t),this.lines.push(t),this.renderer.drawLine(t)},r.prototype.addIntersectionTimes=function(t,e,n,i,r){void 0===e&&(e=this.lines),void 0===n&&(n=this.intersectionTimes),void 0===i&&(i=this.intersections),void 0===r&&(r=this.intersectionIndex);for(var s,o=[],u=[],a=0;a<e.length;a++)s=e[a].intersectionTimesWith(t),n[a].push(s.x),i.push(e[a].pointAt(s.x)),r[a].push(i.length-1),o.push(s.y),u.push(i.length-1);o.push(NaN),u.push(null),n.push(o),r.push(u),this.renderIntersections()},r.prototype.updateIntersectionTimes=function(t,e,n,i,r){void 0===e&&(e=this.lines),void 0===n&&(n=this.intersectionTimes),void 0===i&&(i=this.intersections),void 0===r&&(r=this.intersectionIndex);for(var s,o=e.indexOf(t),u=0;u<e.length;u++)u!==o&&(s=e[u].intersectionTimesWith(t),n[u][o]=s.x,n[o][u]=s.y,u<o?i[r[u][o]]=e[u].pointAt(s.x):i[r[o][u]]=e[u].pointAt(s.x));this.renderIntersections()},r.prototype.renderIntersections=function(){var t=this;this.renderer.clearPolygons();var e=this.buildPartialsFromIntersectionTimes();this.buildPolygonIndexesFromPartials(e).map((function(e){return new n(e.map((function(e){return t.intersections[e]})))})).forEach((function(e){e.area()>0&&t.renderer.drawPolygon(e)}))},r.prototype.testSide=function(t,e,n){return e.sub(t).cross(n.sub(t))>0},r.prototype.partialsOverlaps=function(t,e){return t[t.length-2]===e[0]&&t[t.length-1]===e[1]?2:0},r.prototype.partialsMeet=function(t,e){return t[t.length-1]===e[0]?1:0},r.prototype.buildPartialsFromIntersectionIndexes=function(t,e){for(var n=[],i=0;i<e.length;i++)if("number"==typeof e[i]){var r=i+1;for(r===e.length&&(r=0);"number"!=typeof e[r];)++r===e.length&&(r=0);i!==r&&n.push([e[i],t,e[r]])}return n},r.prototype.buildPartialsFromIntersectionTimes=function(t,e,n){void 0===t&&(t=this.lines),void 0===e&&(e=this.intersectionTimes),void 0===n&&(n=this.intersectionIndex);for(var i=e.map((function(t,n){return t.map((function(t,e){return e})).filter((function(i){return!isNaN(t[i])&&0<=t[i]&&t[i]<=1&&!isNaN(e[i][n])&&0<=e[i][n]&&e[i][n]<=1})).sort((function(e,n){return t[e]-t[n]}))})),r=[],s=function(e){for(var s=0;s<i[e].length;s++){var u=i[e][s];if(e<u){var a=n[e][i[e][s]],h=s-1,c=s+1,l=i[u].findIndex((function(t){return t===e})),p=o.testSide(t[e].v1,t[e].v2,t[u].v1),d=p?l-1:l+1,v=p?l+1:l-1,f=0<s?n[e][i[e][h]]:null,y=s<i[e].length-1?n[e][i[e][c]]:null,m=-1<d&&d<i[u].length?n[u][i[u][d]]:null,g=-1<v&&v<i[u].length?n[u][i[u][v]]:null,w=o.buildPartialsFromIntersectionIndexes(a,[f,g,y,m]);r.push.apply(r,w)}}},o=this,u=0;u<i.length;u++)s(u);return r},r.prototype.buildPolygonIndexesFromPartials=function(t){for(var e,n,r=[],s=0;s<t.length;){for(var o=0;o<t.length;o++)if(s!==o&&this.partialsOverlaps(t[s],t[o])){(e=t[s]).splice.apply(e,i([-2,2],t[o])),t.splice(o,1),o<s&&s--,(n=this.partialsOverlaps(t[s],t[s])||this.partialsMeet(t[s],t[s]))>0&&(t[s].splice(0,n),r.push(t[s]),t.splice(s,1)),s=-1;break}s++}return r},r}(),s=document.createElementNS("http://www.w3.org/2000/svg","g");s.setAttribute("stroke","black"),s.setAttribute("stroke-width","0.4px");var o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("stroke-dasharray","10, 4, 1, 4");var u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d","M 0, 0A 10, 10, 0, 0, 0, -5, -5A 10, 10, 0, 1, 1, 5, -5A 10, 10, 0, 0, 0, 0, 0"),u.setAttribute("fill","white"),s.appendChild(o),s.appendChild(u),s.appendChild(u.cloneNode());var a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("fill","green"),a.setAttribute("r","3");var h=document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("fill","green"),h.setAttribute("fill-opacity","0.7"),h.setAttribute("stroke-width","3"),h.setAttribute("stroke","grey");var c=new(function(){function t(){this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.intersectionContainer=document.createElementNS("http://www.w3.org/2000/svg","g"),this.polygonContainer=document.createElementNS("http://www.w3.org/2000/svg","g"),this.svgGByLine=new Map,this.lineBySvgG=new Map,this.handlers={},this.svg.appendChild(this.intersectionContainer),this.svg.appendChild(this.polygonContainer)}return t.prototype._setEventHandler=function(t,e){this.handlers[t]&&this.svg.removeEventListener(t,this.handlers[t]),this.handlers[t]=e,this.svg.addEventListener(t,this.handlers[t])},t.prototype.setMouseDownHandler=function(t){this._setEventHandler("mousedown",t)},t.prototype.setMouseUpHandler=function(t){this._setEventHandler("mouseup",t)},t.prototype.setMouseMoveHandler=function(t){this._setEventHandler("mousemove",t)},t.prototype.drawLine=function(t){var e;this.svgGByLine.has(t)?e=this.svgGByLine.get(t):(e=s.cloneNode(!0),this.svg.appendChild(e),this.svgGByLine.set(t,e),this.lineBySvgG.set(e,t));var n=e.children[0],i=e.children[1],r=e.children[2],o=t.x1.toFixed(),u=t.y1.toFixed(),a=t.x2.toFixed(),h=t.y2.toFixed();n.setAttribute("x1",o),n.setAttribute("y1",u),n.setAttribute("x2",a),n.setAttribute("y2",h);var c=180*(t.v2.sub(t.v1).angle()-Math.PI/2)/Math.PI;i.setAttribute("transform","translate("+o+", "+u+") rotate("+(isNaN(c)?0:c)+")"),r.setAttribute("transform","translate("+a+", "+h+") rotate("+(isNaN(c)?0:180+c)+")")},t.prototype.eraseLine=function(t){var e=this.svgGByLine.get(t);e&&(this.svg.removeChild(e),this.svgGByLine.delete(t))},t.prototype.drawPoint=function(t){var e=a.cloneNode();e.setAttribute("cx",t.x.toFixed()),e.setAttribute("cy",t.y.toFixed()),this.intersectionContainer.appendChild(e)},t.prototype.clearContainer=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.prototype.clearIntersections=function(){this.clearContainer(this.intersectionContainer)},t.prototype.drawPolygon=function(t){var e=h.cloneNode();e.setAttribute("d","M "+t.vertices.map((function(t){return t.x.toFixed()+" "+t.y.toFixed()})).join(" L ")+"Z"),e.setAttribute("fill","#"+(Math.floor(16677215*Math.random())+1e5).toString(16)),this.polygonContainer.appendChild(e)},t.prototype.clearPolygons=function(){this.clearContainer(this.polygonContainer)},t}());new r(c),document.querySelector("body").appendChild(c.svg)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xwbG90Ly4vc3JjL3ZlY3RvcjIudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9saW5lLnRzIiwid2VicGFjazovL3BvbHBsb3QvLi9zcmMvcG9seWdvbi50cyIsIndlYnBhY2s6Ly9wb2xwbG90Ly4vc3JjL3BvbHBsb3QudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9zdmctcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJ4IiwieSIsImRvdFJhdyIsIngxIiwieTEiLCJ4MiIsInkyIiwiZG90IiwidSIsInYiLCJ0aGlzIiwib3RoZXIiLCJWZWN0b3IyIiwiY3Jvc3NSYXciLCJjcm9zcyIsImxlbjJSYXciLCJNYXRoIiwicG93IiwibGVuMiIsImxlblJhdyIsInNxcnQiLCJsZW4iLCJub3JtYWxpemVSYXciLCJieSIsImNvZWYiLCJtdWxSYXciLCJub3JtYWxpemUiLCJlcXVhbHNSYXciLCJlcXVhbHMiLCJhZGRSYXciLCJhZGQiLCJzdWJSYXciLCJzdWIiLCJtdWwiLCJpbnRlcnNlY3Rpb25UaW1lc1JhdyIsImZ4IiwiZnkiLCJ0eCIsInR5Iiwic3giLCJzeSIsImV4IiwiZXkiLCJkZXQiLCJpbnRlcnNlY3Rpb25UaW1lcyIsImZyb20iLCJ0byIsInN0YXJ0IiwiZW5kIiwiaW50ZXJzZWN0aW9uUmF3IiwidGltZXMiLCJpbnRlcnNlY3Rpb24iLCJhbmdsZSIsImExIiwiYTIiLCJQSSIsImFjb3MiLCJ2MSIsInYyIiwicG9pbnRBdCIsInQiLCJiZWZvcmUiLCJhZnRlciIsImludGVyc2VjdGlvblRpbWVzV2l0aCIsInVwZGF0ZSIsImR4MSIsImR5MSIsImR4MiIsImR5MiIsIm5lYXJlc3RUbyIsInAiLCJtYXgiLCJtaW4iLCJ2ZXJ0aWNlcyIsImFyZWFCZXR3ZWVuIiwiaSIsImoiLCJhcmVhIiwiYSIsImxlbmd0aCIsInNoYXJlRWRnZSIsImludGVyc2VjdGlvbldpdGgiLCJsaW5lIiwicmV2ZXJzZSIsInRvU3RyaW5nIiwibWFwIiwidG9GaXhlZCIsImpvaW4iLCJyZW5kZXJlciIsImxpbmVzIiwiaW50ZXJzZWN0aW9ucyIsImludGVyc2VjdGlvbkluZGV4IiwiZHJhZ2dlZFZlY3RvcjIiLCJkcmFnZ2VkTGluZUluZGV4Iiwic2V0TW91c2VEb3duSGFuZGxlciIsImV2ZW50IiwibW91c2UiLCJjbGllbnRYIiwiY2xpZW50WSIsIm5lYXJlc3RMaW5lSW5kZXhGcm9tIiwiYWRkTGluZSIsIkxpbmUiLCJzZXRNb3VzZVVwSGFuZGxlciIsInNldE1vdXNlTW92ZUhhbmRsZXIiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJ1cGRhdGVJbnRlcnNlY3Rpb25UaW1lcyIsImRyYXdMaW5lIiwidGhyZXNob2xkIiwiZGlzdCIsIm5lYXJlc3RMaW5lSW5kZXgiLCJuZWFyZXN0RGlzdCIsImFkZEludGVyc2VjdGlvblRpbWVzIiwicHVzaCIsIm5ld0ludGVyc2VjdGlvblRpbWVzIiwibmV3SW50ZXJzZWN0aW9uSW5kZXgiLCJOYU4iLCJyZW5kZXJJbnRlcnNlY3Rpb25zIiwiaW5kZXgiLCJpbmRleE9mIiwiY2xlYXJQb2x5Z29ucyIsInBhcnRpYWxzIiwiYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25UaW1lcyIsImJ1aWxkUG9seWdvbkluZGV4ZXNGcm9tUGFydGlhbHMiLCJwb2x5Z29uSW5kZXgiLCJQb2x5Z29uIiwiZm9yRWFjaCIsInBvbHlnb24iLCJkcmF3UG9seWdvbiIsInRlc3RTaWRlIiwidyIsInBhcnRpYWxzT3ZlcmxhcHMiLCJwMSIsInAyIiwicGFydGlhbHNNZWV0IiwiYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25JbmRleGVzIiwiY2VudGVyIiwiaW5kZXhlcyIsInBhcnRzIiwiaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5IiwiaW50ZXJzZWN0aW9uVGltZXNBdEkiLCJfIiwiZmlsdGVyIiwiaXNOYU4iLCJzb3J0IiwibG9jYWxJbmRleCIsImxvY2FsSW50ZXJJbmRleCIsImZvcmVpZ25JbmRleCIsImludGVyIiwicHJldkxvY2FsSW50ZXJJbmRleCIsIm5leHRMb2NhbEludGVySW5kZXgiLCJmb3JlaWduSW50ZXJJbmRleCIsImZpbmRJbmRleCIsImZvcmVpZ25pc1JpZ2h0U2lkZWQiLCJwcmV2Rm9yZWlnbkludGVySW5kZXgiLCJuZXh0Rm9yZWlnbkludGVySW5kZXgiLCJwcmV2TG9jYWxJbnRlciIsIm5leHRMb2NhbEludGVyIiwicHJldkZvcmVpZ25JbnRlciIsIm5leHRGb3JlaWduSW50ZXIiLCJvdmVybGFwIiwicG9seWdvbkluZGV4ZXMiLCJzcGxpY2UiLCJnVGVtcGxhdGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnROUyIsInNldEF0dHJpYnV0ZSIsImxpbmVUZW1wbGF0ZSIsImFuY2hvclRlbXBsYXRlIiwiYXBwZW5kQ2hpbGQiLCJjbG9uZU5vZGUiLCJwb2ludFRlbXBsYXRlIiwicG9seWdvblRlbXBsYXRlIiwic3ZnUmVuZGVyZXIiLCJzdmciLCJpbnRlcnNlY3Rpb25Db250YWluZXIiLCJwb2x5Z29uQ29udGFpbmVyIiwic3ZnR0J5TGluZSIsIk1hcCIsImxpbmVCeVN2Z0ciLCJoYW5kbGVycyIsIl9zZXRFdmVudEhhbmRsZXIiLCJoYW5kbGVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdmdHIiwiaGFzIiwiZ2V0Iiwic2V0Iiwic3ZnTGluZSIsImNoaWxkcmVuIiwic3ZnUGF0aEFuY2hvclN0YXJ0Iiwic3ZnUGF0aEFuY2hvckVuZCIsImVyYXNlTGluZSIsInJlbW92ZUNoaWxkIiwiZGVsZXRlIiwiZHJhd1BvaW50IiwicG9pbnQiLCJzdmdDaXJjbGUiLCJjbGVhckNvbnRhaW5lciIsImNvbnRhaW5lciIsImZpcnN0Q2hpbGQiLCJjbGVhckludGVyc2VjdGlvbnMiLCJzdmdQYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJQb2xwbG90IiwicXVlcnlTZWxlY3RvciJdLCJtYXBwaW5n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UUFDL0J0QyxZQUFZSSxFQUFZQyxNIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmVjdG9yMiB7XHJcbiAgY29uc3RydWN0b3IocHVibGljIHggPSAwLCBwdWJsaWMgeSA9IDApIHt9XHJcbiAgc3RhdGljIGRvdFJhdyh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB4MSAqIHgyICsgeTEgKiB5MjtcclxuICB9XHJcbiAgc3RhdGljIGRvdCh1OiBWZWN0b3IyLCB2OiBWZWN0b3IyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmRvdFJhdyh1LngsIHUueSwgdi54LCB2LnkpO1xyXG4gIH1cclxuICBkb3Qob3RoZXI6IFZlY3RvcjIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuZG90KHRoaXMsIG90aGVyKTtcclxuICB9XHJcbiAgc3RhdGljIGNyb3NzUmF3KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHgxICogeTIgLSB4MiAqIHkxO1xyXG4gIH1cclxuICBzdGF0aWMgY3Jvc3ModTogVmVjdG9yMiwgdjogVmVjdG9yMik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5jcm9zc1Jhdyh1LngsIHUueSwgdi54LCB2LnkpO1xyXG4gIH1cclxuICBjcm9zcyhvdGhlcjogVmVjdG9yMik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gVmVjdG9yMi5jcm9zcyh0aGlzLCBvdGhlcik7XHJcbiAgfVxyXG4gIHN0YXRpYyBsZW4yUmF3KHg6IG51bWJlciwgeTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLnBvdyh4LCAyKSArIE1hdGgucG93KHksIDIpO1xyXG4gIH1cclxuICBzdGF0aWMgbGVuMih1OiBWZWN0b3IyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmxlbjJSYXcodS54LCB1LnkpO1xyXG4gIH1cclxuICBsZW4yKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gVmVjdG9yMi5sZW4yKHRoaXMpO1xyXG4gIH1cclxuICBzdGF0aWMgbGVuUmF3KHg6IG51bWJlciwgeTogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5sZW4yUmF3KHgsIHkpKTtcclxuICB9XHJcbiAgc3RhdGljIGxlbih1OiBWZWN0b3IyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmxlblJhdyh1LngsIHUueSk7XHJcbiAgfVxyXG4gIGxlbigpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIubGVuKHRoaXMpO1xyXG4gIH1cclxuICBzdGF0aWMgbm9ybWFsaXplUmF3KHg6IG51bWJlciwgeTogbnVtYmVyLCBieTogbnVtYmVyID0gMSk6IFZlY3RvcjIge1xyXG4gICAgY29uc3QgY29lZiA9IGJ5IC8gdGhpcy5sZW5SYXcoeCwgeSk7XHJcbiAgICByZXR1cm4gdGhpcy5tdWxSYXcoeCwgeSwgY29lZik7XHJcbiAgfVxyXG4gIHN0YXRpYyBub3JtYWxpemUodTogVmVjdG9yMiwgYnk6IG51bWJlciA9IDEpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZVJhdyh1LngsIHUueSwgYnkpO1xyXG4gIH1cclxuICBub3JtYWxpemUoYnk6IG51bWJlciA9IDEpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBWZWN0b3IyLm5vcm1hbGl6ZSh0aGlzLCBieSk7XHJcbiAgfVxyXG4gIHN0YXRpYyBlcXVhbHNSYXcoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHgxID09PSB4MiAmJiB5MSA9PT0geTI7XHJcbiAgfVxyXG4gIHN0YXRpYyBlcXVhbHModTogVmVjdG9yMiwgdjogVmVjdG9yMik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZXF1YWxzUmF3KHUueCwgdS55LCB2LngsIHYueSk7XHJcbiAgfVxyXG4gIGVxdWFscyhvdGhlcjogVmVjdG9yMik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuZXF1YWxzKHRoaXMsIG90aGVyKTtcclxuICB9XHJcbiAgc3RhdGljIGFkZFJhdyh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIoeDEgKyB4MiwgeTEgKyB5Mik7XHJcbiAgfVxyXG4gIHN0YXRpYyBhZGQodTogVmVjdG9yMiwgdjogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHRoaXMuYWRkUmF3KHUueCwgdS55LCB2LngsIHYueSk7XHJcbiAgfVxyXG4gIGFkZChvdGhlcjogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuYWRkKHRoaXMsIG90aGVyKTtcclxuICB9XHJcbiAgc3RhdGljIHN1YlJhdyh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIoeDEgLSB4MiwgeTEgLSB5Mik7XHJcbiAgfVxyXG4gIHN0YXRpYyBzdWIodTogVmVjdG9yMiwgdjogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHRoaXMuc3ViUmF3KHUueCwgdS55LCB2LngsIHYueSk7XHJcbiAgfVxyXG4gIHN1YihvdGhlcjogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuc3ViKHRoaXMsIG90aGVyKTtcclxuICB9XHJcbiAgc3RhdGljIG11bFJhdyh4OiBudW1iZXIsIHk6IG51bWJlciwgYnk6IG51bWJlcik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHggKiBieSwgeSAqIGJ5KTtcclxuICB9XHJcbiAgc3RhdGljIG11bCh1OiBWZWN0b3IyLCBieTogbnVtYmVyKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gdGhpcy5tdWxSYXcodS54LCB1LnksIGJ5KTtcclxuICB9XHJcbiAgbXVsKGJ5OiBudW1iZXIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBWZWN0b3IyLm11bCh0aGlzLCBieSk7XHJcbiAgfVxyXG4gIHN0YXRpYyBpbnRlcnNlY3Rpb25UaW1lc1JhdyhcclxuICAgIGZ4OiBudW1iZXIsIGZ5OiBudW1iZXIsIHR4OiBudW1iZXIsIHR5OiBudW1iZXIsXHJcbiAgICBzeDogbnVtYmVyLCBzeTogbnVtYmVyLCBleDogbnVtYmVyLCBleTogbnVtYmVyXHJcbiAgKTogVmVjdG9yMiB8IHVuZGVmaW5lZCB7XHJcbiAgICBjb25zdCBkZXQgPSB0aGlzLmNyb3NzUmF3KHR4IC0gZngsIHR5IC0gZnksIGV4IC0gc3gsIGV5IC0gc3kpO1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKFxyXG4gICAgICB0aGlzLmNyb3NzUmF3KGV4IC0gc3gsIGV5IC0gc3ksIGZ4IC0gc3gsIGZ5IC0gc3kpIC8gZGV0LFxyXG4gICAgICB0aGlzLmNyb3NzUmF3KHR4IC0gZngsIHR5IC0gZnksIGZ4IC0gc3gsIGZ5IC0gc3kpIC8gZGV0XHJcbiAgICApO1xyXG4gIH1cclxuICBzdGF0aWMgaW50ZXJzZWN0aW9uVGltZXMoXHJcbiAgICBmcm9tOiBWZWN0b3IyLCB0bzogVmVjdG9yMiwgc3RhcnQ6IFZlY3RvcjIsIGVuZDogVmVjdG9yMlxyXG4gICk6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xyXG4gICAgcmV0dXJuIHRoaXMuaW50ZXJzZWN0aW9uVGltZXNSYXcoZnJvbS54LCBmcm9tLnksIHRvLngsIHRvLnksIHN0YXJ0LngsIHN0YXJ0LnksIGVuZC54LCBlbmQueSk7XHJcbiAgfVxyXG4gIGludGVyc2VjdGlvblRpbWVzKHRvOiBWZWN0b3IyLCBzdGFydDogVmVjdG9yMiwgZW5kOiBWZWN0b3IyKTogVmVjdG9yMiB8IHVuZGVmaW5lZCB7XHJcbiAgICByZXR1cm4gVmVjdG9yMi5pbnRlcnNlY3Rpb25UaW1lcyh0aGlzLCB0bywgc3RhcnQsIGVuZCk7XHJcbiAgfVxyXG4gIHN0YXRpYyBpbnRlcnNlY3Rpb25SYXcoXHJcbiAgICBmeDogbnVtYmVyLCBmeTogbnVtYmVyLCB0eDogbnVtYmVyLCB0eTogbnVtYmVyLFxyXG4gICAgc3g6IG51bWJlciwgc3k6IG51bWJlciwgZXg6IG51bWJlciwgZXk6IG51bWJlclxyXG4gICk6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xyXG4gICAgY29uc3QgdGltZXMgPSB0aGlzLmludGVyc2VjdGlvblRpbWVzUmF3KGZ4LCBmeSwgdHgsIHR5LCBzeCwgc3ksIGV4LCBleSk7XHJcbiAgICBpZiAodGltZXMpIHtcclxuICAgICAgdGltZXMueSA9IGZ5ICsgKHR5IC0gZnkpICogdGltZXMueDtcclxuICAgICAgdGltZXMueCA9IGZ4ICsgKHR4IC0gZngpICogdGltZXMueDtcclxuICAgICAgcmV0dXJuIHRpbWVzO1xyXG4gICAgfVxyXG4gIH1cclxuICBzdGF0aWMgaW50ZXJzZWN0aW9uKGZyb206IFZlY3RvcjIsIHRvOiBWZWN0b3IyLCBzdGFydDogVmVjdG9yMiwgZW5kOiBWZWN0b3IyKTogVmVjdG9yMiB8IHVuZGVmaW5lZCB7XHJcbiAgICByZXR1cm4gdGhpcy5pbnRlcnNlY3Rpb25SYXcoZnJvbS54LCBmcm9tLnksIHRvLngsIHRvLnksIHN0YXJ0LngsIHN0YXJ0LnksIGVuZC54LCBlbmQueSk7XHJcbiAgfVxyXG4gIGludGVyc2VjdGlvbih0bzogVmVjdG9yMiwgc3RhcnQ6IFZlY3RvcjIsIGVuZDogVmVjdG9yMik6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuaW50ZXJzZWN0aW9uKHRoaXMsIHRvLCBzdGFydCwgZW5kKTtcclxuICB9XHJcbiAgYW5nbGUob3RoZXI/OiBWZWN0b3IyKTogbnVtYmVyIHtcclxuICAgIGlmIChvdGhlcikge1xyXG4gICAgICAgY29uc3QgYTEgPSB0aGlzLmFuZ2xlKCk7XHJcbiAgICAgICBjb25zdCBhMiA9IG90aGVyLmFuZ2xlKCk7XHJcbiAgICAgICBpZiAoYTIgPCBhMSkge1xyXG4gICAgICAgIHJldHVybiBhMiArIDIgKiBNYXRoLlBJIC0gYTE7XHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBhMiAtIGExO1xyXG4gICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnkgPiAwKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmFjb3ModGhpcy54IC8gdGhpcy5sZW4oKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gMiAqIE1hdGguUEkgLSBNYXRoLmFjb3ModGhpcy54IC8gdGhpcy5sZW4oKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuL3ZlY3RvcjJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMaW5lIHtcclxuICB2MTogVmVjdG9yMjtcclxuICB2MjogVmVjdG9yMjtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHgxPzogbnVtYmVyLFxyXG4gICAgeTE/OiBudW1iZXIsXHJcbiAgICB4Mj86IG51bWJlcixcclxuICAgIHkyPzogbnVtYmVyXHJcbiAgKSB7XHJcbiAgICB0aGlzLnYxID0gbmV3IFZlY3RvcjIoeDEsIHkxKTtcclxuICAgIHRoaXMudjIgPSBuZXcgVmVjdG9yMih4MiwgeTIpO1xyXG4gIH1cclxuICBnZXQgeDEoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnYxLng7XHJcbiAgfVxyXG4gIGdldCB5MSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMudjEueTtcclxuICB9XHJcbiAgZ2V0IHgyKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy52Mi54O1xyXG4gIH1cclxuICBnZXQgeTIoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnYyLnk7XHJcbiAgfVxyXG4gIGxlbigpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMudjIuc3ViKHRoaXMudjEpLmxlbigpO1xyXG4gIH1cclxuICBwb2ludEF0KHQ6IG51bWJlcik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHRoaXMudjEuYWRkKHRoaXMudjIuc3ViKHRoaXMudjEpLm11bCh0KSk7XHJcbiAgfVxyXG4gIGJlZm9yZSh0OiBudW1iZXIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiB0aGlzLnYxLmFkZCh0aGlzLnYyLnN1Yih0aGlzLnYxKS5tdWwoLXQgLyB0aGlzLmxlbigpKSk7XHJcbiAgfVxyXG4gIGFmdGVyKHQ6IG51bWJlcik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHRoaXMudjEuYWRkKHRoaXMudjIuc3ViKHRoaXMudjEpLm11bCgodGhpcy5sZW4oKSArIHQpIC8gdGhpcy5sZW4oKSkpO1xyXG4gIH1cclxuICBpbnRlcnNlY3Rpb25UaW1lc1dpdGgob3RoZXI6IExpbmUpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiB0aGlzLnYxLmludGVyc2VjdGlvblRpbWVzKHRoaXMudjIsIG90aGVyLnYxLCBvdGhlci52Mik7XHJcbiAgfVxyXG4gIHVwZGF0ZShkeDEgPSAwLCBkeTEgPSAwLCBkeDIgPSAwLCBkeTIgPSAwKTogdm9pZCB7XHJcbiAgICB0aGlzLnYxLnggKz0gZHgxO1xyXG4gICAgdGhpcy52MS55ICs9IGR5MTtcclxuICAgIHRoaXMudjIueCArPSBkeDI7XHJcbiAgICB0aGlzLnYyLnkgKz0gZHkyO1xyXG4gIH1cclxuICBuZWFyZXN0VG8ocDogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgaWYgKHRoaXMudjEuZXF1YWxzKHRoaXMudjIpKSB7XHJcbiAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLnYxLngsIHRoaXMudjEueSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB1ID0gdGhpcy52Mi5zdWIodGhpcy52MSk7XHJcbiAgICBjb25zdCB0ID0gdS5kb3QocC5zdWIodGhpcy52MSkpIC8gdS5sZW4yKCk7XHJcbiAgICByZXR1cm4gdGhpcy5wb2ludEF0KE1hdGgubWF4KDAsIE1hdGgubWluKHQsIDEpKSk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL2xpbmVcIjtcclxuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuL3ZlY3RvcjJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb2x5Z29uIHtcclxuICBjb25zdHJ1Y3RvcihyZWFkb25seSB2ZXJ0aWNlczogVmVjdG9yMltdID0gW10pIHtcclxuXHJcbiAgfVxyXG4gIHByaXZhdGUgYXJlYUJldHdlZW4oaTogbnVtYmVyLCBqOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuICh0aGlzLnZlcnRpY2VzW2pdLnggLSB0aGlzLnZlcnRpY2VzW2ldLngpICogKHRoaXMudmVydGljZXNbaV0ueSArIHRoaXMudmVydGljZXNbal0ueSkgLyAyO1xyXG4gIH1cclxuICBhcmVhKCk6IG51bWJlciB7XHJcbiAgICBsZXQgYSA9IDA7XHJcbiAgICBsZXQgaSA9IHRoaXMudmVydGljZXMubGVuZ3RoIC0gMTtcclxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy52ZXJ0aWNlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICBhICs9IHRoaXMuYXJlYUJldHdlZW4oaSwgaik7XHJcbiAgICAgIGkgPSBqO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGE7XHJcbiAgfVxyXG4gIHNoYXJlRWRnZSh1OiBWZWN0b3IyLCB2OiBWZWN0b3IyKTogYm9vbGVhbiB7XHJcbiAgICBsZXQgaSA9IHRoaXMudmVydGljZXMubGVuZ3RoIC0gMTtcclxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy52ZXJ0aWNlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICBpZiAodGhpcy52ZXJ0aWNlc1tpXS5lcXVhbHModSkgJiYgdGhpcy52ZXJ0aWNlc1tqXS5lcXVhbHModikpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBpID0gajtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgaW50ZXJzZWN0aW9uV2l0aChsaW5lOiBMaW5lKSB7XHJcbiAgICBcclxuICB9XHJcbiAgcmV2ZXJzZSgpOiB2b2lkIHtcclxuICAgIHRoaXMudmVydGljZXMucmV2ZXJzZSgpO1xyXG4gIH1cclxuICB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGAke3RoaXMudmVydGljZXMubGVuZ3RofSBwb2ludHM6IGAgKyB0aGlzLnZlcnRpY2VzLm1hcCh2ID0+IGAoJHt2LngudG9GaXhlZCgpfSwgJHt2LnkudG9GaXhlZCgpfSlgKS5qb2luKCcsICcpICsgYCAoYXJlYTogJHt0aGlzLmFyZWEoKS50b0ZpeGVkKCl9KWA7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgUG9scGxvdFJlbmRlcmVyIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9wb2xwbG90LXJlbmRlcmVyXCI7XHJcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9saW5lXCI7XHJcbmltcG9ydCB7IFBvbHlnb24gfSBmcm9tIFwiLi9wb2x5Z29uXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi92ZWN0b3IyXCI7XHJcblxyXG5jb25zdCBDTElDS19USFJFU0hPTEQgPSAyMDtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb2xwbG90IHtcclxuICBsaW5lczogTGluZVtdID0gW107XHJcbiAgaW50ZXJzZWN0aW9uVGltZXM6IG51bWJlcltdW10gPSBbXTtcclxuICBpbnRlcnNlY3Rpb25zOiBWZWN0b3IyW10gPSBbXTtcclxuICBpbnRlcnNlY3Rpb25JbmRleDogbnVtYmVyW11bXSA9IFtdO1xyXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHJlbmRlcmVyOiBQb2xwbG90UmVuZGVyZXIpIHtcclxuICAgIGxldCBkcmFnZ2VkTGluZUluZGV4ID0gLTE7XHJcbiAgICBsZXQgZHJhZ2dlZFZlY3RvcjI6IFZlY3RvcjI7XHJcbiAgICB0aGlzLnJlbmRlcmVyLnNldE1vdXNlRG93bkhhbmRsZXIoZXZlbnQgPT4ge1xyXG4gICAgICBjb25zdCBtb3VzZSA9IG5ldyBWZWN0b3IyKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xyXG4gICAgICBkcmFnZ2VkTGluZUluZGV4ID0gdGhpcy5uZWFyZXN0TGluZUluZGV4RnJvbShtb3VzZSwgQ0xJQ0tfVEhSRVNIT0xEKTtcclxuICAgICAgaWYgKGRyYWdnZWRMaW5lSW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgdGhpcy5hZGRMaW5lKG5ldyBMaW5lKG1vdXNlLngsIG1vdXNlLnksIG1vdXNlLngsIG1vdXNlLnkpKTtcclxuICAgICAgICBkcmFnZ2VkTGluZUluZGV4ID0gdGhpcy5saW5lcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIGRyYWdnZWRWZWN0b3IyID0gdGhpcy5saW5lc1tkcmFnZ2VkTGluZUluZGV4XS52MjtcclxuICAgICAgfSBlbHNlIGlmIChtb3VzZS5zdWIodGhpcy5saW5lc1tkcmFnZ2VkTGluZUluZGV4XS52MSkubGVuKCkgPCBDTElDS19USFJFU0hPTEQpIHtcclxuICAgICAgICBkcmFnZ2VkVmVjdG9yMiA9IHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0udjE7XHJcbiAgICAgIH0gZWxzZSBpZiAobW91c2Uuc3ViKHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0udjIpLmxlbigpIDwgQ0xJQ0tfVEhSRVNIT0xEKSB7XHJcbiAgICAgICAgZHJhZ2dlZFZlY3RvcjIgPSB0aGlzLmxpbmVzW2RyYWdnZWRMaW5lSW5kZXhdLnYyO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJlbmRlcmVyLnNldE1vdXNlVXBIYW5kbGVyKGV2ZW50ID0+IHtcclxuICAgICAgZHJhZ2dlZExpbmVJbmRleCA9IC0xO1xyXG4gICAgICBkcmFnZ2VkVmVjdG9yMiA9IG51bGw7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJlbmRlcmVyLnNldE1vdXNlTW92ZUhhbmRsZXIoZXZlbnQgPT4ge1xyXG4gICAgICBpZiAoZHJhZ2dlZFZlY3RvcjIpIHtcclxuICAgICAgICBkcmFnZ2VkVmVjdG9yMi54ICs9IGV2ZW50Lm1vdmVtZW50WDtcclxuICAgICAgICBkcmFnZ2VkVmVjdG9yMi55ICs9IGV2ZW50Lm1vdmVtZW50WTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUludGVyc2VjdGlvblRpbWVzKHRoaXMubGluZXNbZHJhZ2dlZExpbmVJbmRleF0pO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd0xpbmUodGhpcy5saW5lc1tkcmFnZ2VkTGluZUluZGV4XSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZHJhZ2dlZExpbmVJbmRleCAhPT0gLTEpIHtcclxuICAgICAgICB0aGlzLmxpbmVzW2RyYWdnZWRMaW5lSW5kZXhdLnVwZGF0ZShldmVudC5tb3ZlbWVudFgsIGV2ZW50Lm1vdmVtZW50WSwgZXZlbnQubW92ZW1lbnRYLCBldmVudC5tb3ZlbWVudFkpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlSW50ZXJzZWN0aW9uVGltZXModGhpcy5saW5lc1tkcmFnZ2VkTGluZUluZGV4XSk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5kcmF3TGluZSh0aGlzLmxpbmVzW2RyYWdnZWRMaW5lSW5kZXhdKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIG5lYXJlc3RMaW5lSW5kZXhGcm9tKHY6IFZlY3RvcjIsIHRocmVzaG9sZCA9ICtJbmZpbml0eSk6IG51bWJlciB7XHJcbiAgICBsZXQgbmVhcmVzdExpbmVJbmRleCA9IC0xO1xyXG4gICAgbGV0IG5lYXJlc3REaXN0ID0gK0luZmluaXR5O1xyXG4gICAgbGV0IGRpc3Q6IG51bWJlcjtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBkaXN0ID0gdGhpcy5saW5lc1tpXS5uZWFyZXN0VG8odikuc3ViKHYpLmxlbigpO1xyXG4gICAgICBpZiAoZGlzdCA8IHRocmVzaG9sZCAmJiBkaXN0IDwgbmVhcmVzdERpc3QpIHtcclxuICAgICAgICBuZWFyZXN0RGlzdCA9IGRpc3Q7XHJcbiAgICAgICAgbmVhcmVzdExpbmVJbmRleCA9IGk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZWFyZXN0TGluZUluZGV4O1xyXG4gIH1cclxuICBhZGRMaW5lKGxpbmU6IExpbmUpOiB2b2lkIHtcclxuICAgIHRoaXMuYWRkSW50ZXJzZWN0aW9uVGltZXMobGluZSk7XHJcbiAgICB0aGlzLmxpbmVzLnB1c2gobGluZSk7XHJcbiAgICB0aGlzLnJlbmRlcmVyLmRyYXdMaW5lKGxpbmUpO1xyXG4gIH1cclxuICBhZGRJbnRlcnNlY3Rpb25UaW1lcyhcclxuICAgIGxpbmU6IExpbmUsXHJcbiAgICBsaW5lcyA9IHRoaXMubGluZXMsXHJcbiAgICBpbnRlcnNlY3Rpb25UaW1lcyA9IHRoaXMuaW50ZXJzZWN0aW9uVGltZXMsXHJcbiAgICBpbnRlcnNlY3Rpb25zID0gdGhpcy5pbnRlcnNlY3Rpb25zLFxyXG4gICAgaW50ZXJzZWN0aW9uSW5kZXggPSB0aGlzLmludGVyc2VjdGlvbkluZGV4LFxyXG4gICk6IHZvaWQge1xyXG4gICAgY29uc3QgbmV3SW50ZXJzZWN0aW9uVGltZXM6IG51bWJlcltdID0gW107XHJcbiAgICBjb25zdCBuZXdJbnRlcnNlY3Rpb25JbmRleDogbnVtYmVyW10gPSBbXTtcclxuICAgIGxldCB0aW1lczogVmVjdG9yMjtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdGltZXMgPSBsaW5lc1tpXS5pbnRlcnNlY3Rpb25UaW1lc1dpdGgobGluZSk7XHJcbiAgICAgIGludGVyc2VjdGlvblRpbWVzW2ldLnB1c2godGltZXMueCk7XHJcbiAgICAgIGludGVyc2VjdGlvbnMucHVzaChsaW5lc1tpXS5wb2ludEF0KHRpbWVzLngpKTtcclxuICAgICAgaW50ZXJzZWN0aW9uSW5kZXhbaV0ucHVzaChpbnRlcnNlY3Rpb25zLmxlbmd0aCAtIDEpO1xyXG4gICAgICBuZXdJbnRlcnNlY3Rpb25UaW1lcy5wdXNoKHRpbWVzLnkpO1xyXG4gICAgICBuZXdJbnRlcnNlY3Rpb25JbmRleC5wdXNoKGludGVyc2VjdGlvbnMubGVuZ3RoIC0gMSk7XHJcbiAgICB9XHJcbiAgICBuZXdJbnRlcnNlY3Rpb25UaW1lcy5wdXNoKE5hTik7XHJcbiAgICBuZXdJbnRlcnNlY3Rpb25JbmRleC5wdXNoKG51bGwpO1xyXG4gICAgaW50ZXJzZWN0aW9uVGltZXMucHVzaChuZXdJbnRlcnNlY3Rpb25UaW1lcyk7XHJcbiAgICBpbnRlcnNlY3Rpb25JbmRleC5wdXNoKG5ld0ludGVyc2VjdGlvbkluZGV4KTtcclxuICAgIHRoaXMucmVuZGVySW50ZXJzZWN0aW9ucygpO1xyXG4gIH1cclxuICB1cGRhdGVJbnRlcnNlY3Rpb25UaW1lcyhcclxuICAgIGxpbmU6IExpbmUsXHJcbiAgICBsaW5lcyA9IHRoaXMubGluZXMsXHJcbiAgICBpbnRlcnNlY3Rpb25UaW1lcyA9IHRoaXMuaW50ZXJzZWN0aW9uVGltZXMsXHJcbiAgICBpbnRlcnNlY3Rpb25zID0gdGhpcy5pbnRlcnNlY3Rpb25zLFxyXG4gICAgaW50ZXJzZWN0aW9uSW5kZXggPSB0aGlzLmludGVyc2VjdGlvbkluZGV4LFxyXG4gICk6IHZvaWQge1xyXG4gICAgY29uc3QgaW5kZXggPSBsaW5lcy5pbmRleE9mKGxpbmUpO1xyXG4gICAgbGV0IHRpbWVzOiBWZWN0b3IyO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoaSAhPT0gaW5kZXgpIHtcclxuICAgICAgICB0aW1lcyA9IGxpbmVzW2ldLmludGVyc2VjdGlvblRpbWVzV2l0aChsaW5lKTtcclxuICAgICAgICBpbnRlcnNlY3Rpb25UaW1lc1tpXVtpbmRleF0gPSB0aW1lcy54O1xyXG4gICAgICAgIGludGVyc2VjdGlvblRpbWVzW2luZGV4XVtpXSA9IHRpbWVzLnk7XHJcbiAgICAgICAgaWYgKGkgPCBpbmRleCkge1xyXG4gICAgICAgICAgaW50ZXJzZWN0aW9uc1tpbnRlcnNlY3Rpb25JbmRleFtpXVtpbmRleF1dID0gbGluZXNbaV0ucG9pbnRBdCh0aW1lcy54KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaW50ZXJzZWN0aW9uc1tpbnRlcnNlY3Rpb25JbmRleFtpbmRleF1baV1dID0gbGluZXNbaV0ucG9pbnRBdCh0aW1lcy54KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMucmVuZGVySW50ZXJzZWN0aW9ucygpO1xyXG4gIH1cclxuICByZW5kZXJJbnRlcnNlY3Rpb25zKCk6IHZvaWQge1xyXG4gICAgLy8gdGhpcy5yZW5kZXJlci5jbGVhckludGVyc2VjdGlvbnMoKTtcclxuICAgIC8vIHRoaXMuaW50ZXJzZWN0aW9ucy5mb3JFYWNoKGludGVyc2VjdGlvbiA9PiB7XHJcbiAgICAvLyAgIHRoaXMucmVuZGVyZXIuZHJhd1BvaW50KGludGVyc2VjdGlvbik7XHJcbiAgICAvLyB9KTtcclxuICAgIHRoaXMucmVuZGVyZXIuY2xlYXJQb2x5Z29ucygpO1xyXG4gICAgY29uc3QgcGFydGlhbHMgPSB0aGlzLmJ1aWxkUGFydGlhbHNGcm9tSW50ZXJzZWN0aW9uVGltZXMoKTtcclxuICAgIGNvbnN0IHBvbHlnb25JbmRleGVzID0gdGhpcy5idWlsZFBvbHlnb25JbmRleGVzRnJvbVBhcnRpYWxzKHBhcnRpYWxzKTtcclxuICAgIGNvbnN0IHBvbHlnb25zID0gcG9seWdvbkluZGV4ZXMubWFwKHBvbHlnb25JbmRleCA9PiBuZXcgUG9seWdvbihwb2x5Z29uSW5kZXgubWFwKGkgPT4gdGhpcy5pbnRlcnNlY3Rpb25zW2ldKSkpO1xyXG4gICAgcG9seWdvbnMuZm9yRWFjaChwb2x5Z29uID0+IHtcclxuICAgICAgaWYgKHBvbHlnb24uYXJlYSgpID4gMCkge1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd1BvbHlnb24ocG9seWdvbik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICB0ZXN0U2lkZSh1OiBWZWN0b3IyLCB2OiBWZWN0b3IyLCB3OiBWZWN0b3IyKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdi5zdWIodSkuY3Jvc3Mody5zdWIodSkpID4gMDtcclxuICB9XHJcbiAgcGFydGlhbHNPdmVybGFwcyhwMTogbnVtYmVyW10sIHAyOiBudW1iZXJbXSk6IDIgfCAwIHtcclxuICAgIHJldHVybiBwMVtwMS5sZW5ndGggLSAyXSA9PT0gcDJbMF0gJiYgcDFbcDEubGVuZ3RoIC0gMV0gPT09IHAyWzFdID8gMiA6IDA7XHJcbiAgfVxyXG4gIHBhcnRpYWxzTWVldChwMTogbnVtYmVyW10sIHAyOiBudW1iZXJbXSk6IDEgfCAwIHtcclxuICAgIHJldHVybiBwMVtwMS5sZW5ndGggLSAxXSA9PT0gcDJbMF0gPyAxIDogMDtcclxuICB9XHJcbiAgYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25JbmRleGVzKFxyXG4gICAgY2VudGVyOiBudW1iZXIsXHJcbiAgICBpbmRleGVzOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSxcclxuICApOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl1bXSB7XHJcbiAgICBjb25zdCBwYXJ0czogW251bWJlciwgbnVtYmVyLCBudW1iZXJdW10gPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXhlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAodHlwZW9mIGluZGV4ZXNbaV0gPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgbGV0IGogPSBpICsgMTtcclxuICAgICAgICBpZiAoaiA9PT0gaW5kZXhlcy5sZW5ndGgpIHtcclxuICAgICAgICAgIGogPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAodHlwZW9mIGluZGV4ZXNbal0gIT09ICdudW1iZXInKcKge1xyXG4gICAgICAgICAgaisrO1xyXG4gICAgICAgICAgaWYgKGogPT09IGluZGV4ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGogPSAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaSAhPT0gaikge1xyXG4gICAgICAgICAgcGFydHMucHVzaChbaW5kZXhlc1tpXSwgY2VudGVyLCBpbmRleGVzW2pdXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGFydHM7XHJcbiAgfVxyXG4gIGJ1aWxkUGFydGlhbHNGcm9tSW50ZXJzZWN0aW9uVGltZXMoXHJcbiAgICBsaW5lcyA9IHRoaXMubGluZXMsXHJcbiAgICBpbnRlcnNlY3Rpb25UaW1lcyA9IHRoaXMuaW50ZXJzZWN0aW9uVGltZXMsXHJcbiAgICBpbnRlcnNlY3Rpb25JbmRleCA9IHRoaXMuaW50ZXJzZWN0aW9uSW5kZXhcclxuICApOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl1bXSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25UaW1lcycpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdsaW5lcy5sZW5ndGggPSAnLCBsaW5lcy5sZW5ndGgpO1xyXG4gICAgY29uc3QgaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5ID0gaW50ZXJzZWN0aW9uVGltZXNcclxuICAgICAgLm1hcCgoaW50ZXJzZWN0aW9uVGltZXNBdEksIGkpID0+IHtcclxuICAgICAgICByZXR1cm4gaW50ZXJzZWN0aW9uVGltZXNBdElcclxuICAgICAgICAgIC5tYXAoKF8sIGopID0+IGopXHJcbiAgICAgICAgICAuZmlsdGVyKGogPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gIWlzTmFOKGludGVyc2VjdGlvblRpbWVzQXRJW2pdKSAmJiAwIDw9IGludGVyc2VjdGlvblRpbWVzQXRJW2pdICYmIGludGVyc2VjdGlvblRpbWVzQXRJW2pdIDw9IDEgJiZcclxuICAgICAgICAgICAgICAhaXNOYU4oaW50ZXJzZWN0aW9uVGltZXNbal1baV0pICYmIDAgPD0gaW50ZXJzZWN0aW9uVGltZXNbal1baV0gJiYgaW50ZXJzZWN0aW9uVGltZXNbal1baV0gPD0gMTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuc29ydCgoaSwgaikgPT4gaW50ZXJzZWN0aW9uVGltZXNBdElbaV0gLSBpbnRlcnNlY3Rpb25UaW1lc0F0SVtqXSk7XHJcbiAgICAgIH0pO1xyXG4gICAgLy8gY29uc29sZS5sb2coaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5KTtcclxuICAgIGNvbnN0IHBhcnRpYWxzOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl1bXSA9IFtdO1xyXG4gICAgZm9yIChsZXQgbG9jYWxJbmRleCA9IDA7IGxvY2FsSW5kZXggPCBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXkubGVuZ3RoOyBsb2NhbEluZGV4KyspIHtcclxuICAgICAgZm9yIChsZXQgbG9jYWxJbnRlckluZGV4ID0gMDsgbG9jYWxJbnRlckluZGV4IDwgaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2xvY2FsSW5kZXhdLmxlbmd0aDsgbG9jYWxJbnRlckluZGV4KyspIHtcclxuICAgICAgICBjb25zdCBmb3JlaWduSW5kZXggPSBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbbG9jYWxJbmRleF1bbG9jYWxJbnRlckluZGV4XTtcclxuICAgICAgICBpZiAobG9jYWxJbmRleCA8IGZvcmVpZ25JbmRleCkge1xyXG4gICAgICAgICAgY29uc3QgaW50ZXIgPSBpbnRlcnNlY3Rpb25JbmRleFtsb2NhbEluZGV4XVtpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbbG9jYWxJbmRleF1bbG9jYWxJbnRlckluZGV4XV07XHJcblxyXG4gICAgICAgICAgY29uc3QgcHJldkxvY2FsSW50ZXJJbmRleCA9IGxvY2FsSW50ZXJJbmRleCAtIDE7XHJcbiAgICAgICAgICBjb25zdCBuZXh0TG9jYWxJbnRlckluZGV4ID0gbG9jYWxJbnRlckluZGV4ICsgMTtcclxuXHJcbiAgICAgICAgICBjb25zdCBmb3JlaWduSW50ZXJJbmRleCA9IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtmb3JlaWduSW5kZXhdLmZpbmRJbmRleChpID0+IGkgPT09IGxvY2FsSW5kZXgpO1xyXG4gICAgICAgICAgY29uc3QgZm9yZWlnbmlzUmlnaHRTaWRlZCA9IHRoaXMudGVzdFNpZGUobGluZXNbbG9jYWxJbmRleF0udjEsIGxpbmVzW2xvY2FsSW5kZXhdLnYyLCBsaW5lc1tmb3JlaWduSW5kZXhdLnYxKTtcclxuICAgICAgICAgIGNvbnN0IHByZXZGb3JlaWduSW50ZXJJbmRleCA9IGZvcmVpZ25pc1JpZ2h0U2lkZWQgPyBmb3JlaWduSW50ZXJJbmRleCAtIDEgOiBmb3JlaWduSW50ZXJJbmRleCArIDE7XHJcbiAgICAgICAgICBjb25zdCBuZXh0Rm9yZWlnbkludGVySW5kZXggPSBmb3JlaWduaXNSaWdodFNpZGVkID8gZm9yZWlnbkludGVySW5kZXggKyAxIDogZm9yZWlnbkludGVySW5kZXggLSAxO1xyXG5cclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBcclxuICAgICAgICAgIC8vICAgbG9jYWxJbmRleDogJHtsb2NhbEluZGV4fVxyXG4gICAgICAgICAgLy8gICBsb2NhbEludGVyc2VjdGlvbnMgJHtpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbbG9jYWxJbmRleF1cclxuICAgICAgICAgIC8vICAgICAubWFwKChfLCBpKSA9PiBpID09PSBsb2NhbEludGVySW5kZXggPyBgWyR7X31dYCA6IF8pXHJcbiAgICAgICAgICAvLyAgICAgLmpvaW4oJywgJyl9XHJcbiAgICAgICAgICAvLyAgIGZvcmVpZ25JbmRleDogJHtmb3JlaWduSW5kZXh9XHJcbiAgICAgICAgICAvLyAgIGZvcmVpZ25JbnRlcnNlY3Rpb25zICR7aW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2ZvcmVpZ25JbmRleF1cclxuICAgICAgICAgIC8vICAgICAubWFwKChfLCBpKSA9PiBpID09PSBmb3JlaWduSW50ZXJJbmRleCA/IGBbJHtffV1gIDogXylcclxuICAgICAgICAgIC8vICAgICAuam9pbignLCAnKX1cclxuICAgICAgICAgIC8vIGApO1xyXG5cclxuICAgICAgICAgIGNvbnN0IHByZXZMb2NhbEludGVyID0gMCA8IGxvY2FsSW50ZXJJbmRleFxyXG4gICAgICAgICAgICA/IGludGVyc2VjdGlvbkluZGV4W2xvY2FsSW5kZXhdW2ludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtsb2NhbEluZGV4XVtwcmV2TG9jYWxJbnRlckluZGV4XV1cclxuICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgICAgY29uc3QgbmV4dExvY2FsSW50ZXIgPSBsb2NhbEludGVySW5kZXggPCBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbbG9jYWxJbmRleF0ubGVuZ3RoIC0gMVxyXG4gICAgICAgICAgICA/IGludGVyc2VjdGlvbkluZGV4W2xvY2FsSW5kZXhdW2ludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtsb2NhbEluZGV4XVtuZXh0TG9jYWxJbnRlckluZGV4XV1cclxuICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgICAgY29uc3QgcHJldkZvcmVpZ25JbnRlciA9IC0xIDwgcHJldkZvcmVpZ25JbnRlckluZGV4ICYmIHByZXZGb3JlaWduSW50ZXJJbmRleCA8IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtmb3JlaWduSW5kZXhdLmxlbmd0aFxyXG4gICAgICAgICAgICA/IGludGVyc2VjdGlvbkluZGV4W2ZvcmVpZ25JbmRleF1baW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2ZvcmVpZ25JbmRleF1bcHJldkZvcmVpZ25JbnRlckluZGV4XV1cclxuICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgICAgY29uc3QgbmV4dEZvcmVpZ25JbnRlciA9IC0xIDwgbmV4dEZvcmVpZ25JbnRlckluZGV4ICYmIG5leHRGb3JlaWduSW50ZXJJbmRleCA8IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtmb3JlaWduSW5kZXhdLmxlbmd0aFxyXG4gICAgICAgICAgICA/IGludGVyc2VjdGlvbkluZGV4W2ZvcmVpZ25JbmRleF1baW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2ZvcmVpZ25JbmRleF1bbmV4dEZvcmVpZ25JbnRlckluZGV4XV1cclxuICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBeXHJcbiAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICAgICAgICAgIC8vICAgICAgICAgICAgICAgIG5leHRGb3JlaWduSW50ZXJcclxuICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gICAgICAgICAgLy8gIC0tLXByZXZMb2NhbEludGVyLS0taW50ZXItLS1uZXh0TG9jYWxJbnRlci0tLT5cclxuICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gICAgICAgICAgLy8gICAgICAgICAgICAgICAgcHJldkZvcmVpZ25JbnRlclxyXG4gICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAgICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMuYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25JbmRleGVzKFxyXG4gICAgICAgICAgICBpbnRlcixcclxuICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgIHByZXZMb2NhbEludGVyLFxyXG4gICAgICAgICAgICAgIG5leHRGb3JlaWduSW50ZXIsXHJcbiAgICAgICAgICAgICAgbmV4dExvY2FsSW50ZXIsXHJcbiAgICAgICAgICAgICAgcHJldkZvcmVpZ25JbnRlclxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgcGFydGlhbHMucHVzaCguLi5wYXJ0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBjb25zb2xlLmxvZygncGFydGlhbHMnLCBwYXJ0aWFscyk7XHJcbiAgICByZXR1cm4gcGFydGlhbHM7XHJcbiAgfVxyXG4gIGJ1aWxkUG9seWdvbkluZGV4ZXNGcm9tUGFydGlhbHMocGFydGlhbHM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXVtdKTogbnVtYmVyW11bXSB7XHJcbiAgICBjb25zdCBwb2x5Z29uSW5kZXhlczogbnVtYmVyW11bXSA9IFtdO1xyXG4gICAgbGV0IGkgPSAwO1xyXG4gICAgbGV0IG92ZXJsYXA6IG51bWJlcjtcclxuICAgIHdoaWxlIChpIDwgcGFydGlhbHMubGVuZ3RoKSB7XHJcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGFydGlhbHMubGVuZ3RoOyBqKyspwqB7XHJcbiAgICAgICAgaWYgKGkgIT09IGopIHtcclxuICAgICAgICAgIGlmICh0aGlzLnBhcnRpYWxzT3ZlcmxhcHMocGFydGlhbHNbaV0sIHBhcnRpYWxzW2pdKSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgXHJcbiAgICAgICAgICAgIC8vICAgcGFydGlhbHNbaV06ICR7cGFydGlhbHNbaV0udG9TdHJpbmcoKX0sXHJcbiAgICAgICAgICAgIC8vICAgcGFydGlhbHNbal06ICR7cGFydGlhbHNbal0udG9TdHJpbmcoKX0sXHJcbiAgICAgICAgICAgIC8vIGApO1xyXG4gICAgICAgICAgICBwYXJ0aWFsc1tpXS5zcGxpY2UoLTIsIDIsIC4uLnBhcnRpYWxzW2pdKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYFxyXG4gICAgICAgICAgICAvLyAgIHBhcnRpYWxzW2ldOiAke3BhcnRpYWxzW2ldLnRvU3RyaW5nKCl9IFtORVddLFxyXG4gICAgICAgICAgICAvLyBgKTtcclxuICAgICAgICAgICAgcGFydGlhbHMuc3BsaWNlKGosIDEpO1xyXG4gICAgICAgICAgICBpZiAoaiA8IGkpIHtcclxuICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3ZlcmxhcCA9IHRoaXMucGFydGlhbHNPdmVybGFwcyhwYXJ0aWFsc1tpXSwgcGFydGlhbHNbaV0pIHx8IHRoaXMucGFydGlhbHNNZWV0KHBhcnRpYWxzW2ldLCBwYXJ0aWFsc1tpXSk7XHJcbiAgICAgICAgICAgIGlmIChvdmVybGFwID4gMCkge1xyXG4gICAgICAgICAgICAgIHBhcnRpYWxzW2ldLnNwbGljZSgwLCBvdmVybGFwKTtcclxuICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgXHJcbiAgICAgICAgICAgICAgLy8gICBwYXJ0aWFsc1tpXTogJHtwYXJ0aWFsc1tpXS50b1N0cmluZygpfSBbQ0xPU0VEXSxcclxuICAgICAgICAgICAgICAvLyBgKTtcclxuICAgICAgICAgICAgICBwb2x5Z29uSW5kZXhlcy5wdXNoKHBhcnRpYWxzW2ldKTtcclxuICAgICAgICAgICAgICBwYXJ0aWFscy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaSA9IC0xO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaSsrO1xyXG4gICAgfVxyXG4gICAgLy8gY29uc29sZS5sb2coJ2luY29tcGxldGUgcG9seWdvbnMnKTtcclxuICAgIC8vIHBhcnRpYWxzLm1hcChwID0+IGNvbnNvbGUubG9nKHAudG9TdHJpbmcoKSkpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ3BvbHlnb25zJywgcG9seWdvbnMpO1xyXG4gICAgLy8gcG9seWdvbnMubWFwKHAgPT4gY29uc29sZS5sb2cocC50b1N0cmluZygpKSk7XHJcbiAgICByZXR1cm4gcG9seWdvbkluZGV4ZXM7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBjb25zdCBsaW5lczogTGluZVtdID0gW107XHJcbi8vIGNvbnN0IGlUaW1lczogbnVtYmVyW11bXSA9IFtdO1xyXG4vLyBjb25zdCBpUG9pbnRzOiBWZWN0b3IyW11bXSA9IFtdO1xyXG4vLyBbXHJcbi8vICAgWzMwMCwgMzAwLCA2MDAsIDYwMF0sXHJcbi8vICAgWzMwMCwgNjAwLCA2MDAsIDMwMF0sXHJcbi8vICAgWzQwMCwgMzAwLCAzMDAsIDQwMF0sXHJcbi8vICAgWzUwMCwgNjAwLCA2MDAsIDQwMF0sXHJcbi8vICAgWzMwMCwgNTAwLCA0MDAsIDYwMF0sXHJcbi8vICAgWzUwMCwgNjAwLCA2MDAsIDQwMF0sXHJcbi8vIF0uZm9yRWFjaCgoW3gxLCB5MSwgeDIsIHkyXSkgPT4ge1xyXG4vLyAgIHRoaXMuYWRkSW50ZXJzZWN0aW9uVGltZXMobDEsIGxpbmVzLCBpVGltZXMsIGlQb2ludHMpO1xyXG4vLyAgIGxpbmVzLnB1c2gobDEpO1xyXG4vLyB9KTtcclxuLy8gY29uc3QgcGFydGlhbHMgPSB0aGlzLmJ1aWxkUGFydGlhbHNGcm9tSW50ZXJzZWN0aW9uVGltZXMobGluZXMsIGlUaW1lcyk7XHJcbi8vIGNvbnNvbGUubG9nKHBhcnRpYWxzKTsiLCJpbXBvcnQgeyBQb2xwbG90UmVuZGVyZXIgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL3BvbHBsb3QtcmVuZGVyZXJcIjtcclxuaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL2xpbmVcIjtcclxuaW1wb3J0IHsgUG9seWdvbiB9IGZyb20gXCIuL3BvbHlnb25cIjtcclxuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuL3ZlY3RvcjJcIjtcclxuXHJcbmNvbnN0IGdUZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnZycpO1xyXG5nVGVtcGxhdGUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcclxuZ1RlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzAuNHB4Jyk7XHJcblxyXG5jb25zdCBsaW5lVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2xpbmUnKTtcclxubGluZVRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hhcnJheScsICcxMCwgNCwgMSwgNCcpO1xyXG5cclxuY29uc3QgYW5jaG9yVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcclxuYW5jaG9yVGVtcGxhdGUuc2V0QXR0cmlidXRlKFxyXG4gICdkJyxcclxuICAnTSAwLCAwJyArXHJcbiAgJ0EgMTAsIDEwLCAwLCAwLCAwLCAtNSwgLTUnICsgXHJcbiAgJ0EgMTAsIDEwLCAwLCAxLCAxLCA1LCAtNScgK1xyXG4gICdBIDEwLCAxMCwgMCwgMCwgMCwgMCwgMCdcclxuKTtcclxuYW5jaG9yVGVtcGxhdGUuc2V0QXR0cmlidXRlKCdmaWxsJywgJ3doaXRlJyk7XHJcblxyXG5nVGVtcGxhdGUuYXBwZW5kQ2hpbGQobGluZVRlbXBsYXRlKTtcclxuZ1RlbXBsYXRlLmFwcGVuZENoaWxkKGFuY2hvclRlbXBsYXRlKTtcclxuZ1RlbXBsYXRlLmFwcGVuZENoaWxkKGFuY2hvclRlbXBsYXRlLmNsb25lTm9kZSgpKTtcclxuXHJcbmNvbnN0IHBvaW50VGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2NpcmNsZScpO1xyXG5wb2ludFRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdncmVlbicpO1xyXG5wb2ludFRlbXBsYXRlLnNldEF0dHJpYnV0ZSgncicsICczJyk7XHJcblxyXG5jb25zdCBwb2x5Z29uVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcclxucG9seWdvblRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnZmlsbCcsICdncmVlbicpO1xyXG5wb2x5Z29uVGVtcGxhdGUuc2V0QXR0cmlidXRlKCdmaWxsLW9wYWNpdHknLCAnMC43Jyk7XHJcbnBvbHlnb25UZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczJyk7XHJcbnBvbHlnb25UZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdncmV5Jyk7XHJcblxyXG5leHBvcnQgY2xhc3MgU3ZnUmVuZGVyZXIgaW1wbGVtZW50cyBQb2xwbG90UmVuZGVyZXIge1xyXG4gIHJlYWRvbmx5IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJyk7XHJcbiAgcHJpdmF0ZSBpbnRlcnNlY3Rpb25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcclxuICBwcml2YXRlIHBvbHlnb25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcclxuICBwcml2YXRlIHN2Z0dCeUxpbmUgPSBuZXcgTWFwPExpbmUsIFNWR0dFbGVtZW50PigpO1xyXG4gIHByaXZhdGUgbGluZUJ5U3ZnRyA9IG5ldyBNYXA8U1ZHR0VsZW1lbnQsIExpbmU+KCk7XHJcbiAgcHJpdmF0ZSBoYW5kbGVyczogUmVjb3JkPHN0cmluZywgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB2b2lkPiA9IHt9O1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQodGhpcy5pbnRlcnNlY3Rpb25Db250YWluZXIpO1xyXG4gICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQodGhpcy5wb2x5Z29uQ29udGFpbmVyKTtcclxuICB9XHJcbiAgcHJpdmF0ZSBfc2V0RXZlbnRIYW5kbGVyKGV2ZW50OiBzdHJpbmcsIGhhbmRsZXI6IChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuaGFuZGxlcnNbZXZlbnRdKSB7XHJcbiAgICAgIHRoaXMuc3ZnLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuaGFuZGxlcnNbZXZlbnRdKTtcclxuICAgIH1cclxuICAgIHRoaXMuaGFuZGxlcnNbZXZlbnRdID0gaGFuZGxlcjtcclxuICAgIHRoaXMuc3ZnLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuaGFuZGxlcnNbZXZlbnRdKTtcclxuICB9XHJcbiAgc2V0TW91c2VEb3duSGFuZGxlcihoYW5kbGVyOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgIHRoaXMuX3NldEV2ZW50SGFuZGxlcignbW91c2Vkb3duJywgaGFuZGxlcik7XHJcbiAgfVxyXG4gIHNldE1vdXNlVXBIYW5kbGVyKGhhbmRsZXI6IChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRIYW5kbGVyKCdtb3VzZXVwJywgaGFuZGxlcik7XHJcbiAgfVxyXG4gIHNldE1vdXNlTW92ZUhhbmRsZXIoaGFuZGxlcjogKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICB0aGlzLl9zZXRFdmVudEhhbmRsZXIoJ21vdXNlbW92ZScsIGhhbmRsZXIpO1xyXG4gIH1cclxuICBkcmF3TGluZShsaW5lOiBMaW5lKTogdm9pZCB7XHJcbiAgICBsZXQgc3ZnRzogU1ZHR0VsZW1lbnQ7XHJcbiAgICBpZiAoIXRoaXMuc3ZnR0J5TGluZS5oYXMobGluZSkpIHtcclxuICAgICAgc3ZnRyA9IGdUZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSkgYXMgU1ZHR0VsZW1lbnQ7XHJcbiAgICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKHN2Z0cpO1xyXG4gICAgICB0aGlzLnN2Z0dCeUxpbmUuc2V0KGxpbmUsIHN2Z0cpO1xyXG4gICAgICB0aGlzLmxpbmVCeVN2Z0cuc2V0KHN2Z0csIGxpbmUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc3ZnRyA9IHRoaXMuc3ZnR0J5TGluZS5nZXQobGluZSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzdmdMaW5lID0gc3ZnRy5jaGlsZHJlblswXSBhcyBTVkdMaW5lRWxlbWVudDtcclxuICAgIGNvbnN0IHN2Z1BhdGhBbmNob3JTdGFydCA9IHN2Z0cuY2hpbGRyZW5bMV0gYXMgU1ZHUGF0aEVsZW1lbnQ7XHJcbiAgICBjb25zdCBzdmdQYXRoQW5jaG9yRW5kID0gc3ZnRy5jaGlsZHJlblsyXSBhcyBTVkdQYXRoRWxlbWVudDtcclxuICAgIGNvbnN0IHgxID0gbGluZS54MS50b0ZpeGVkKCk7XHJcbiAgICBjb25zdCB5MSA9IGxpbmUueTEudG9GaXhlZCgpO1xyXG4gICAgY29uc3QgeDIgPSBsaW5lLngyLnRvRml4ZWQoKTtcclxuICAgIGNvbnN0IHkyID0gbGluZS55Mi50b0ZpeGVkKCk7XHJcbiAgICBzdmdMaW5lLnNldEF0dHJpYnV0ZSgneDEnLCB4MSk7XHJcbiAgICBzdmdMaW5lLnNldEF0dHJpYnV0ZSgneTEnLCB5MSk7XHJcbiAgICBzdmdMaW5lLnNldEF0dHJpYnV0ZSgneDInLCB4Mik7XHJcbiAgICBzdmdMaW5lLnNldEF0dHJpYnV0ZSgneTInLCB5Mik7XHJcbiAgICBjb25zdCBhbmdsZSA9IDE4MCAqIChsaW5lLnYyLnN1YihsaW5lLnYxKS5hbmdsZSgpIC0gTWF0aC5QSSAvIDIpIC8gTWF0aC5QSTtcclxuICAgIHN2Z1BhdGhBbmNob3JTdGFydC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt4MX0sICR7eTF9KSByb3RhdGUoJHtpc05hTihhbmdsZSkgPyAwIDogYW5nbGV9KWApO1xyXG4gICAgc3ZnUGF0aEFuY2hvckVuZC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt4Mn0sICR7eTJ9KSByb3RhdGUoJHtpc05hTihhbmdsZSkgPyAwIDogMTgwICsgYW5nbGV9KWApO1xyXG4gIH1cclxuICBlcmFzZUxpbmUobGluZTogTGluZSk6IHZvaWQge1xyXG4gICAgY29uc3Qgc3ZnRyA9IHRoaXMuc3ZnR0J5TGluZS5nZXQobGluZSk7XHJcbiAgICBpZiAoc3ZnRykge1xyXG4gICAgICB0aGlzLnN2Zy5yZW1vdmVDaGlsZChzdmdHKTtcclxuICAgICAgdGhpcy5zdmdHQnlMaW5lLmRlbGV0ZShsaW5lKTtcclxuICAgIH1cclxuICB9XHJcbiAgZHJhd1BvaW50KHBvaW50OiBWZWN0b3IyKTogdm9pZCB7XHJcbiAgICBjb25zdCBzdmdDaXJjbGUgPSBwb2ludFRlbXBsYXRlLmNsb25lTm9kZSgpIGFzIFNWR0NpcmNsZUVsZW1lbnQ7XHJcbiAgICBzdmdDaXJjbGUuc2V0QXR0cmlidXRlKCdjeCcsIHBvaW50LngudG9GaXhlZCgpKTtcclxuICAgIHN2Z0NpcmNsZS5zZXRBdHRyaWJ1dGUoJ2N5JywgcG9pbnQueS50b0ZpeGVkKCkpO1xyXG4gICAgdGhpcy5pbnRlcnNlY3Rpb25Db250YWluZXIuYXBwZW5kQ2hpbGQoc3ZnQ2lyY2xlKTtcclxuICB9XHJcbiAgcHJpdmF0ZSBjbGVhckNvbnRhaW5lcihjb250YWluZXI6IFNWR0dFbGVtZW50KTogdm9pZCB7XHJcbiAgICB3aGlsZSAoY29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbnRhaW5lci5maXJzdENoaWxkKTtcclxuICAgIH1cclxuICB9XHJcbiAgY2xlYXJJbnRlcnNlY3Rpb25zKCk6IHZvaWQge1xyXG4gICAgdGhpcy5jbGVhckNvbnRhaW5lcih0aGlzLmludGVyc2VjdGlvbkNvbnRhaW5lcik7XHJcbiAgfVxyXG4gIGRyYXdQb2x5Z29uKHBvbHlnb246IFBvbHlnb24pOiB2b2lkIHtcclxuICAgIGNvbnN0IHN2Z1BhdGggPSBwb2x5Z29uVGVtcGxhdGUuY2xvbmVOb2RlKCkgYXMgU1ZHUGF0aEVsZW1lbnQ7XHJcbiAgICBzdmdQYXRoLnNldEF0dHJpYnV0ZSgnZCcsICdNICcgKyBwb2x5Z29uLnZlcnRpY2VzLm1hcCh2ID0+IGAke3YueC50b0ZpeGVkKCl9ICR7di55LnRvRml4ZWQoKX1gKS5qb2luKCcgTCAnKSArICdaJyk7XHJcbiAgICBzdmdQYXRoLnNldEF0dHJpYnV0ZSgnZmlsbCcsICcjJyArIChNYXRoLmZsb29yKCgxNjc3NzIxNSAtIDFlNSkgKiBNYXRoLnJhbmRvbSgpKSArIDFlNSkudG9TdHJpbmcoMTYpKTtcclxuICAgIHRoaXMucG9seWdvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChzdmdQYXRoKTtcclxuICB9XHJcbiAgY2xlYXJQb2x5Z29ucygpOiB2b2lkIHtcclxuICAgIHRoaXMuY2xlYXJDb250YWluZXIodGhpcy5wb2x5Z29uQ29udGFpbmVyKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBQb2xwbG90IH0gZnJvbSBcIi4vcG9scGxvdFwiO1xyXG5pbXBvcnQgeyBTdmdSZW5kZXJlciB9IGZyb20gXCIuL3N2Zy1yZW5kZXJlclwiO1xyXG5cclxuY29uc3Qgc3ZnUmVuZGVyZXIgPSBuZXcgU3ZnUmVuZGVyZXIoKTtcclxuY29uc3QgcG9scGxvdCA9IG5ldyBQb2xwbG90KHN2Z1JlbmRlcmVyKTtcclxuY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcclxuYm9keS5hcHBlbmRDaGlsZChzdmdSZW5kZXJlci5zdmcpOyJdLCJzb3VyY2VSb290IjoiIn0=