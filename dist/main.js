(()=>{"use strict";var t=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.dotRaw=function(t,e,n,i){return t*n+e*i},t.dot=function(t,e){return this.dotRaw(t.x,t.y,e.x,e.y)},t.prototype.dot=function(e){return t.dot(this,e)},t.crossRaw=function(t,e,n,i){return t*i-n*e},t.cross=function(t,e){return this.crossRaw(t.x,t.y,e.x,e.y)},t.prototype.cross=function(e){return t.cross(this,e)},t.lenRaw=function(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))},t.len=function(t){return this.lenRaw(t.x,t.y)},t.prototype.len=function(){return t.len(this)},t.normalizeRaw=function(t,e,n){void 0===n&&(n=1);var i=n/this.lenRaw(t,e);return this.mulRaw(t,e,i)},t.normalize=function(t,e){return void 0===e&&(e=1),this.normalizeRaw(t.x,t.y,e)},t.prototype.normalize=function(e){return void 0===e&&(e=1),t.normalize(this,e)},t.equalsRaw=function(t,e,n,i){return t===n&&e===i},t.equals=function(t,e){return this.equalsRaw(t.x,t.y,e.x,e.y)},t.prototype.equals=function(e){return t.equals(this,e)},t.addRaw=function(e,n,i,r){return new t(e+i,n+r)},t.add=function(t,e){return this.addRaw(t.x,t.y,e.x,e.y)},t.prototype.add=function(e){return t.add(this,e)},t.subRaw=function(e,n,i,r){return new t(e-i,n-r)},t.sub=function(t,e){return this.subRaw(t.x,t.y,e.x,e.y)},t.prototype.sub=function(e){return t.sub(this,e)},t.mulRaw=function(e,n,i){return new t(e*i,n*i)},t.mul=function(t,e){return this.mulRaw(t.x,t.y,e)},t.prototype.mul=function(e){return t.mul(this,e)},t.intersectionTimesRaw=function(e,n,i,r,o,s,u,a){var h=this.crossRaw(i-e,r-n,u-o,a-s);return new t(this.crossRaw(u-o,a-s,e-o,n-s)/h,this.crossRaw(i-e,r-n,e-o,n-s)/h)},t.intersectionTimes=function(t,e,n,i){return this.intersectionTimesRaw(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)},t.prototype.intersectionTimes=function(e,n,i){return t.intersectionTimes(this,e,n,i)},t.intersectionRaw=function(t,e,n,i,r,o,s,u){var a=this.intersectionTimesRaw(t,e,n,i,r,o,s,u);if(a)return a.y=e+(i-e)*a.x,a.x=t+(n-t)*a.x,a},t.intersection=function(t,e,n,i){return this.intersectionRaw(t.x,t.y,e.x,e.y,n.x,n.y,i.x,i.y)},t.prototype.intersection=function(e,n,i){return t.intersection(this,e,n,i)},t.prototype.angle=function(t){if(t){var e=this.angle(),n=t.angle();return n<e?n+2*Math.PI-e:n-e}return this.y>0?Math.acos(this.x/this.len()):2*Math.PI-Math.acos(this.x/this.len())},t}(),e=function(){function e(e,n,i,r){this.v1=new t(e,n),this.v2=new t(i,r)}return Object.defineProperty(e.prototype,"x1",{get:function(){return this.v1.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this.v1.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x2",{get:function(){return this.v2.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y2",{get:function(){return this.v2.y},enumerable:!1,configurable:!0}),e.prototype.len=function(){return this.v2.sub(this.v1).len()},e.prototype.pointAt=function(t){return this.v1.add(this.v2.sub(this.v1).mul(t))},e.prototype.before=function(t){return this.v1.add(this.v2.sub(this.v1).mul(-t/this.len()))},e.prototype.after=function(t){return this.v1.add(this.v2.sub(this.v1).mul((this.len()+t)/this.len()))},e.prototype.intersectionTimesWith=function(t){return this.v1.intersectionTimes(this.v2,t.v1,t.v2)},e.prototype.update=function(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.v1.x+=t,this.v1.y+=e,this.v2.x+=n,this.v2.y+=i},e}(),n=function(){function t(t){void 0===t&&(t=[]),this.vertices=t}return t.prototype.areaBetween=function(t,e){return(this.vertices[e].x-this.vertices[t].x)*(this.vertices[t].y+this.vertices[e].y)/2},t.prototype.area=function(){for(var t=0,e=this.vertices.length-1,n=0;n<this.vertices.length;n++)t+=this.areaBetween(e,n),e=n;return t},t.prototype.shareEdge=function(t,e){for(var n=this.vertices.length-1,i=0;i<this.vertices.length;i++){if(this.vertices[n].equals(t)&&this.vertices[i].equals(e))return!0;n=i}return!1},t.prototype.intersectionWith=function(t){},t.prototype.reverse=function(){this.vertices.reverse()},t.prototype.toString=function(){return this.vertices.length+" points: "+this.vertices.map((function(t){return"("+t.x.toFixed()+", "+t.y.toFixed()+")"})).join(", ")+" (area: "+this.area().toFixed()+")"},t}(),i=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,r++)i[r]=o[s];return i},r=function(){function t(t){var n,i,r,o,s=this;this.renderer=t,this.lines=[],this.intersectionTimes=[],this.intersections=[],this.intersectionIndex=[],this.renderer.setMouseDownHandler((function(t,r,o){i=o||null,(n=r||null)||(n=new e(t.clientX,t.clientY,t.clientX,t.clientY),i=n.v2,s.addLine(n))})),this.renderer.setMouseUpHandler((function(t,e,u){e?(r&&r!==e&&s.renderer.drawLine(r,e===o,!1),r=e,s.renderer.drawLine(r,e===o,!0)):r&&s.renderer.drawLine(r,e===o,!1),n=null,i=null})),this.renderer.setMouseMoveHandler((function(t,e,u){e?(o&&o!==e&&s.renderer.drawLine(o,!1,e===r),o=e,s.renderer.drawLine(o,!0,e===r)):o&&(s.renderer.drawLine(o,!1,e===r),o=null),n&&(i?(i.x=t.clientX,i.y=t.clientY):n.update(t.movementX,t.movementY,t.movementX,t.movementY),s.updateIntersectionTimes(n),s.renderer.drawLine(n,n===o,n===r))}))}return t.prototype.addLine=function(t){this.addIntersectionTimes(t),this.lines.push(t),this.renderer.drawLine(t,!1,!1)},t.prototype.addIntersectionTimes=function(t,e,n,i,r){void 0===e&&(e=this.lines),void 0===n&&(n=this.intersectionTimes),void 0===i&&(i=this.intersections),void 0===r&&(r=this.intersectionIndex);for(var o,s=[],u=[],a=0;a<e.length;a++)o=e[a].intersectionTimesWith(t),n[a].push(o.x),i.push(e[a].pointAt(o.x)),r[a].push(i.length-1),s.push(o.y),u.push(i.length-1);s.push(NaN),u.push(null),n.push(s),r.push(u),this.renderIntersections()},t.prototype.updateIntersectionTimes=function(t,e,n,i,r){void 0===e&&(e=this.lines),void 0===n&&(n=this.intersectionTimes),void 0===i&&(i=this.intersections),void 0===r&&(r=this.intersectionIndex);for(var o,s=e.indexOf(t),u=0;u<e.length;u++)u!==s&&(o=e[u].intersectionTimesWith(t),n[u][s]=o.x,n[s][u]=o.y,u<s?i[r[u][s]]=e[u].pointAt(o.x):i[r[s][u]]=e[u].pointAt(o.x));this.renderIntersections()},t.prototype.renderIntersections=function(){var t=this;this.renderer.clearPolygons();var e=this.buildPartialsFromIntersectionTimes();this.buildPolygonIndexesFromPartials(e).map((function(e){return new n(e.map((function(e){return t.intersections[e]})))})).forEach((function(e){e.area()>0&&t.renderer.drawPolygon(e)}))},t.prototype.testSide=function(t,e,n){return e.sub(t).cross(n.sub(t))>0},t.prototype.partialsOverlaps=function(t,e){return t[t.length-2]===e[0]&&t[t.length-1]===e[1]?2:0},t.prototype.partialsMeet=function(t,e){return t[t.length-1]===e[0]?1:0},t.prototype.buildPartialsFromIntersectionIndexes=function(t,e){for(var n=[],i=0;i<e.length;i++)if("number"==typeof e[i]){var r=i+1;for(r===e.length&&(r=0);"number"!=typeof e[r];)++r===e.length&&(r=0);i!==r&&n.push([e[i],t,e[r]])}return n},t.prototype.buildPartialsFromIntersectionTimes=function(t,e,n){void 0===t&&(t=this.lines),void 0===e&&(e=this.intersectionTimes),void 0===n&&(n=this.intersectionIndex);for(var i=e.map((function(t,n){return t.map((function(t,e){return e})).filter((function(i){return!isNaN(t[i])&&0<=t[i]&&t[i]<=1&&!isNaN(e[i][n])&&0<=e[i][n]&&e[i][n]<=1})).sort((function(e,n){return t[e]-t[n]}))})),r=[],o=function(e){for(var o=0;o<i[e].length;o++){var u=i[e][o];if(e<u){var a=n[e][i[e][o]],h=o-1,c=o+1,l=i[u].findIndex((function(t){return t===e})),p=s.testSide(t[e].v1,t[e].v2,t[u].v1),d=p?l-1:l+1,v=p?l+1:l-1,f=0<o?n[e][i[e][h]]:null,y=o<i[e].length-1?n[e][i[e][c]]:null,w=-1<d&&d<i[u].length?n[u][i[u][d]]:null,g=-1<v&&v<i[u].length?n[u][i[u][v]]:null,m=s.buildPartialsFromIntersectionIndexes(a,[f,g,y,w]);r.push.apply(r,m)}}},s=this,u=0;u<i.length;u++)o(u);return r},t.prototype.buildPolygonIndexesFromPartials=function(t){for(var e,n,r=[],o=0;o<t.length;){for(var s=0;s<t.length;s++)if(o!==s&&this.partialsOverlaps(t[o],t[s])){(e=t[o]).splice.apply(e,i([-2,2],t[s])),t.splice(s,1),s<o&&o--,(n=this.partialsOverlaps(t[o],t[o])||this.partialsMeet(t[o],t[o]))>0&&(t[o].splice(0,n),r.push(t[o]),t.splice(o,1)),o=-1;break}o++}return r},t}(),o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("stroke","black"),o.setAttribute("stroke-width","0.4px");var s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("stroke-dasharray","10, 4, 1, 4");var u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d","M 0, 0A 10, 10, 0, 0, 0, -5, -5A 10, 10, 0, 1, 1, 5, -5A 10, 10, 0, 0, 0, 0, 0"),u.setAttribute("fill","white"),o.appendChild(s),o.appendChild(u),o.appendChild(u.cloneNode());var a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("fill","green"),a.setAttribute("r","3");var h=document.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("fill","green"),h.setAttribute("fill-opacity","0.7"),h.setAttribute("stroke-width","3"),h.setAttribute("stroke","grey");var c=new(function(){function t(){this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.intersectionContainer=document.createElementNS("http://www.w3.org/2000/svg","g"),this.polygonContainer=document.createElementNS("http://www.w3.org/2000/svg","g"),this.svgGByLine=new Map,this.lineBySvgG=new Map,this.svg.appendChild(this.intersectionContainer),this.svg.appendChild(this.polygonContainer)}return t.prototype.clickHandlerWrapper=function(t){var e=this;return function(n){var i=document.elementFromPoint(n.clientX,n.clientY),r=e.lineBySvgG.get(i.parentNode);i instanceof SVGPathElement&&i.parentNode!==e.polygonContainer?i.parentNode.children[1]===i?t(n,r,r.v1):t(n,r,r.v2):i instanceof SVGLineElement?t(n,r):t(n)}},t.prototype.setMouseDownHandler=function(t){this.onMouseDown&&this.svg.removeEventListener("mousedown",this.onMouseDown),this.onMouseDown=this.clickHandlerWrapper(t),this.svg.addEventListener("mousedown",this.onMouseDown)},t.prototype.setMouseUpHandler=function(t){this.onMouseUp&&this.svg.removeEventListener("mouseup",this.onMouseUp),this.onMouseUp=this.clickHandlerWrapper(t),this.svg.addEventListener("mouseup",this.onMouseUp)},t.prototype.setMouseMoveHandler=function(t){this.onMouseMove&&this.svg.removeEventListener("mousemove",this.onMouseMove),this.onMouseMove=this.clickHandlerWrapper(t),this.svg.addEventListener("mousemove",this.onMouseMove)},t.prototype.drawLine=function(t,e,n){var i;void 0===e&&(e=!1),void 0===n&&(n=!1),this.svgGByLine.has(t)?i=this.svgGByLine.get(t):(i=o.cloneNode(!0),this.svg.appendChild(i),this.svgGByLine.set(t,i),this.lineBySvgG.set(i,t));var r=i.children[0],s=i.children[1],u=i.children[2],a=t.x1.toFixed(),h=t.y1.toFixed(),c=t.x2.toFixed(),l=t.y2.toFixed();r.setAttribute("x1",a),r.setAttribute("y1",h),r.setAttribute("x2",c),r.setAttribute("y2",l),e?i.setAttribute("stroke-width","0.8px"):i.setAttribute("stroke-width","0.4px"),n?i.setAttribute("stroke","#19a194"):i.setAttribute("stroke","black");var p=180*(t.v2.sub(t.v1).angle()-Math.PI/2)/Math.PI;s.setAttribute("transform","translate("+a+", "+h+") rotate("+(isNaN(p)?0:p)+")"),u.setAttribute("transform","translate("+c+", "+l+") rotate("+(isNaN(p)?0:180+p)+")")},t.prototype.eraseLine=function(t){var e=this.svgGByLine.get(t);e&&(this.svg.removeChild(e),this.svgGByLine.delete(t))},t.prototype.drawPoint=function(t){var e=a.cloneNode();e.setAttribute("cx",t.x.toFixed()),e.setAttribute("cy",t.y.toFixed()),this.intersectionContainer.appendChild(e)},t.prototype.clearContainer=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},t.prototype.clearIntersections=function(){this.clearContainer(this.intersectionContainer)},t.prototype.drawPolygon=function(t){var e=h.cloneNode();e.setAttribute("d","M "+t.vertices.map((function(t){return t.x.toFixed()+" "+t.y.toFixed()})).join(" L ")+"Z"),e.setAttribute("fill","#"+(Math.floor(16677215*Math.random())+1e5).toString(16)),this.polygonContainer.appendChild(e)},t.prototype.clearPolygons=function(){this.clearContainer(this.polygonContainer)},t}());new r(c),document.querySelector("body").appendChild(c.svg)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2xwbG90Ly4vc3JjL3ZlY3RvcjIudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9saW5lLnRzIiwid2VicGFjazovL3BvbHBsb3QvLi9zcmMvcG9seWdvbi50cyIsIndlYnBhY2s6Ly9wb2xwbG90Ly4vc3JjL3BvbHBsb3QudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9zdmctcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vcG9scGxvdC8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJ4IiwieSIsImRvdFJhdyIsIngxIiwieTEiLCJ4MiIsInkyIiwiZG90IiwidSIsInYiLCJ0aGlzIiwib3RoZXIiLCJWZWN0b3IyIiwiY3Jvc3NSYXciLCJjcm9zcyIsImxlblJhdyIsIk1hdGgiLCJzcXJ0IiwicG93IiwibGVuIiwibm9ybWFsaXplUmF3IiwiYnkiLCJjb2VmIiwibXVsUmF3Iiwibm9ybWFsaXplIiwiZXF1YWxzUmF3IiwiZXF1YWxzIiwiYWRkUmF3IiwiYWRkIiwic3ViUmF3Iiwic3ViIiwibXVsIiwiaW50ZXJzZWN0aW9uVGltZXNSYXciLCJmeCIsImZ5IiwidHgiLCJ0eSIsInN4Iiwic3kiLCJleCIsImV5IiwiZGV0IiwiaW50ZXJzZWN0aW9uVGltZXMiLCJmcm9tIiwidG8iLCJzdGFydCIsImVuZCIsImludGVyc2VjdGlvblJhdyIsInRpbWVzIiwiaW50ZXJzZWN0aW9uIiwiYW5nbGUiLCJhMSIsImEyIiwiUEkiLCJhY29zIiwidjEiLCJ2MiIsInBvaW50QXQiLCJ0IiwiYmVmb3JlIiwiYWZ0ZXIiLCJpbnRlcnNlY3Rpb25UaW1lc1dpdGgiLCJ1cGRhdGUiLCJkeDEiLCJkeTEiLCJkeDIiLCJkeTIiLCJ2ZXJ0aWNlcyIsImFyZWFCZXR3ZWVuIiwiaSIsImoiLCJhcmVhIiwiYSIsImxlbmd0aCIsInNoYXJlRWRnZSIsImludGVyc2VjdGlvbldpdGgiLCJsaW5lIiwicmV2ZXJzZSIsInRvU3RyaW5nIiwibWFwIiwidG9GaXhlZCIsImpvaW4iLCJyZW5kZXJlciIsImRyYWdnZWRMaW5lIiwiZHJhZ2dlZFZlY3RvcjIiLCJzZWxlY3RlZExpbmUiLCJob3ZlcmVkTGluZSIsImxpbmVzIiwiaW50ZXJzZWN0aW9ucyIsImludGVyc2VjdGlvbkluZGV4Iiwic2V0TW91c2VEb3duSGFuZGxlciIsImV2ZW50IiwiY2xpY2tlZExpbmUiLCJjbGlja2VkVmVjdG9yMiIsIkxpbmUiLCJjbGllbnRYIiwiY2xpZW50WSIsImFkZExpbmUiLCJzZXRNb3VzZVVwSGFuZGxlciIsImRyYXdMaW5lIiwic2V0TW91c2VNb3ZlSGFuZGxlciIsIm1vdmVtZW50WCIsIm1vdmVtZW50WSIsInVwZGF0ZUludGVyc2VjdGlvblRpbWVzIiwiYWRkSW50ZXJzZWN0aW9uVGltZXMiLCJwdXNoIiwibmV3SW50ZXJzZWN0aW9uVGltZXMiLCJuZXdJbnRlcnNlY3Rpb25JbmRleCIsIk5hTiIsInJlbmRlckludGVyc2VjdGlvbnMiLCJpbmRleCIsImluZGV4T2YiLCJjbGVhclBvbHlnb25zIiwicGFydGlhbHMiLCJidWlsZFBhcnRpYWxzRnJvbUludGVyc2VjdGlvblRpbWVzIiwiYnVpbGRQb2x5Z29uSW5kZXhlc0Zyb21QYXJ0aWFscyIsInBvbHlnb25JbmRleCIsIlBvbHlnb24iLCJmb3JFYWNoIiwicG9seWdvbiIsImRyYXdQb2x5Z29uIiwidGVzdFNpZGUiLCJ3IiwicGFydGlhbHNPdmVybGFwcyIsInAxIiwicDIiLCJwYXJ0aWFsc01lZXQiLCJidWlsZFBhcnRpYWxzRnJvbUludGVyc2VjdGlvbkluZGV4ZXMiLCJjZW50ZXIiLCJpbmRleGVzIiwicGFydHMiLCJpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXkiLCJpbnRlcnNlY3Rpb25UaW1lc0F0SSIsIl8iLCJmaWx0ZXIiLCJpc05hTiIsInNvcnQiLCJsb2NhbEluZGV4IiwibG9jYWxJbnRlckluZGV4IiwiZm9yZWlnbkluZGV4IiwiaW50ZXIiLCJwcmV2TG9jYWxJbnRlckluZGV4IiwibmV4dExvY2FsSW50ZXJJbmRleCIsImZvcmVpZ25JbnRlckluZGV4IiwiZmluZEluZGV4IiwiZm9yZWlnbmlzUmlnaHRTaWRlZCIsInByZXZGb3JlaWduSW50ZXJJbmRleCIsIm5leHRGb3JlaWduSW50ZXJJbmRleCIsInByZXZMb2NhbEludGVyIiwibmV4dExvY2FsSW50ZXIiLCJwcmV2Rm9yZWlnbkludGVyIiwibmV4dEZvcmVpZ25JbnRlciIsIm92ZXJsYXAiLCJwb2x5Z29uSW5kZXhlcyIsInNwbGljZSIsImdUZW1wbGF0ZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwic2V0QXR0cmlidXRlIiwibGluZVRlbXBsYXRlIiwiYW5jaG9yVGVtcGxhdGUiLCJhcHBlbmRDaGlsZCIsImNsb25lTm9kZSIsInBvaW50VGVtcGxhdGUiLCJwb2x5Z29uVGVtcGxhdGUiLCJzdmdSZW5kZXJlciIsInN2ZyIsImludGVyc2VjdGlvbkNvbnRhaW5lciIsInBvbHlnb25Db250YWluZXIiLCJzdmdHQnlMaW5lIiwiTWFwIiwibGluZUJ5U3ZnRyIsImNsaWNrSGFuZGxlcldyYXBwZXIiLCJjbGlja0hhbmRsZXIiLCJlbGVtZW50QXQiLCJlbGVtZW50RnJvbVBvaW50IiwiZ2V0IiwicGFyZW50Tm9kZSIsIlNWR1BhdGhFbGVtZW50IiwiY2hpbGRyZW4iLCJTVkdMaW5lRWxlbWVudCIsIm9uTW91c2VEb3duIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbk1vdXNlVXAiLCJvbk1vdXNlTW92ZSIsImlzSG92ZXJlZCIsImlzU2VsZWN0ZWQiLCJzdmdHIiwiaGFzIiwic2V0Iiwic3ZnTGluZSIsInN2Z1BhdGhBbmNob3JTdGFydCIsInN2Z1BhdGhBbmNob3JFbmQiLCJlcmFzZUxpbmUiLCJyZW1vdmVDaGlsZCIsImRlbGV0ZSIsImRyYXdQb2ludCIsInBvaW50Iiwic3ZnQ2lyY2xlIiwiY2xlYXJDb250YWluZXIiLCJjb250YWluZXIiLCJmaXJzdENoaWxkIiwiY2xlYXJJbnRlcnNlY3Rp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LElBQUl1QyxFQUFRMUMsR0FDZlQsU0FBU29ELGNBQWMsUUFDL0IvQyxZQUFZSSxFQUFZQyxNIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmVjdG9yMiB7XHJcbiAgY29uc3RydWN0b3IocHVibGljIHggPSAwLCBwdWJsaWMgeSA9IDApIHt9XHJcbiAgc3RhdGljIGRvdFJhdyh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB4MSAqIHgyICsgeTEgKiB5MjtcclxuICB9XHJcbiAgc3RhdGljIGRvdCh1OiBWZWN0b3IyLCB2OiBWZWN0b3IyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmRvdFJhdyh1LngsIHUueSwgdi54LCB2LnkpO1xyXG4gIH1cclxuICBkb3Qob3RoZXI6IFZlY3RvcjIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuZG90KHRoaXMsIG90aGVyKTtcclxuICB9XHJcbiAgc3RhdGljIGNyb3NzUmF3KHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHgxICogeTIgLSB4MiAqIHkxO1xyXG4gIH1cclxuICBzdGF0aWMgY3Jvc3ModTogVmVjdG9yMiwgdjogVmVjdG9yMik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5jcm9zc1Jhdyh1LngsIHUueSwgdi54LCB2LnkpO1xyXG4gIH1cclxuICBjcm9zcyhvdGhlcjogVmVjdG9yMik6IG51bWJlciB7XHJcbiAgICByZXR1cm4gVmVjdG9yMi5jcm9zcyh0aGlzLCBvdGhlcik7XHJcbiAgfVxyXG4gIHN0YXRpYyBsZW5SYXcoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh4LCAyKSArIE1hdGgucG93KHksIDIpKTtcclxuICB9XHJcbiAgc3RhdGljIGxlbih1OiBWZWN0b3IyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmxlblJhdyh1LngsIHUueSk7XHJcbiAgfVxyXG4gIGxlbigpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIubGVuKHRoaXMpO1xyXG4gIH1cclxuICBzdGF0aWMgbm9ybWFsaXplUmF3KHg6IG51bWJlciwgeTogbnVtYmVyLCBieTogbnVtYmVyID0gMSk6IFZlY3RvcjIge1xyXG4gICAgY29uc3QgY29lZiA9IGJ5IC8gdGhpcy5sZW5SYXcoeCwgeSk7XHJcbiAgICByZXR1cm4gdGhpcy5tdWxSYXcoeCwgeSwgY29lZik7XHJcbiAgfVxyXG4gIHN0YXRpYyBub3JtYWxpemUodTogVmVjdG9yMiwgYnk6IG51bWJlciA9IDEpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZVJhdyh1LngsIHUueSwgYnkpO1xyXG4gIH1cclxuICBub3JtYWxpemUoYnk6IG51bWJlciA9IDEpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBWZWN0b3IyLm5vcm1hbGl6ZSh0aGlzLCBieSk7XHJcbiAgfVxyXG4gIHN0YXRpYyBlcXVhbHNSYXcoeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHgxID09PSB4MiAmJiB5MSA9PT0geTI7XHJcbiAgfVxyXG4gIHN0YXRpYyBlcXVhbHModTogVmVjdG9yMiwgdjogVmVjdG9yMik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZXF1YWxzUmF3KHUueCwgdS55LCB2LngsIHYueSk7XHJcbiAgfVxyXG4gIGVxdWFscyhvdGhlcjogVmVjdG9yMik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuZXF1YWxzKHRoaXMsIG90aGVyKTtcclxuICB9XHJcbiAgc3RhdGljIGFkZFJhdyh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIoeDEgKyB4MiwgeTEgKyB5Mik7XHJcbiAgfVxyXG4gIHN0YXRpYyBhZGQodTogVmVjdG9yMiwgdjogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHRoaXMuYWRkUmF3KHUueCwgdS55LCB2LngsIHYueSk7XHJcbiAgfVxyXG4gIGFkZChvdGhlcjogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuYWRkKHRoaXMsIG90aGVyKTtcclxuICB9XHJcbiAgc3RhdGljIHN1YlJhdyh4MTogbnVtYmVyLCB5MTogbnVtYmVyLCB4MjogbnVtYmVyLCB5MjogbnVtYmVyKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gbmV3IFZlY3RvcjIoeDEgLSB4MiwgeTEgLSB5Mik7XHJcbiAgfVxyXG4gIHN0YXRpYyBzdWIodTogVmVjdG9yMiwgdjogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHRoaXMuc3ViUmF3KHUueCwgdS55LCB2LngsIHYueSk7XHJcbiAgfVxyXG4gIHN1YihvdGhlcjogVmVjdG9yMik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuc3ViKHRoaXMsIG90aGVyKTtcclxuICB9XHJcbiAgc3RhdGljIG11bFJhdyh4OiBudW1iZXIsIHk6IG51bWJlciwgYnk6IG51bWJlcik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKHggKiBieSwgeSAqIGJ5KTtcclxuICB9XHJcbiAgc3RhdGljIG11bCh1OiBWZWN0b3IyLCBieTogbnVtYmVyKTogVmVjdG9yMiB7XHJcbiAgICByZXR1cm4gdGhpcy5tdWxSYXcodS54LCB1LnksIGJ5KTtcclxuICB9XHJcbiAgbXVsKGJ5OiBudW1iZXIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiBWZWN0b3IyLm11bCh0aGlzLCBieSk7XHJcbiAgfVxyXG4gIHN0YXRpYyBpbnRlcnNlY3Rpb25UaW1lc1JhdyhcclxuICAgIGZ4OiBudW1iZXIsIGZ5OiBudW1iZXIsIHR4OiBudW1iZXIsIHR5OiBudW1iZXIsXHJcbiAgICBzeDogbnVtYmVyLCBzeTogbnVtYmVyLCBleDogbnVtYmVyLCBleTogbnVtYmVyXHJcbiAgKTogVmVjdG9yMiB8IHVuZGVmaW5lZCB7XHJcbiAgICBjb25zdCBkZXQgPSB0aGlzLmNyb3NzUmF3KHR4IC0gZngsIHR5IC0gZnksIGV4IC0gc3gsIGV5IC0gc3kpO1xyXG4gICAgcmV0dXJuIG5ldyBWZWN0b3IyKFxyXG4gICAgICB0aGlzLmNyb3NzUmF3KGV4IC0gc3gsIGV5IC0gc3ksIGZ4IC0gc3gsIGZ5IC0gc3kpIC8gZGV0LFxyXG4gICAgICB0aGlzLmNyb3NzUmF3KHR4IC0gZngsIHR5IC0gZnksIGZ4IC0gc3gsIGZ5IC0gc3kpIC8gZGV0XHJcbiAgICApO1xyXG4gIH1cclxuICBzdGF0aWMgaW50ZXJzZWN0aW9uVGltZXMoXHJcbiAgICBmcm9tOiBWZWN0b3IyLCB0bzogVmVjdG9yMiwgc3RhcnQ6IFZlY3RvcjIsIGVuZDogVmVjdG9yMlxyXG4gICk6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xyXG4gICAgcmV0dXJuIHRoaXMuaW50ZXJzZWN0aW9uVGltZXNSYXcoZnJvbS54LCBmcm9tLnksIHRvLngsIHRvLnksIHN0YXJ0LngsIHN0YXJ0LnksIGVuZC54LCBlbmQueSk7XHJcbiAgfVxyXG4gIGludGVyc2VjdGlvblRpbWVzKHRvOiBWZWN0b3IyLCBzdGFydDogVmVjdG9yMiwgZW5kOiBWZWN0b3IyKTogVmVjdG9yMiB8IHVuZGVmaW5lZCB7XHJcbiAgICByZXR1cm4gVmVjdG9yMi5pbnRlcnNlY3Rpb25UaW1lcyh0aGlzLCB0bywgc3RhcnQsIGVuZCk7XHJcbiAgfVxyXG4gIHN0YXRpYyBpbnRlcnNlY3Rpb25SYXcoXHJcbiAgICBmeDogbnVtYmVyLCBmeTogbnVtYmVyLCB0eDogbnVtYmVyLCB0eTogbnVtYmVyLFxyXG4gICAgc3g6IG51bWJlciwgc3k6IG51bWJlciwgZXg6IG51bWJlciwgZXk6IG51bWJlclxyXG4gICk6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xyXG4gICAgY29uc3QgdGltZXMgPSB0aGlzLmludGVyc2VjdGlvblRpbWVzUmF3KGZ4LCBmeSwgdHgsIHR5LCBzeCwgc3ksIGV4LCBleSk7XHJcbiAgICBpZiAodGltZXMpIHtcclxuICAgICAgdGltZXMueSA9IGZ5ICsgKHR5IC0gZnkpICogdGltZXMueDtcclxuICAgICAgdGltZXMueCA9IGZ4ICsgKHR4IC0gZngpICogdGltZXMueDtcclxuICAgICAgcmV0dXJuIHRpbWVzO1xyXG4gICAgfVxyXG4gIH1cclxuICBzdGF0aWMgaW50ZXJzZWN0aW9uKGZyb206IFZlY3RvcjIsIHRvOiBWZWN0b3IyLCBzdGFydDogVmVjdG9yMiwgZW5kOiBWZWN0b3IyKTogVmVjdG9yMiB8IHVuZGVmaW5lZCB7XHJcbiAgICByZXR1cm4gdGhpcy5pbnRlcnNlY3Rpb25SYXcoZnJvbS54LCBmcm9tLnksIHRvLngsIHRvLnksIHN0YXJ0LngsIHN0YXJ0LnksIGVuZC54LCBlbmQueSk7XHJcbiAgfVxyXG4gIGludGVyc2VjdGlvbih0bzogVmVjdG9yMiwgc3RhcnQ6IFZlY3RvcjIsIGVuZDogVmVjdG9yMik6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xyXG4gICAgcmV0dXJuIFZlY3RvcjIuaW50ZXJzZWN0aW9uKHRoaXMsIHRvLCBzdGFydCwgZW5kKTtcclxuICB9XHJcbiAgYW5nbGUob3RoZXI/OiBWZWN0b3IyKTogbnVtYmVyIHtcclxuICAgIGlmIChvdGhlcikge1xyXG4gICAgICAgY29uc3QgYTEgPSB0aGlzLmFuZ2xlKCk7XHJcbiAgICAgICBjb25zdCBhMiA9IG90aGVyLmFuZ2xlKCk7XHJcbiAgICAgICBpZiAoYTIgPCBhMSkge1xyXG4gICAgICAgIHJldHVybiBhMiArIDIgKiBNYXRoLlBJIC0gYTE7XHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBhMiAtIGExO1xyXG4gICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnkgPiAwKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmFjb3ModGhpcy54IC8gdGhpcy5sZW4oKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gMiAqIE1hdGguUEkgLSBNYXRoLmFjb3ModGhpcy54IC8gdGhpcy5sZW4oKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuL3ZlY3RvcjJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMaW5lIHtcclxuICB2MTogVmVjdG9yMjtcclxuICB2MjogVmVjdG9yMjtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHgxPzogbnVtYmVyLFxyXG4gICAgeTE/OiBudW1iZXIsXHJcbiAgICB4Mj86IG51bWJlcixcclxuICAgIHkyPzogbnVtYmVyXHJcbiAgKSB7XHJcbiAgICB0aGlzLnYxID0gbmV3IFZlY3RvcjIoeDEsIHkxKTtcclxuICAgIHRoaXMudjIgPSBuZXcgVmVjdG9yMih4MiwgeTIpO1xyXG4gIH1cclxuICBnZXQgeDEoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnYxLng7XHJcbiAgfVxyXG4gIGdldCB5MSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMudjEueTtcclxuICB9XHJcbiAgZ2V0IHgyKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy52Mi54O1xyXG4gIH1cclxuICBnZXQgeTIoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnYyLnk7XHJcbiAgfVxyXG4gIGxlbigpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMudjIuc3ViKHRoaXMudjEpLmxlbigpO1xyXG4gIH1cclxuICBwb2ludEF0KHQ6IG51bWJlcik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHRoaXMudjEuYWRkKHRoaXMudjIuc3ViKHRoaXMudjEpLm11bCh0KSk7XHJcbiAgfVxyXG4gIGJlZm9yZSh0OiBudW1iZXIpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiB0aGlzLnYxLmFkZCh0aGlzLnYyLnN1Yih0aGlzLnYxKS5tdWwoLXQgLyB0aGlzLmxlbigpKSk7XHJcbiAgfVxyXG4gIGFmdGVyKHQ6IG51bWJlcik6IFZlY3RvcjIge1xyXG4gICAgcmV0dXJuIHRoaXMudjEuYWRkKHRoaXMudjIuc3ViKHRoaXMudjEpLm11bCgodGhpcy5sZW4oKSArIHQpIC8gdGhpcy5sZW4oKSkpO1xyXG4gIH1cclxuICBpbnRlcnNlY3Rpb25UaW1lc1dpdGgob3RoZXI6IExpbmUpOiBWZWN0b3IyIHtcclxuICAgIHJldHVybiB0aGlzLnYxLmludGVyc2VjdGlvblRpbWVzKHRoaXMudjIsIG90aGVyLnYxLCBvdGhlci52Mik7XHJcbiAgfVxyXG4gIHVwZGF0ZShkeDEgPSAwLCBkeTEgPSAwLCBkeDIgPSAwLCBkeTIgPSAwKTogdm9pZCB7XHJcbiAgICB0aGlzLnYxLnggKz0gZHgxO1xyXG4gICAgdGhpcy52MS55ICs9IGR5MTtcclxuICAgIHRoaXMudjIueCArPSBkeDI7XHJcbiAgICB0aGlzLnYyLnkgKz0gZHkyO1xyXG4gIH1cclxufSIsImltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9saW5lXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi92ZWN0b3IyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9seWdvbiB7XHJcbiAgY29uc3RydWN0b3IocmVhZG9ubHkgdmVydGljZXM6IFZlY3RvcjJbXSA9IFtdKSB7XHJcblxyXG4gIH1cclxuICBwcml2YXRlIGFyZWFCZXR3ZWVuKGk6IG51bWJlciwgajogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiAodGhpcy52ZXJ0aWNlc1tqXS54IC0gdGhpcy52ZXJ0aWNlc1tpXS54KSAqICh0aGlzLnZlcnRpY2VzW2ldLnkgKyB0aGlzLnZlcnRpY2VzW2pdLnkpIC8gMjtcclxuICB9XHJcbiAgYXJlYSgpOiBudW1iZXIge1xyXG4gICAgbGV0IGEgPSAwO1xyXG4gICAgbGV0IGkgPSB0aGlzLnZlcnRpY2VzLmxlbmd0aCAtIDE7XHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMudmVydGljZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgYSArPSB0aGlzLmFyZWFCZXR3ZWVuKGksIGopO1xyXG4gICAgICBpID0gajtcclxuICAgIH1cclxuICAgIHJldHVybiBhO1xyXG4gIH1cclxuICBzaGFyZUVkZ2UodTogVmVjdG9yMiwgdjogVmVjdG9yMik6IGJvb2xlYW4ge1xyXG4gICAgbGV0IGkgPSB0aGlzLnZlcnRpY2VzLmxlbmd0aCAtIDE7XHJcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMudmVydGljZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgaWYgKHRoaXMudmVydGljZXNbaV0uZXF1YWxzKHUpICYmIHRoaXMudmVydGljZXNbal0uZXF1YWxzKHYpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgaSA9IGo7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIGludGVyc2VjdGlvbldpdGgobGluZTogTGluZSkge1xyXG4gICAgXHJcbiAgfVxyXG4gIHJldmVyc2UoKTogdm9pZCB7XHJcbiAgICB0aGlzLnZlcnRpY2VzLnJldmVyc2UoKTtcclxuICB9XHJcbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgJHt0aGlzLnZlcnRpY2VzLmxlbmd0aH0gcG9pbnRzOiBgICsgdGhpcy52ZXJ0aWNlcy5tYXAodiA9PiBgKCR7di54LnRvRml4ZWQoKX0sICR7di55LnRvRml4ZWQoKX0pYCkuam9pbignLCAnKSArIGAgKGFyZWE6ICR7dGhpcy5hcmVhKCkudG9GaXhlZCgpfSlgO1xyXG4gIH1cclxufSIsImltcG9ydCB7IFBvbHBsb3RSZW5kZXJlciB9IGZyb20gXCIuL2ludGVyZmFjZXMvcG9scGxvdC1yZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBMaW5lIH0gZnJvbSBcIi4vbGluZVwiO1xyXG5pbXBvcnQgeyBQb2x5Z29uIH0gZnJvbSBcIi4vcG9seWdvblwiO1xyXG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4vdmVjdG9yMlwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvbHBsb3Qge1xyXG4gIGxpbmVzOiBMaW5lW10gPSBbXTtcclxuICBpbnRlcnNlY3Rpb25UaW1lczogbnVtYmVyW11bXSA9IFtdO1xyXG4gIGludGVyc2VjdGlvbnM6IFZlY3RvcjJbXSA9IFtdO1xyXG4gIGludGVyc2VjdGlvbkluZGV4OiBudW1iZXJbXVtdID0gW107XHJcbiAgY29uc3RydWN0b3IocmVhZG9ubHkgcmVuZGVyZXI6IFBvbHBsb3RSZW5kZXJlcikge1xyXG4gICAgbGV0IGRyYWdnZWRMaW5lOiBMaW5lO1xyXG4gICAgbGV0IGRyYWdnZWRWZWN0b3IyOiBWZWN0b3IyO1xyXG5cclxuICAgIHRoaXMucmVuZGVyZXIuc2V0TW91c2VEb3duSGFuZGxlcigoZXZlbnQsIGNsaWNrZWRMaW5lLCBjbGlja2VkVmVjdG9yMikgPT4ge1xyXG4gICAgICBkcmFnZ2VkTGluZSA9IGNsaWNrZWRMaW5lIHx8IG51bGw7XHJcbiAgICAgIGRyYWdnZWRWZWN0b3IyID0gY2xpY2tlZFZlY3RvcjIgfHwgbnVsbDtcclxuICAgICAgaWYgKCFkcmFnZ2VkTGluZSkge1xyXG4gICAgICAgIGRyYWdnZWRMaW5lID0gbmV3IExpbmUoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSwgZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XHJcbiAgICAgICAgZHJhZ2dlZFZlY3RvcjIgPSBkcmFnZ2VkTGluZS52MjtcclxuICAgICAgICB0aGlzLmFkZExpbmUoZHJhZ2dlZExpbmUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgc2VsZWN0ZWRMaW5lOiBMaW5lO1xyXG4gICAgdGhpcy5yZW5kZXJlci5zZXRNb3VzZVVwSGFuZGxlcigoZXZlbnQsIGNsaWNrZWRMaW5lLCBjbGlja2VkVmVjdG9yMikgPT4ge1xyXG4gICAgICBpZiAoY2xpY2tlZExpbmUpIHtcclxuICAgICAgICBpZiAoc2VsZWN0ZWRMaW5lICYmIHNlbGVjdGVkTGluZSAhPT0gY2xpY2tlZExpbmUpIHtcclxuICAgICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd0xpbmUoc2VsZWN0ZWRMaW5lLCBjbGlja2VkTGluZSA9PT0gaG92ZXJlZExpbmUsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZWN0ZWRMaW5lID0gY2xpY2tlZExpbmU7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5kcmF3TGluZShzZWxlY3RlZExpbmUsIGNsaWNrZWRMaW5lID09PSBob3ZlcmVkTGluZSwgdHJ1ZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRMaW5lKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5kcmF3TGluZShzZWxlY3RlZExpbmUsIGNsaWNrZWRMaW5lID09PSBob3ZlcmVkTGluZSwgZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICAgIGRyYWdnZWRMaW5lID0gbnVsbDtcclxuICAgICAgZHJhZ2dlZFZlY3RvcjIgPSBudWxsO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IGhvdmVyZWRMaW5lOiBMaW5lO1xyXG4gICAgdGhpcy5yZW5kZXJlci5zZXRNb3VzZU1vdmVIYW5kbGVyKChldmVudCwgY2xpY2tlZExpbmUsIGNsaWNrZWRWZWN0b3IyKSA9PiB7XHJcbiAgICAgIGlmIChjbGlja2VkTGluZSkge1xyXG4gICAgICAgIGlmIChob3ZlcmVkTGluZSAmJiBob3ZlcmVkTGluZSAhPT0gY2xpY2tlZExpbmUpIHtcclxuICAgICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd0xpbmUoaG92ZXJlZExpbmUsIGZhbHNlLCBjbGlja2VkTGluZSA9PT0gc2VsZWN0ZWRMaW5lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaG92ZXJlZExpbmUgPSBjbGlja2VkTGluZTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLmRyYXdMaW5lKGhvdmVyZWRMaW5lLCB0cnVlLCBjbGlja2VkTGluZSA9PT0gc2VsZWN0ZWRMaW5lKTsgXHJcbiAgICAgIH0gZWxzZSBpZiAoaG92ZXJlZExpbmUpIHtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLmRyYXdMaW5lKGhvdmVyZWRMaW5lLCBmYWxzZSwgY2xpY2tlZExpbmUgPT09IHNlbGVjdGVkTGluZSk7XHJcbiAgICAgICAgaG92ZXJlZExpbmUgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChkcmFnZ2VkTGluZSkge1xyXG4gICAgICAgIGlmIChkcmFnZ2VkVmVjdG9yMikge1xyXG4gICAgICAgICAgZHJhZ2dlZFZlY3RvcjIueCA9IGV2ZW50LmNsaWVudFg7XHJcbiAgICAgICAgICBkcmFnZ2VkVmVjdG9yMi55ID0gZXZlbnQuY2xpZW50WTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZHJhZ2dlZExpbmUudXBkYXRlKGV2ZW50Lm1vdmVtZW50WCwgZXZlbnQubW92ZW1lbnRZLCBldmVudC5tb3ZlbWVudFgsIGV2ZW50Lm1vdmVtZW50WSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudXBkYXRlSW50ZXJzZWN0aW9uVGltZXMoZHJhZ2dlZExpbmUpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZHJhd0xpbmUoZHJhZ2dlZExpbmUsIGRyYWdnZWRMaW5lID09PSBob3ZlcmVkTGluZSwgZHJhZ2dlZExpbmUgPT09IHNlbGVjdGVkTGluZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBhZGRMaW5lKGxpbmU6IExpbmUpOiB2b2lkIHtcclxuICAgIHRoaXMuYWRkSW50ZXJzZWN0aW9uVGltZXMobGluZSk7XHJcbiAgICB0aGlzLmxpbmVzLnB1c2gobGluZSk7XHJcbiAgICB0aGlzLnJlbmRlcmVyLmRyYXdMaW5lKGxpbmUsIGZhbHNlLCBmYWxzZSk7XHJcbiAgfVxyXG4gIGFkZEludGVyc2VjdGlvblRpbWVzKFxyXG4gICAgbGluZTogTGluZSxcclxuICAgIGxpbmVzID0gdGhpcy5saW5lcyxcclxuICAgIGludGVyc2VjdGlvblRpbWVzID0gdGhpcy5pbnRlcnNlY3Rpb25UaW1lcyxcclxuICAgIGludGVyc2VjdGlvbnMgPSB0aGlzLmludGVyc2VjdGlvbnMsXHJcbiAgICBpbnRlcnNlY3Rpb25JbmRleCA9IHRoaXMuaW50ZXJzZWN0aW9uSW5kZXgsXHJcbiAgKTogdm9pZCB7XHJcbiAgICBjb25zdCBuZXdJbnRlcnNlY3Rpb25UaW1lczogbnVtYmVyW10gPSBbXTtcclxuICAgIGNvbnN0IG5ld0ludGVyc2VjdGlvbkluZGV4OiBudW1iZXJbXSA9IFtdO1xyXG4gICAgbGV0IHRpbWVzOiBWZWN0b3IyO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB0aW1lcyA9IGxpbmVzW2ldLmludGVyc2VjdGlvblRpbWVzV2l0aChsaW5lKTtcclxuICAgICAgaW50ZXJzZWN0aW9uVGltZXNbaV0ucHVzaCh0aW1lcy54KTtcclxuICAgICAgaW50ZXJzZWN0aW9ucy5wdXNoKGxpbmVzW2ldLnBvaW50QXQodGltZXMueCkpO1xyXG4gICAgICBpbnRlcnNlY3Rpb25JbmRleFtpXS5wdXNoKGludGVyc2VjdGlvbnMubGVuZ3RoIC0gMSk7XHJcbiAgICAgIG5ld0ludGVyc2VjdGlvblRpbWVzLnB1c2godGltZXMueSk7XHJcbiAgICAgIG5ld0ludGVyc2VjdGlvbkluZGV4LnB1c2goaW50ZXJzZWN0aW9ucy5sZW5ndGggLSAxKTtcclxuICAgIH1cclxuICAgIG5ld0ludGVyc2VjdGlvblRpbWVzLnB1c2goTmFOKTtcclxuICAgIG5ld0ludGVyc2VjdGlvbkluZGV4LnB1c2gobnVsbCk7XHJcbiAgICBpbnRlcnNlY3Rpb25UaW1lcy5wdXNoKG5ld0ludGVyc2VjdGlvblRpbWVzKTtcclxuICAgIGludGVyc2VjdGlvbkluZGV4LnB1c2gobmV3SW50ZXJzZWN0aW9uSW5kZXgpO1xyXG4gICAgdGhpcy5yZW5kZXJJbnRlcnNlY3Rpb25zKCk7XHJcbiAgfVxyXG4gIHVwZGF0ZUludGVyc2VjdGlvblRpbWVzKFxyXG4gICAgbGluZTogTGluZSxcclxuICAgIGxpbmVzID0gdGhpcy5saW5lcyxcclxuICAgIGludGVyc2VjdGlvblRpbWVzID0gdGhpcy5pbnRlcnNlY3Rpb25UaW1lcyxcclxuICAgIGludGVyc2VjdGlvbnMgPSB0aGlzLmludGVyc2VjdGlvbnMsXHJcbiAgICBpbnRlcnNlY3Rpb25JbmRleCA9IHRoaXMuaW50ZXJzZWN0aW9uSW5kZXgsXHJcbiAgKTogdm9pZCB7XHJcbiAgICBjb25zdCBpbmRleCA9IGxpbmVzLmluZGV4T2YobGluZSk7XHJcbiAgICBsZXQgdGltZXM6IFZlY3RvcjI7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChpICE9PSBpbmRleCkge1xyXG4gICAgICAgIHRpbWVzID0gbGluZXNbaV0uaW50ZXJzZWN0aW9uVGltZXNXaXRoKGxpbmUpO1xyXG4gICAgICAgIGludGVyc2VjdGlvblRpbWVzW2ldW2luZGV4XSA9IHRpbWVzLng7XHJcbiAgICAgICAgaW50ZXJzZWN0aW9uVGltZXNbaW5kZXhdW2ldID0gdGltZXMueTtcclxuICAgICAgICBpZiAoaSA8IGluZGV4KSB7XHJcbiAgICAgICAgICBpbnRlcnNlY3Rpb25zW2ludGVyc2VjdGlvbkluZGV4W2ldW2luZGV4XV0gPSBsaW5lc1tpXS5wb2ludEF0KHRpbWVzLngpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpbnRlcnNlY3Rpb25zW2ludGVyc2VjdGlvbkluZGV4W2luZGV4XVtpXV0gPSBsaW5lc1tpXS5wb2ludEF0KHRpbWVzLngpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5yZW5kZXJJbnRlcnNlY3Rpb25zKCk7XHJcbiAgfVxyXG4gIHJlbmRlckludGVyc2VjdGlvbnMoKTogdm9pZCB7XHJcbiAgICAvLyB0aGlzLnJlbmRlcmVyLmNsZWFySW50ZXJzZWN0aW9ucygpO1xyXG4gICAgLy8gdGhpcy5pbnRlcnNlY3Rpb25zLmZvckVhY2goaW50ZXJzZWN0aW9uID0+IHtcclxuICAgIC8vICAgdGhpcy5yZW5kZXJlci5kcmF3UG9pbnQoaW50ZXJzZWN0aW9uKTtcclxuICAgIC8vIH0pO1xyXG4gICAgdGhpcy5yZW5kZXJlci5jbGVhclBvbHlnb25zKCk7XHJcbiAgICBjb25zdCBwYXJ0aWFscyA9IHRoaXMuYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25UaW1lcygpO1xyXG4gICAgY29uc3QgcG9seWdvbkluZGV4ZXMgPSB0aGlzLmJ1aWxkUG9seWdvbkluZGV4ZXNGcm9tUGFydGlhbHMocGFydGlhbHMpO1xyXG4gICAgY29uc3QgcG9seWdvbnMgPSBwb2x5Z29uSW5kZXhlcy5tYXAocG9seWdvbkluZGV4ID0+IG5ldyBQb2x5Z29uKHBvbHlnb25JbmRleC5tYXAoaSA9PiB0aGlzLmludGVyc2VjdGlvbnNbaV0pKSk7XHJcbiAgICBwb2x5Z29ucy5mb3JFYWNoKHBvbHlnb24gPT4ge1xyXG4gICAgICBpZiAocG9seWdvbi5hcmVhKCkgPiAwKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5kcmF3UG9seWdvbihwb2x5Z29uKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHRlc3RTaWRlKHU6IFZlY3RvcjIsIHY6IFZlY3RvcjIsIHc6IFZlY3RvcjIpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB2LnN1Yih1KS5jcm9zcyh3LnN1Yih1KSkgPiAwO1xyXG4gIH1cclxuICBwYXJ0aWFsc092ZXJsYXBzKHAxOiBudW1iZXJbXSwgcDI6IG51bWJlcltdKTogMiB8IDAge1xyXG4gICAgcmV0dXJuIHAxW3AxLmxlbmd0aCAtIDJdID09PSBwMlswXSAmJiBwMVtwMS5sZW5ndGggLSAxXSA9PT0gcDJbMV0gPyAyIDogMDtcclxuICB9XHJcbiAgcGFydGlhbHNNZWV0KHAxOiBudW1iZXJbXSwgcDI6IG51bWJlcltdKTogMSB8IDAge1xyXG4gICAgcmV0dXJuIHAxW3AxLmxlbmd0aCAtIDFdID09PSBwMlswXSA/IDEgOiAwO1xyXG4gIH1cclxuICBidWlsZFBhcnRpYWxzRnJvbUludGVyc2VjdGlvbkluZGV4ZXMoXHJcbiAgICBjZW50ZXI6IG51bWJlcixcclxuICAgIGluZGV4ZXM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLFxyXG4gICk6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXVtdIHtcclxuICAgIGNvbnN0IHBhcnRzOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl1bXSA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgaW5kZXhlc1tpXSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICBsZXQgaiA9IGkgKyAxO1xyXG4gICAgICAgIGlmIChqID09PSBpbmRleGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgaiA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoaWxlICh0eXBlb2YgaW5kZXhlc1tqXSAhPT0gJ251bWJlcicpwqB7XHJcbiAgICAgICAgICBqKys7XHJcbiAgICAgICAgICBpZiAoaiA9PT0gaW5kZXhlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaiA9IDA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpICE9PSBqKSB7XHJcbiAgICAgICAgICBwYXJ0cy5wdXNoKFtpbmRleGVzW2ldLCBjZW50ZXIsIGluZGV4ZXNbal1dKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBwYXJ0cztcclxuICB9XHJcbiAgYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25UaW1lcyhcclxuICAgIGxpbmVzID0gdGhpcy5saW5lcyxcclxuICAgIGludGVyc2VjdGlvblRpbWVzID0gdGhpcy5pbnRlcnNlY3Rpb25UaW1lcyxcclxuICAgIGludGVyc2VjdGlvbkluZGV4ID0gdGhpcy5pbnRlcnNlY3Rpb25JbmRleFxyXG4gICk6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXVtdIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdidWlsZFBhcnRpYWxzRnJvbUludGVyc2VjdGlvblRpbWVzJyk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2xpbmVzLmxlbmd0aCA9ICcsIGxpbmVzLmxlbmd0aCk7XHJcbiAgICBjb25zdCBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXkgPSBpbnRlcnNlY3Rpb25UaW1lc1xyXG4gICAgICAubWFwKChpbnRlcnNlY3Rpb25UaW1lc0F0SSwgaSkgPT4ge1xyXG4gICAgICAgIHJldHVybiBpbnRlcnNlY3Rpb25UaW1lc0F0SVxyXG4gICAgICAgICAgLm1hcCgoXywgaikgPT4gailcclxuICAgICAgICAgIC5maWx0ZXIoaiA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAhaXNOYU4oaW50ZXJzZWN0aW9uVGltZXNBdElbal0pICYmIDAgPD0gaW50ZXJzZWN0aW9uVGltZXNBdElbal0gJiYgaW50ZXJzZWN0aW9uVGltZXNBdElbal0gPD0gMSAmJlxyXG4gICAgICAgICAgICAgICFpc05hTihpbnRlcnNlY3Rpb25UaW1lc1tqXVtpXSkgJiYgMCA8PSBpbnRlcnNlY3Rpb25UaW1lc1tqXVtpXSAmJiBpbnRlcnNlY3Rpb25UaW1lc1tqXVtpXSA8PSAxO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5zb3J0KChpLCBqKSA9PiBpbnRlcnNlY3Rpb25UaW1lc0F0SVtpXSAtIGludGVyc2VjdGlvblRpbWVzQXRJW2pdKTtcclxuICAgICAgfSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXkpO1xyXG4gICAgY29uc3QgcGFydGlhbHM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXVtdID0gW107XHJcbiAgICBmb3IgKGxldCBsb2NhbEluZGV4ID0gMDsgbG9jYWxJbmRleCA8IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheS5sZW5ndGg7IGxvY2FsSW5kZXgrKykge1xyXG4gICAgICBmb3IgKGxldCBsb2NhbEludGVySW5kZXggPSAwOyBsb2NhbEludGVySW5kZXggPCBpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbbG9jYWxJbmRleF0ubGVuZ3RoOyBsb2NhbEludGVySW5kZXgrKykge1xyXG4gICAgICAgIGNvbnN0IGZvcmVpZ25JbmRleCA9IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtsb2NhbEluZGV4XVtsb2NhbEludGVySW5kZXhdO1xyXG4gICAgICAgIGlmIChsb2NhbEluZGV4IDwgZm9yZWlnbkluZGV4KSB7XHJcbiAgICAgICAgICBjb25zdCBpbnRlciA9IGludGVyc2VjdGlvbkluZGV4W2xvY2FsSW5kZXhdW2ludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtsb2NhbEluZGV4XVtsb2NhbEludGVySW5kZXhdXTtcclxuXHJcbiAgICAgICAgICBjb25zdCBwcmV2TG9jYWxJbnRlckluZGV4ID0gbG9jYWxJbnRlckluZGV4IC0gMTtcclxuICAgICAgICAgIGNvbnN0IG5leHRMb2NhbEludGVySW5kZXggPSBsb2NhbEludGVySW5kZXggKyAxO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGZvcmVpZ25JbnRlckluZGV4ID0gaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2ZvcmVpZ25JbmRleF0uZmluZEluZGV4KGkgPT4gaSA9PT0gbG9jYWxJbmRleCk7XHJcbiAgICAgICAgICBjb25zdCBmb3JlaWduaXNSaWdodFNpZGVkID0gdGhpcy50ZXN0U2lkZShsaW5lc1tsb2NhbEluZGV4XS52MSwgbGluZXNbbG9jYWxJbmRleF0udjIsIGxpbmVzW2ZvcmVpZ25JbmRleF0udjEpO1xyXG4gICAgICAgICAgY29uc3QgcHJldkZvcmVpZ25JbnRlckluZGV4ID0gZm9yZWlnbmlzUmlnaHRTaWRlZCA/IGZvcmVpZ25JbnRlckluZGV4IC0gMSA6IGZvcmVpZ25JbnRlckluZGV4ICsgMTtcclxuICAgICAgICAgIGNvbnN0IG5leHRGb3JlaWduSW50ZXJJbmRleCA9IGZvcmVpZ25pc1JpZ2h0U2lkZWQgPyBmb3JlaWduSW50ZXJJbmRleCArIDEgOiBmb3JlaWduSW50ZXJJbmRleCAtIDE7XHJcblxyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coYFxyXG4gICAgICAgICAgLy8gICBsb2NhbEluZGV4OiAke2xvY2FsSW5kZXh9XHJcbiAgICAgICAgICAvLyAgIGxvY2FsSW50ZXJzZWN0aW9ucyAke2ludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtsb2NhbEluZGV4XVxyXG4gICAgICAgICAgLy8gICAgIC5tYXAoKF8sIGkpID0+IGkgPT09IGxvY2FsSW50ZXJJbmRleCA/IGBbJHtffV1gIDogXylcclxuICAgICAgICAgIC8vICAgICAuam9pbignLCAnKX1cclxuICAgICAgICAgIC8vICAgZm9yZWlnbkluZGV4OiAke2ZvcmVpZ25JbmRleH1cclxuICAgICAgICAgIC8vICAgZm9yZWlnbkludGVyc2VjdGlvbnMgJHtpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbZm9yZWlnbkluZGV4XVxyXG4gICAgICAgICAgLy8gICAgIC5tYXAoKF8sIGkpID0+IGkgPT09IGZvcmVpZ25JbnRlckluZGV4ID8gYFske199XWAgOiBfKVxyXG4gICAgICAgICAgLy8gICAgIC5qb2luKCcsICcpfVxyXG4gICAgICAgICAgLy8gYCk7XHJcblxyXG4gICAgICAgICAgY29uc3QgcHJldkxvY2FsSW50ZXIgPSAwIDwgbG9jYWxJbnRlckluZGV4XHJcbiAgICAgICAgICAgID8gaW50ZXJzZWN0aW9uSW5kZXhbbG9jYWxJbmRleF1baW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2xvY2FsSW5kZXhdW3ByZXZMb2NhbEludGVySW5kZXhdXVxyXG4gICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICBjb25zdCBuZXh0TG9jYWxJbnRlciA9IGxvY2FsSW50ZXJJbmRleCA8IGludGVyc2VjdGlvblRpbWVzU29ydGVkSW5kZXhBcnJheVtsb2NhbEluZGV4XS5sZW5ndGggLSAxXHJcbiAgICAgICAgICAgID8gaW50ZXJzZWN0aW9uSW5kZXhbbG9jYWxJbmRleF1baW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2xvY2FsSW5kZXhdW25leHRMb2NhbEludGVySW5kZXhdXVxyXG4gICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICBjb25zdCBwcmV2Rm9yZWlnbkludGVyID0gLTEgPCBwcmV2Rm9yZWlnbkludGVySW5kZXggJiYgcHJldkZvcmVpZ25JbnRlckluZGV4IDwgaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2ZvcmVpZ25JbmRleF0ubGVuZ3RoXHJcbiAgICAgICAgICAgID8gaW50ZXJzZWN0aW9uSW5kZXhbZm9yZWlnbkluZGV4XVtpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbZm9yZWlnbkluZGV4XVtwcmV2Rm9yZWlnbkludGVySW5kZXhdXVxyXG4gICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICBjb25zdCBuZXh0Rm9yZWlnbkludGVyID0gLTEgPCBuZXh0Rm9yZWlnbkludGVySW5kZXggJiYgbmV4dEZvcmVpZ25JbnRlckluZGV4IDwgaW50ZXJzZWN0aW9uVGltZXNTb3J0ZWRJbmRleEFycmF5W2ZvcmVpZ25JbmRleF0ubGVuZ3RoXHJcbiAgICAgICAgICAgID8gaW50ZXJzZWN0aW9uSW5kZXhbZm9yZWlnbkluZGV4XVtpbnRlcnNlY3Rpb25UaW1lc1NvcnRlZEluZGV4QXJyYXlbZm9yZWlnbkluZGV4XVtuZXh0Rm9yZWlnbkludGVySW5kZXhdXVxyXG4gICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIF5cclxuICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gICAgICAgICAgLy8gICAgICAgICAgICAgICAgbmV4dEZvcmVpZ25JbnRlclxyXG4gICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAgICAgICAgICAvLyAgLS0tcHJldkxvY2FsSW50ZXItLS1pbnRlci0tLW5leHRMb2NhbEludGVyLS0tPlxyXG4gICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAgICAgICAgICAvLyAgICAgICAgICAgICAgICBwcmV2Rm9yZWlnbkludGVyXHJcbiAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICAgICAgICAgIGNvbnN0IHBhcnRzID0gdGhpcy5idWlsZFBhcnRpYWxzRnJvbUludGVyc2VjdGlvbkluZGV4ZXMoXHJcbiAgICAgICAgICAgIGludGVyLFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgcHJldkxvY2FsSW50ZXIsXHJcbiAgICAgICAgICAgICAgbmV4dEZvcmVpZ25JbnRlcixcclxuICAgICAgICAgICAgICBuZXh0TG9jYWxJbnRlcixcclxuICAgICAgICAgICAgICBwcmV2Rm9yZWlnbkludGVyXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBwYXJ0aWFscy5wdXNoKC4uLnBhcnRzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGNvbnNvbGUubG9nKCdwYXJ0aWFscycsIHBhcnRpYWxzKTtcclxuICAgIHJldHVybiBwYXJ0aWFscztcclxuICB9XHJcbiAgYnVpbGRQb2x5Z29uSW5kZXhlc0Zyb21QYXJ0aWFscyhwYXJ0aWFsczogW251bWJlciwgbnVtYmVyLCBudW1iZXJdW10pOiBudW1iZXJbXVtdIHtcclxuICAgIGNvbnN0IHBvbHlnb25JbmRleGVzOiBudW1iZXJbXVtdID0gW107XHJcbiAgICBsZXQgaSA9IDA7XHJcbiAgICBsZXQgb3ZlcmxhcDogbnVtYmVyO1xyXG4gICAgd2hpbGUgKGkgPCBwYXJ0aWFscy5sZW5ndGgpIHtcclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwYXJ0aWFscy5sZW5ndGg7IGorKynCoHtcclxuICAgICAgICBpZiAoaSAhPT0gaikge1xyXG4gICAgICAgICAgaWYgKHRoaXMucGFydGlhbHNPdmVybGFwcyhwYXJ0aWFsc1tpXSwgcGFydGlhbHNbal0pKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBcclxuICAgICAgICAgICAgLy8gICBwYXJ0aWFsc1tpXTogJHtwYXJ0aWFsc1tpXS50b1N0cmluZygpfSxcclxuICAgICAgICAgICAgLy8gICBwYXJ0aWFsc1tqXTogJHtwYXJ0aWFsc1tqXS50b1N0cmluZygpfSxcclxuICAgICAgICAgICAgLy8gYCk7XHJcbiAgICAgICAgICAgIHBhcnRpYWxzW2ldLnNwbGljZSgtMiwgMiwgLi4ucGFydGlhbHNbal0pO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgXHJcbiAgICAgICAgICAgIC8vICAgcGFydGlhbHNbaV06ICR7cGFydGlhbHNbaV0udG9TdHJpbmcoKX0gW05FV10sXHJcbiAgICAgICAgICAgIC8vIGApO1xyXG4gICAgICAgICAgICBwYXJ0aWFscy5zcGxpY2UoaiwgMSk7XHJcbiAgICAgICAgICAgIGlmIChqIDwgaSkge1xyXG4gICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvdmVybGFwID0gdGhpcy5wYXJ0aWFsc092ZXJsYXBzKHBhcnRpYWxzW2ldLCBwYXJ0aWFsc1tpXSkgfHwgdGhpcy5wYXJ0aWFsc01lZXQocGFydGlhbHNbaV0sIHBhcnRpYWxzW2ldKTtcclxuICAgICAgICAgICAgaWYgKG92ZXJsYXAgPiAwKSB7XHJcbiAgICAgICAgICAgICAgcGFydGlhbHNbaV0uc3BsaWNlKDAsIG92ZXJsYXApO1xyXG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGBcclxuICAgICAgICAgICAgICAvLyAgIHBhcnRpYWxzW2ldOiAke3BhcnRpYWxzW2ldLnRvU3RyaW5nKCl9IFtDTE9TRURdLFxyXG4gICAgICAgICAgICAgIC8vIGApO1xyXG4gICAgICAgICAgICAgIHBvbHlnb25JbmRleGVzLnB1c2gocGFydGlhbHNbaV0pO1xyXG4gICAgICAgICAgICAgIHBhcnRpYWxzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpID0gLTE7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpKys7XHJcbiAgICB9XHJcbiAgICAvLyBjb25zb2xlLmxvZygnaW5jb21wbGV0ZSBwb2x5Z29ucycpO1xyXG4gICAgLy8gcGFydGlhbHMubWFwKHAgPT4gY29uc29sZS5sb2cocC50b1N0cmluZygpKSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygncG9seWdvbnMnLCBwb2x5Z29ucyk7XHJcbiAgICAvLyBwb2x5Z29ucy5tYXAocCA9PiBjb25zb2xlLmxvZyhwLnRvU3RyaW5nKCkpKTtcclxuICAgIHJldHVybiBwb2x5Z29uSW5kZXhlcztcclxuICB9XHJcbn1cclxuXHJcbi8vIGNvbnN0IGxpbmVzOiBMaW5lW10gPSBbXTtcclxuLy8gY29uc3QgaVRpbWVzOiBudW1iZXJbXVtdID0gW107XHJcbi8vIGNvbnN0IGlQb2ludHM6IFZlY3RvcjJbXVtdID0gW107XHJcbi8vIFtcclxuLy8gICBbMzAwLCAzMDAsIDYwMCwgNjAwXSxcclxuLy8gICBbMzAwLCA2MDAsIDYwMCwgMzAwXSxcclxuLy8gICBbNDAwLCAzMDAsIDMwMCwgNDAwXSxcclxuLy8gICBbNTAwLCA2MDAsIDYwMCwgNDAwXSxcclxuLy8gICBbMzAwLCA1MDAsIDQwMCwgNjAwXSxcclxuLy8gICBbNTAwLCA2MDAsIDYwMCwgNDAwXSxcclxuLy8gXS5mb3JFYWNoKChbeDEsIHkxLCB4MiwgeTJdKSA9PiB7XHJcbi8vICAgdGhpcy5hZGRJbnRlcnNlY3Rpb25UaW1lcyhsMSwgbGluZXMsIGlUaW1lcywgaVBvaW50cyk7XHJcbi8vICAgbGluZXMucHVzaChsMSk7XHJcbi8vIH0pO1xyXG4vLyBjb25zdCBwYXJ0aWFscyA9IHRoaXMuYnVpbGRQYXJ0aWFsc0Zyb21JbnRlcnNlY3Rpb25UaW1lcyhsaW5lcywgaVRpbWVzKTtcclxuLy8gY29uc29sZS5sb2cocGFydGlhbHMpOyIsImltcG9ydCB7IENsaWNrSGFuZGxlciwgUG9scGxvdFJlbmRlcmVyIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9wb2xwbG90LXJlbmRlcmVyXCI7XHJcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9saW5lXCI7XHJcbmltcG9ydCB7IFBvbHlnb24gfSBmcm9tIFwiLi9wb2x5Z29uXCI7XHJcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi92ZWN0b3IyXCI7XHJcblxyXG5jb25zdCBnVGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2cnKTtcclxuZ1RlbXBsYXRlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2JsYWNrJyk7XHJcbmdUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICcwLjRweCcpO1xyXG5cclxuY29uc3QgbGluZVRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdsaW5lJyk7XHJcbmxpbmVUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAnMTAsIDQsIDEsIDQnKTtcclxuXHJcbmNvbnN0IGFuY2hvclRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XHJcbmFuY2hvclRlbXBsYXRlLnNldEF0dHJpYnV0ZShcclxuICAnZCcsXHJcbiAgJ00gMCwgMCcgK1xyXG4gICdBIDEwLCAxMCwgMCwgMCwgMCwgLTUsIC01JyArIFxyXG4gICdBIDEwLCAxMCwgMCwgMSwgMSwgNSwgLTUnICtcclxuICAnQSAxMCwgMTAsIDAsIDAsIDAsIDAsIDAnXHJcbik7XHJcbmFuY2hvclRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnZmlsbCcsICd3aGl0ZScpO1xyXG5cclxuZ1RlbXBsYXRlLmFwcGVuZENoaWxkKGxpbmVUZW1wbGF0ZSk7XHJcbmdUZW1wbGF0ZS5hcHBlbmRDaGlsZChhbmNob3JUZW1wbGF0ZSk7XHJcbmdUZW1wbGF0ZS5hcHBlbmRDaGlsZChhbmNob3JUZW1wbGF0ZS5jbG9uZU5vZGUoKSk7XHJcblxyXG5jb25zdCBwb2ludFRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdjaXJjbGUnKTtcclxucG9pbnRUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnZ3JlZW4nKTtcclxucG9pbnRUZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ3InLCAnMycpO1xyXG5cclxuY29uc3QgcG9seWdvblRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJyk7XHJcbnBvbHlnb25UZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnZ3JlZW4nKTtcclxucG9seWdvblRlbXBsYXRlLnNldEF0dHJpYnV0ZSgnZmlsbC1vcGFjaXR5JywgJzAuNycpO1xyXG5wb2x5Z29uVGVtcGxhdGUuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMycpO1xyXG5wb2x5Z29uVGVtcGxhdGUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnZ3JleScpO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN2Z1JlbmRlcmVyIGltcGxlbWVudHMgUG9scGxvdFJlbmRlcmVyIHtcclxuICByZWFkb25seSBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpO1xyXG4gIHByaXZhdGUgaW50ZXJzZWN0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyk7XHJcbiAgcHJpdmF0ZSBwb2x5Z29uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdnJyk7XHJcbiAgcHJpdmF0ZSBzdmdHQnlMaW5lID0gbmV3IE1hcDxMaW5lLCBTVkdHRWxlbWVudD4oKTtcclxuICBwcml2YXRlIGxpbmVCeVN2Z0cgPSBuZXcgTWFwPFNWR0dFbGVtZW50LCBMaW5lPigpO1xyXG4gIHByaXZhdGUgb25Nb3VzZURvd246IChldmVudDogTW91c2VFdmVudCkgPT4gYW55O1xyXG4gIHByaXZhdGUgb25Nb3VzZVVwOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IGFueTtcclxuICBwcml2YXRlIG9uTW91c2VNb3ZlOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IGFueTtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKHRoaXMuaW50ZXJzZWN0aW9uQ29udGFpbmVyKTtcclxuICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKHRoaXMucG9seWdvbkNvbnRhaW5lcik7XHJcbiAgfVxyXG4gIGNsaWNrSGFuZGxlcldyYXBwZXIoY2xpY2tIYW5kbGVyOiBDbGlja0hhbmRsZXIpOiAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IGFueSB7XHJcbiAgICByZXR1cm4gZXZlbnQgPT4ge1xyXG4gICAgICBjb25zdCBlbGVtZW50QXQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xyXG4gICAgICBjb25zdCBsaW5lID0gdGhpcy5saW5lQnlTdmdHLmdldChlbGVtZW50QXQucGFyZW50Tm9kZSBhcyBTVkdHRWxlbWVudCk7XHJcbiAgICAgIGlmIChlbGVtZW50QXQgaW5zdGFuY2VvZiBTVkdQYXRoRWxlbWVudCAmJiBlbGVtZW50QXQucGFyZW50Tm9kZSAhPT0gdGhpcy5wb2x5Z29uQ29udGFpbmVyKSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnRBdC5wYXJlbnROb2RlLmNoaWxkcmVuWzFdID09PSBlbGVtZW50QXQpIHtcclxuICAgICAgICAgIGNsaWNrSGFuZGxlcihldmVudCwgbGluZSwgbGluZS52MSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNsaWNrSGFuZGxlcihldmVudCwgbGluZSwgbGluZS52Mik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGVsZW1lbnRBdCBpbnN0YW5jZW9mIFNWR0xpbmVFbGVtZW50KSB7XHJcbiAgICAgICAgY2xpY2tIYW5kbGVyKGV2ZW50LCBsaW5lKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjbGlja0hhbmRsZXIoZXZlbnQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuICBzZXRNb3VzZURvd25IYW5kbGVyKGNsaWNrSGFuZGxlcjogQ2xpY2tIYW5kbGVyKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5vbk1vdXNlRG93bikge1xyXG4gICAgICB0aGlzLnN2Zy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duKTtcclxuICAgIH1cclxuICAgIHRoaXMub25Nb3VzZURvd24gPSB0aGlzLmNsaWNrSGFuZGxlcldyYXBwZXIoY2xpY2tIYW5kbGVyKTtcclxuICAgIHRoaXMuc3ZnLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24pO1xyXG4gIH1cclxuICBzZXRNb3VzZVVwSGFuZGxlcihjbGlja0hhbmRsZXI6IENsaWNrSGFuZGxlcik6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMub25Nb3VzZVVwKSB7XHJcbiAgICAgIHRoaXMuc3ZnLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uTW91c2VVcCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLm9uTW91c2VVcCA9IHRoaXMuY2xpY2tIYW5kbGVyV3JhcHBlcihjbGlja0hhbmRsZXIpO1xyXG4gICAgdGhpcy5zdmcuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwKTtcclxuICB9XHJcbiAgc2V0TW91c2VNb3ZlSGFuZGxlcihjbGlja0hhbmRsZXI6IENsaWNrSGFuZGxlcik6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMub25Nb3VzZU1vdmUpIHtcclxuICAgICAgdGhpcy5zdmcucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLm9uTW91c2VNb3ZlID0gdGhpcy5jbGlja0hhbmRsZXJXcmFwcGVyKGNsaWNrSGFuZGxlcik7XHJcbiAgICB0aGlzLnN2Zy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlKTtcclxuICB9XHJcbiAgZHJhd0xpbmUobGluZTogTGluZSwgaXNIb3ZlcmVkID0gZmFsc2UsIGlzU2VsZWN0ZWQgPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgbGV0IHN2Z0c6IFNWR0dFbGVtZW50O1xyXG4gICAgaWYgKCF0aGlzLnN2Z0dCeUxpbmUuaGFzKGxpbmUpKSB7XHJcbiAgICAgIHN2Z0cgPSBnVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpIGFzIFNWR0dFbGVtZW50O1xyXG4gICAgICB0aGlzLnN2Zy5hcHBlbmRDaGlsZChzdmdHKTtcclxuICAgICAgdGhpcy5zdmdHQnlMaW5lLnNldChsaW5lLCBzdmdHKTtcclxuICAgICAgdGhpcy5saW5lQnlTdmdHLnNldChzdmdHLCBsaW5lKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHN2Z0cgPSB0aGlzLnN2Z0dCeUxpbmUuZ2V0KGxpbmUpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgc3ZnTGluZSA9IHN2Z0cuY2hpbGRyZW5bMF0gYXMgU1ZHTGluZUVsZW1lbnQ7XHJcbiAgICBjb25zdCBzdmdQYXRoQW5jaG9yU3RhcnQgPSBzdmdHLmNoaWxkcmVuWzFdIGFzIFNWR1BhdGhFbGVtZW50O1xyXG4gICAgY29uc3Qgc3ZnUGF0aEFuY2hvckVuZCA9IHN2Z0cuY2hpbGRyZW5bMl0gYXMgU1ZHUGF0aEVsZW1lbnQ7XHJcbiAgICBjb25zdCB4MSA9IGxpbmUueDEudG9GaXhlZCgpO1xyXG4gICAgY29uc3QgeTEgPSBsaW5lLnkxLnRvRml4ZWQoKTtcclxuICAgIGNvbnN0IHgyID0gbGluZS54Mi50b0ZpeGVkKCk7XHJcbiAgICBjb25zdCB5MiA9IGxpbmUueTIudG9GaXhlZCgpO1xyXG4gICAgc3ZnTGluZS5zZXRBdHRyaWJ1dGUoJ3gxJywgeDEpO1xyXG4gICAgc3ZnTGluZS5zZXRBdHRyaWJ1dGUoJ3kxJywgeTEpO1xyXG4gICAgc3ZnTGluZS5zZXRBdHRyaWJ1dGUoJ3gyJywgeDIpO1xyXG4gICAgc3ZnTGluZS5zZXRBdHRyaWJ1dGUoJ3kyJywgeTIpO1xyXG4gICAgaWYgKGlzSG92ZXJlZCkge1xyXG4gICAgICBzdmdHLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzAuOHB4Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdmdHLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzAuNHB4Jyk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNTZWxlY3RlZCkge1xyXG4gICAgICBzdmdHLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJyMxOWExOTQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHN2Z0cuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGFuZ2xlID0gMTgwICogKGxpbmUudjIuc3ViKGxpbmUudjEpLmFuZ2xlKCkgLSBNYXRoLlBJIC8gMikgLyBNYXRoLlBJO1xyXG4gICAgc3ZnUGF0aEFuY2hvclN0YXJ0LnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3gxfSwgJHt5MX0pIHJvdGF0ZSgke2lzTmFOKGFuZ2xlKSA/IDAgOiBhbmdsZX0pYCk7XHJcbiAgICBzdmdQYXRoQW5jaG9yRW5kLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3gyfSwgJHt5Mn0pIHJvdGF0ZSgke2lzTmFOKGFuZ2xlKSA/IDAgOiAxODAgKyBhbmdsZX0pYCk7XHJcbiAgfVxyXG4gIGVyYXNlTGluZShsaW5lOiBMaW5lKTogdm9pZCB7XHJcbiAgICBjb25zdCBzdmdHID0gdGhpcy5zdmdHQnlMaW5lLmdldChsaW5lKTtcclxuICAgIGlmIChzdmdHKSB7XHJcbiAgICAgIHRoaXMuc3ZnLnJlbW92ZUNoaWxkKHN2Z0cpO1xyXG4gICAgICB0aGlzLnN2Z0dCeUxpbmUuZGVsZXRlKGxpbmUpO1xyXG4gICAgfVxyXG4gIH1cclxuICBkcmF3UG9pbnQocG9pbnQ6IFZlY3RvcjIpOiB2b2lkIHtcclxuICAgIGNvbnN0IHN2Z0NpcmNsZSA9IHBvaW50VGVtcGxhdGUuY2xvbmVOb2RlKCkgYXMgU1ZHQ2lyY2xlRWxlbWVudDtcclxuICAgIHN2Z0NpcmNsZS5zZXRBdHRyaWJ1dGUoJ2N4JywgcG9pbnQueC50b0ZpeGVkKCkpO1xyXG4gICAgc3ZnQ2lyY2xlLnNldEF0dHJpYnV0ZSgnY3knLCBwb2ludC55LnRvRml4ZWQoKSk7XHJcbiAgICB0aGlzLmludGVyc2VjdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChzdmdDaXJjbGUpO1xyXG4gIH1cclxuICBwcml2YXRlIGNsZWFyQ29udGFpbmVyKGNvbnRhaW5lcjogU1ZHR0VsZW1lbnQpOiB2b2lkIHtcclxuICAgIHdoaWxlIChjb250YWluZXIuZmlyc3RDaGlsZCkge1xyXG4gICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xyXG4gICAgfVxyXG4gIH1cclxuICBjbGVhckludGVyc2VjdGlvbnMoKTogdm9pZCB7XHJcbiAgICB0aGlzLmNsZWFyQ29udGFpbmVyKHRoaXMuaW50ZXJzZWN0aW9uQ29udGFpbmVyKTtcclxuICB9XHJcbiAgZHJhd1BvbHlnb24ocG9seWdvbjogUG9seWdvbik6IHZvaWQge1xyXG4gICAgY29uc3Qgc3ZnUGF0aCA9IHBvbHlnb25UZW1wbGF0ZS5jbG9uZU5vZGUoKSBhcyBTVkdQYXRoRWxlbWVudDtcclxuICAgIHN2Z1BhdGguc2V0QXR0cmlidXRlKCdkJywgJ00gJyArIHBvbHlnb24udmVydGljZXMubWFwKHYgPT4gYCR7di54LnRvRml4ZWQoKX0gJHt2LnkudG9GaXhlZCgpfWApLmpvaW4oJyBMICcpICsgJ1onKTtcclxuICAgIHN2Z1BhdGguc2V0QXR0cmlidXRlKCdmaWxsJywgJyMnICsgKE1hdGguZmxvb3IoKDE2Nzc3MjE1IC0gMWU1KSAqIE1hdGgucmFuZG9tKCkpICsgMWU1KS50b1N0cmluZygxNikpO1xyXG4gICAgdGhpcy5wb2x5Z29uQ29udGFpbmVyLmFwcGVuZENoaWxkKHN2Z1BhdGgpO1xyXG4gIH1cclxuICBjbGVhclBvbHlnb25zKCk6IHZvaWQge1xyXG4gICAgdGhpcy5jbGVhckNvbnRhaW5lcih0aGlzLnBvbHlnb25Db250YWluZXIpO1xyXG4gIH1cclxufSIsImltcG9ydCB7IFBvbHBsb3QgfSBmcm9tIFwiLi9wb2xwbG90XCI7XHJcbmltcG9ydCB7IFN2Z1JlbmRlcmVyIH0gZnJvbSBcIi4vc3ZnLXJlbmRlcmVyXCI7XHJcblxyXG5jb25zdCBzdmdSZW5kZXJlciA9IG5ldyBTdmdSZW5kZXJlcigpO1xyXG5jb25zdCBwb2xwbG90ID0gbmV3IFBvbHBsb3Qoc3ZnUmVuZGVyZXIpO1xyXG5jb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG5ib2R5LmFwcGVuZENoaWxkKHN2Z1JlbmRlcmVyLnN2Zyk7Il0sInNvdXJjZVJvb3QiOiIifQ==